(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["createunithouse"],{"0555":function(e,t,i){"use strict";var o=i("1646"),a=i.n(o);a.a},"066b":function(e,t,i){"use strict";var o=i("a3a0"),a=i.n(o);a.a},"0808":function(e,t,i){},"0981":function(e,t,i){},"0d02":function(e,t,i){},"0d34":function(e,t,i){},1173:function(e,t){e.exports=function(e,t,i,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(i+": incorrect invocation!");return e}},"152d":function(e,t,i){"use strict";var o=i("0981"),a=i.n(o);a.a},1646:function(e,t,i){},1651:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"blate-container"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.menuIconIsShow.isShowMenu,expression:"menuIconIsShow.isShowMenu"}],staticClass:"step-content"},[i("ul",{staticClass:"step-ul"},[e.menuIconIsShow.positionClickable?i("li",{class:{active:0==e.isActive},on:{click:function(t){return e.tagbToogle(0)}}},[i("div",{staticClass:"step-img stepList1"}),i("span",[e._v("房屋位置")]),e.menuIconIsShow.positionCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e(),i("Icon",{directives:[{name:"show",rawName:"v-show",value:1===e.menuIconIsShow.positionAuditReject,expression:"menuIconIsShow.positionAuditReject === 1"}],staticClass:"icon-img",attrs:{type:"android-alert",color:"#FF6666",size:"20"}})],1):i("li",{class:{active:0==e.isActive}},[i("div",{staticClass:"step-img stepList1"}),i("span",[e._v("房屋位置")]),e.menuIconIsShow.positionCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e()],1),e.menuIconIsShow.detailClickable?i("li",{class:{active:1==e.isActive},on:{click:function(t){return e.tagbToogle(1)}}},[i("div",{staticClass:"step-img stepList2"}),i("span",[e._v("房屋详情")]),e.menuIconIsShow.detailCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e(),i("Icon",{directives:[{name:"show",rawName:"v-show",value:1===e.menuIconIsShow.detailAuditReject,expression:"menuIconIsShow.detailAuditReject === 1"}],staticClass:"icon-img",attrs:{type:"android-alert",color:"#FF6666",size:"20"}})],1):i("li",{class:{active:1==e.isActive}},[i("div",{staticClass:"step-img stepList2"}),i("span",{staticStyle:{color:"#ddd"}},[e._v("房屋详情")]),e.menuIconIsShow.detailCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e()],1),e.menuIconIsShow.descriptionClickable?i("li",{class:{active:2==e.isActive},on:{click:function(t){return e.tagbToogle(2)}}},[i("div",{staticClass:"step-img stepList3"}),i("span",[e._v("房屋描述")]),e.menuIconIsShow.descriptionCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e(),i("Icon",{directives:[{name:"show",rawName:"v-show",value:1===e.menuIconIsShow.descriptionAuditReject,expression:"menuIconIsShow.descriptionAuditReject === 1"}],staticClass:"icon-img",attrs:{type:"android-alert",color:"#FF6666",size:"20"}})],1):i("li",{class:{active:2==e.isActive}},[i("div",{staticClass:"step-img stepList3"}),i("span",{staticStyle:{color:"#ddd"}},[e._v("房屋描述")]),e.menuIconIsShow.descriptionCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e()],1),e.menuIconIsShow.facilityClickable?i("li",{class:{active:3==e.isActive},on:{click:function(t){return e.tagbToogle(3)}}},[i("div",{staticClass:"step-img stepList4"}),i("span",[e._v("设施服务")]),e.menuIconIsShow.facilityCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e(),i("Icon",{directives:[{name:"show",rawName:"v-show",value:1===e.menuIconIsShow.facilityAuditReject,expression:"menuIconIsShow.facilityAuditReject === 1"}],staticClass:"icon-img",attrs:{type:"android-alert",color:"#FF6666",size:"20"}})],1):i("li",{class:{active:3==e.isActive}},[i("div",{staticClass:"step-img stepList4"}),i("span",{staticStyle:{color:"#ddd"}},[e._v("设施服务")]),e.menuIconIsShow.facilityCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e()],1),e.menuIconIsShow.explanationClickable?i("li",{class:{active:4==e.isActive},on:{click:function(t){return e.tagbToogle(4)}}},[i("div",{staticClass:"step-img stepList5"}),i("span",[e._v("入住规则")]),e.menuIconIsShow.explanationCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e(),i("Icon",{directives:[{name:"show",rawName:"v-show",value:1===e.menuIconIsShow.explanationAuditReject,expression:"menuIconIsShow.explanationAuditReject === 1"}],staticClass:"icon-img",attrs:{type:"android-alert",color:"#FF6666",size:"20"}})],1):i("li",{class:{active:4==e.isActive}},[i("div",{staticClass:"step-img stepList5"}),i("span",{staticStyle:{color:"#ddd"}},[e._v("入住规则")]),e.menuIconIsShow.explanationCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e()],1),e.menuIconIsShow.imageClickable?i("li",{class:{active:5==e.isActive},on:{click:function(t){return e.tagbToogle(5)}}},[i("div",{staticClass:"step-img stepList7"}),i("span",[e._v("房屋照片")]),e.menuIconIsShow.imageCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e(),i("Icon",{directives:[{name:"show",rawName:"v-show",value:1===e.menuIconIsShow.imageAuditReject,expression:"menuIconIsShow.imageAuditReject === 1"}],staticClass:"icon-img",attrs:{type:"android-alert",color:"#FF6666",size:"20"}})],1):i("li",{class:{active:5==e.isActive}},[i("div",{staticClass:"step-img stepList7"}),i("span",{staticStyle:{color:"#ddd"}},[e._v("房屋照片")]),e.menuIconIsShow.imageCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e()],1),e.menuIconIsShow.priceClickable?i("li",{class:{active:6==e.isActive},on:{click:function(t){return e.tagbToogle(6)}}},[i("div",{staticClass:"step-img stepList6"}),i("span",[e._v("价格")]),e.menuIconIsShow.priceCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e()],1):i("li",{class:{active:6==e.isActive}},[i("div",{staticClass:"step-img stepList6"}),i("span",{staticStyle:{color:"#ddd"}},[e._v("价格")]),e.menuIconIsShow.priceCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e()],1),e.menuIconIsShow.qualificationShow?i("div",[e.menuIconIsShow.qualificationClickable?i("li",{class:{active:7==e.isActive},on:{click:function(t){return e.tagbToogle(7)}}},[i("div",{staticClass:"step-img stepList8"}),i("span",[e._v("身份验真")]),1===e.menuIconIsShow.qualificationAuditRejectShow?i("Icon",{staticClass:"icon-img",attrs:{type:"android-alert",color:"#FF6666",size:"20"}}):e._e(),0===e.menuIconIsShow.qualificationAuditRejectShow&&1==e.menuIconIsShow.qualificationCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e()],1):i("li",{class:{active:7==e.isActive}},[i("div",{staticClass:"step-img stepList8"}),i("span",{staticStyle:{color:"#ddd"}},[e._v("身份验真")]),1===e.menuIconIsShow.qualificationAuditRejectShow?i("Icon",{staticClass:"icon-img",attrs:{type:"android-alert",color:"#FF6666",size:"20"}}):e._e(),0===e.menuIconIsShow.qualificationAuditRejectShow&&1==e.menuIconIsShow.qualificationCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e()],1)]):e._e(),e.menuIconIsShow.houseCredentialShow?i("div",[e.menuIconIsShow.houseCredentialClickable?i("li",{class:{active:8==e.isActive},on:{click:function(t){return e.tagbToogle(8)}}},[i("div",{staticClass:"step-img stepList9"}),i("span",[e._v("房屋资质")]),e.menuIconIsShow.houseCredentialCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e()],1):i("li",{class:{active:8==e.isActive}},[i("div",{staticClass:"step-img stepList9"}),i("span",{staticStyle:{color:"#ddd"}},[e._v("房屋资质")]),e.menuIconIsShow.houseCredentialCompleteIconShow?i("Icon",{staticClass:"icon-img",attrs:{type:"ios-checkmark-outline",color:"#81c784",size:"20"}}):e._e()],1)]):e._e()]),e.menuIconIsShow.showUncompletedCount?i("div",{staticClass:"distance-step"},[e._v("还差"+e._s(e.menuIconIsShow.uncompletedCount)+"步")]):e._e()]),i("div",{staticClass:"operation-content"},[e.stepOption[0].isLoad?i("unitLocation1",{directives:[{name:"show",rawName:"v-show",value:0==e.isActive,expression:"isActive==0"}],attrs:{isActive:0==e.isActive,houseUnitId:e.houseUnitId},on:{nextStepChuange:e.nextStepChuange,upDateHouseUnitId:e.upDateHouseUnitId,menuReload:e.menuReload}}):e._e(),e.stepOption[1].isLoad?i("unitDetail2",{directives:[{name:"show",rawName:"v-show",value:1==e.isActive,expression:"isActive==1"}],attrs:{isActive:1==e.isActive,basicData:e.basicData,houseUnitId:e.houseUnitId,imageAllHaveType:e.menuIconIsShow.imageAllHaveType},on:{nextStepChuange:e.nextStepChuange,upDateHouseUnitId:e.upDateHouseUnitId,roomTypeChange:e.roomTypeChange,menuReload:e.menuReload}}):e._e(),e.stepOption[2].isLoad?i("unitDesc3",{directives:[{name:"show",rawName:"v-show",value:2==e.isActive,expression:"isActive==2"}],attrs:{isActive:2==e.isActive,houseUnitId:e.houseUnitId,floor2FormValidate:e.floor2FormValidate},on:{nextStepChuange:e.nextStepChuange,upDateHouseUnitId:e.upDateHouseUnitId,menuReload:e.menuReload}}):e._e(),e.stepOption[3].isLoad?i("unitFacilityService4",{directives:[{name:"show",rawName:"v-show",value:3==e.isActive,expression:"isActive==3"}],attrs:{isActive:3==e.isActive,basicData:e.basicData,houseUnitId:e.houseUnitId,imageAllHaveType:e.menuIconIsShow.imageAllHaveType},on:{nextStepChuange:e.nextStepChuange,upDateHouseUnitId:e.upDateHouseUnitId,menuReload:e.menuReload}}):e._e(),e.stepOption[4].isLoad?i("unitExplanation5",{directives:[{name:"show",rawName:"v-show",value:4==e.isActive,expression:"isActive==4"}],attrs:{isActive:4==e.isActive,basicData:e.basicData,houseUnitId:e.houseUnitId},on:{nextStepChuange:e.nextStepChuange,upDateHouseUnitId:e.upDateHouseUnitId,menuReload:e.menuReload}}):e._e(),e.stepOption[5].isLoad?i("unitImages6",{directives:[{name:"show",rawName:"v-show",value:5==e.isActive&&2===e.menuIconIsShow.imageAllHaveType,expression:"isActive==5 && menuIconIsShow.imageAllHaveType===2"}],attrs:{isActive:5==e.isActive,basicData:e.basicData,houseUnitId:e.houseUnitId},on:{nextStepChuange:e.nextStepChuange,upDateHouseUnitId:e.upDateHouseUnitId,updateFloor7FormValidate:e.updateFloor7FormValidate,menuReload:e.menuReload}}):e._e(),e.stepOption[5].isLoad?i("unitImages6New",{directives:[{name:"show",rawName:"v-show",value:5==e.isActive&&1===e.menuIconIsShow.imageAllHaveType,expression:"isActive==5 && menuIconIsShow.imageAllHaveType===1"}],attrs:{isActive:5==e.isActive,floor7FormValidateHouseImages:e.floor7FormValidateHouseImages,basicData:e.basicData,houseUnitId:e.houseUnitId},on:{nextStepChuange:e.nextStepChuange,upDateHouseUnitId:e.upDateHouseUnitId,menuReload:e.menuReload}}):e._e(),e.stepOption[6].isLoad?i("unitPrice7",{directives:[{name:"show",rawName:"v-show",value:6==e.isActive,expression:"isActive==6"}],attrs:{isActive:6==e.isActive,basicData:e.basicData,houseUnitId:e.houseUnitId},on:{nextStepChuange:e.nextStepChuange,upDateHouseUnitId:e.upDateHouseUnitId}}):e._e(),e.stepOption[7].isLoad?i("unitQualification8",{directives:[{name:"show",rawName:"v-show",value:7==e.isActive,expression:"isActive==7"}],attrs:{isActive:7==e.isActive,houseUnitId:e.houseUnitId},on:{nextStepChuange:e.nextStepChuange,upDateHouseUnitId:e.upDateHouseUnitId,menuReload:e.menuReload}}):e._e(),e.stepOption[8].isLoad?i("house-qualification",{directives:[{name:"show",rawName:"v-show",value:8==e.isActive,expression:"isActive==8"}],attrs:{isActive:8==e.isActive,houseUnitId:e.houseUnitId},on:{menuReload:e.menuReload}}):e._e()],1)])},a=[],s=(i("1c01"),i("58b2"),i("8e6e"),i("f3e2"),i("d25f"),i("ac6a"),i("456d"),i("57e7"),i("6d67"),i("7f7f"),i("bd86")),r=i("9e41"),n=i("2f62"),l=i("2bbf"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"floor1"},[e._m(0),i("div",{directives:[{name:"show",rawName:"v-show",value:e.floor1FormValidate.rejectReason,expression:"floor1FormValidate.rejectReason"}],staticClass:"reject-tips-wrapper"},[i("rejectTips",{attrs:{rejectText:e.floor1FormValidate.rejectReason}})],1),i("div",{staticClass:"position-floor"},[i("Form",{ref:"floor1FormValidate",attrs:{model:e.floor1FormValidate,rules:e.floor1Form,"label-position":"top"}},[i("FormItem",{staticStyle:{"margin-top":"20px"}},[i("Row",{attrs:{gutter:10}},[i("i-col",{attrs:{span:"4"}},[i("FormItem",{attrs:{prop:"countryId"}},[i("span",{attrs:{slot:"label"},slot:"label"},[e._v("地区/城市")]),i("Select",{staticStyle:{color:"#333333"},attrs:{disabled:!0},model:{value:e.floor1FormValidate.countryId,callback:function(t){e.$set(e.floor1FormValidate,"countryId",t)},expression:"floor1FormValidate.countryId"}},e._l(e.country,function(t){return i("Option",{key:t.value,attrs:{value:t.value,longitude:t.longitude,latitude:t.latitude}},[e._v(e._s(t.label))])}),1)],1)],1),i("i-col",{attrs:{span:"6"}},[i("FormItem",{staticStyle:{"margin-top":"32px"},attrs:{prop:"cityIdGroup"}},[i("div",[e.floor1FormValidate.areaInfo&&!e.floor1FormValidate.allowChange?i("i-input",{attrs:{disabled:""},model:{value:e.floor1FormValidate.areaInfo,callback:function(t){e.$set(e.floor1FormValidate,"areaInfo",t)},expression:"floor1FormValidate.areaInfo"}}):e._e(),!e.floor1FormValidate.areaInfo&&e.floor1FormValidate.allowChange?i("Cascader",{staticClass:"lastChild",attrs:{data:e.getCountry},on:{"on-change":e.getLatitude},model:{value:e.floor1FormValidate.cityIdGroup,callback:function(t){e.$set(e.floor1FormValidate,"cityIdGroup",t)},expression:"floor1FormValidate.cityIdGroup"}}):e._e()],1)]),i("unchangeableTips",{directives:[{name:"show",rawName:"v-show",value:e.isShowCityUnchangeableTipsCpd,expression:"isShowCityUnchangeableTipsCpd"}],attrs:{tips:"该信息审核通过后不可修改"}})],1)],1)],1),i("FormItem",{attrs:{prop:"address"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("span",{staticClass:"red-style"},[e._v("*")]),e._v("街道/小区\n        ")]),i("div",{staticClass:"address-input-wrapper"},[i("i-input",{ref:"residentialQuarterName_input",staticStyle:{width:"400px"},attrs:{placeholder:"请输入街道、小区等信息",disabled:!e.floor1FormValidate.allowChangeAddress},on:{"on-focus":e.handleAddressInputFocus,"on-blur":e.handleAddressInputBlur,"on-change":e.querySuggestPlace},model:{value:e.floor1FormValidate.address,callback:function(t){e.$set(e.floor1FormValidate,"address",t)},expression:"floor1FormValidate.address"}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.isDisappearCheck,expression:"isDisappearCheck"}],staticClass:"check-sensitive-words"},[e._v(e._s(e.checkData.address))]),i("unchangeableTips",{directives:[{name:"show",rawName:"v-show",value:e.isShowAddressUnmatchingTips,expression:"isShowAddressUnmatchingTips"}],attrs:{tipsColor:"#f66",tips:"请输入街道/小区，并在下拉框中点选搜索到的相关地址"}}),i("unchangeableTips",{directives:[{name:"show",rawName:"v-show",value:!e.isShowAddressUnmatchingTips&&e.isShowAddressUnchangeableTipsCpd,expression:"!isShowAddressUnmatchingTips && isShowAddressUnchangeableTipsCpd"}],attrs:{tips:"该信息审核通过后不可修改"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowSuggestPanel,expression:"isShowSuggestPanel"}],staticClass:"suggest-address-wrapper"},[e.suggestAddressList.length>0?i("ul",{staticClass:"suggest-address-list"},e._l(e.suggestAddressList,function(t){return i("li",{key:t.id,staticClass:"suggest-address-list-item",on:{click:function(i){return i.stopPropagation(),e.selectAddress(t)}}},[e._v(e._s(t.name))])}),0):i("div",{staticClass:"no-check-address"},[i("Icon",{staticClass:"icon-android",attrs:{type:"android-alert",size:"14"}}),i("p",{staticClass:"no-check-tips"},[e._v("未找到您输入的地址，重新输入或拖动地图试试")])],1)])],1)]),i("FormItem",{attrs:{prop:"doorplate"}},[i("p",[i("span",{staticClass:"red-style"},[e._v("*")]),e._v("门牌号\n        ")]),i("i-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入楼/单元/门牌号，房客预订成功后才显示此信息",maxlength:30},model:{value:e.floor1FormValidate.doorplate,callback:function(t){e.$set(e.floor1FormValidate,"doorplate","string"===typeof t?t.trim():t)},expression:"floor1FormValidate.doorplate"}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.isDisappearCheckEmpty,expression:"isDisappearCheckEmpty"}],staticClass:"check-sensitive-words"},[e._v(e._s(e.checkData.doorplate))])],1),i("FormItem",{attrs:{prop:"residentialQuarterName"}},[i("p",[e._v("补充说明(选填)")]),i("i-input",{staticStyle:{width:"400px"},attrs:{placeholder:"不可与地址重复（例：万达广场对面）"},model:{value:e.floor1FormValidate.residentialQuarterName,callback:function(t){e.$set(e.floor1FormValidate,"residentialQuarterName",t)},expression:"floor1FormValidate.residentialQuarterName"}})],1),i("FormItem",{attrs:{prop:"map"}},[i("p",[e._v("地图定位")]),i("p",{directives:[{name:"show",rawName:"v-show",value:e.floor1FormValidate.showMapMarkedWords,expression:"floor1FormValidate.showMapMarkedWords"}],staticClass:"position-tips"},[e._v("审核通过后不可修改。房客会根据此位置来找到您，拖动地图完成精准定位，不可定位在水里、路上等。")]),i("div",{staticClass:"baidu-map"},[i("i",{staticClass:"map-center-point"}),i("div",{attrs:{id:"map-content"}})])]),i("FormItem",{attrs:{prop:"map"}},[i("div",{staticClass:"left-map"},[i("p",[e._v(e._s(e.floor1FormValidate.latitude)+" ；"+e._s(e.floor1FormValidate.longitude))])])]),i("div",{staticClass:"atypism"},[i("Checkbox",{model:{value:e.floor1FormValidate.isConsistent,callback:function(t){e.$set(e.floor1FormValidate,"isConsistent",t)},expression:"floor1FormValidate.isConsistent"}},[e._v("房屋地址与接待房客的地址不一致")]),i("br"),e.floor1FormValidate.isConsistent?i("FormItem",{attrs:{prop:"receptionAddress"}},[i("i-input",{staticStyle:{width:"410px","margin-top":"10px"},attrs:{placeholder:"输入地址..."},model:{value:e.floor1FormValidate.receptionAddress,callback:function(t){e.$set(e.floor1FormValidate,"receptionAddress",t)},expression:"floor1FormValidate.receptionAddress"}})],1):e._e()],1),i("FormItem",[i("div",{staticClass:"nextStep",staticStyle:{"margin-top":"20px"}},[1==e.floor1FormValidate.saveButtonStatus&&void 0!=e.floor1FormValidate.saveButtonStatus?i("Button",{staticClass:"nextStep-btn",attrs:{type:"primary",disabled:e.isBtnDisabled},on:{click:e.savePositionBtn}},[e._v("下一步")]):i("Button",{staticClass:"nextStep-btn",attrs:{type:"primary"},on:{click:e.savePositionBtn}},[e._v("保存")])],1)])],1),e._m(1)],1)])},u=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title-con"},[i("h1",[e._v("房屋位置")]),i("h2",[e._v("房客会使用位置信息来找到您的房子")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"g-location-info-desc"},[i("h1",[e._v("房客会使用此信息来寻找地点合适的房源。")]),i("p",[e._v("\n        您的门牌号是您的隐私，房客预订前将为您保密。\n        "),i("br"),e._v("房客可以通过您的房屋位置，了解您房屋的周边信息。\n        "),i("br"),e._v("房屋发布成功后，我们会对您的地址信息进行核对。\n      ")])])}],d=(i("4f37"),i("6762"),i("2fdb"),i("2caf"),i("3e21")),h=d["a"].tjHost,m={};m.checkSensitiveWordForPosition="".concat(h.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/checkSensitiveWordForPosition"),m.checkSensitiveWordForDescription="".concat(h.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/checkSensitiveWordForDescription"),m.checkSensitiveWordForCheckinExplained="".concat(h.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/checkSensitiveWordForCheckinExplained"),m.imageRotateUpload="".concat(h.UPLOAD_TUJIA_HOST,"/storage/merchant/imageRotateUpload.htm");var p={checkSensitiveWordForPosition:function(e){e.positionVo;return d["a"].post(m.checkSensitiveWordForPosition,{data:arguments[0]})},checkSensitiveWordForDescription:function(e){e.houseCharacteristicVo;return d["a"].post(m.checkSensitiveWordForDescription,{data:arguments[0]})},checkSensitiveWordForCheckinExplained:function(e){e.houseExplanationVo;return d["a"].post(m.checkSensitiveWordForCheckinExplained,{data:arguments[0]})},imageRotateUpload:function(e){e.originUrl,e.rotate;return d["a"].post(m.imageRotateUpload,{data:arguments[0],withCredentials:!0})}},f=p,g=d["a"].tjHost,v={querySuggestPlace:"".concat(g.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/querySuggestPlace"),queryLocation:"".concat(g.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/queryLocation")},y={querySuggestPlace:function(e){e.keyWord,e.cityId;return d["a"].get(v.querySuggestPlace,{params:arguments[0]})},queryLocation:function(e){e.longitude,e.latitude;return d["a"].get(v.queryLocation,{params:arguments[0]})}},C=y,w=i("c25c"),I=i("69c1"),F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"reject-tips"},[e.isShowIcon?i("Icon",{staticClass:"reject-icon",attrs:{type:"android-alert",color:"#FF5756",size:"17"}}):e._e(),i("p",{staticClass:"reject-text",domProps:{innerHTML:e._s(e.rejectText)}})],1)},b=[],S={name:"comRejectTips",props:{rejectText:{type:String,default:""},isShowIcon:{type:Boolean,default:!0}}},_=S,x=(i("86ee"),i("0c7c")),V=Object(x["a"])(_,F,b,!1,null,"084c51af",null),T=V.exports,P=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"g-unchangeable-tips-layout"},[e.isShowIcon?i("Icon",{staticClass:"alert-icon",attrs:{type:"android-alert",color:"#FF5756",size:"16"}}):e._e(),i("p",{staticClass:"tips",style:{color:e.tipsColor}},[e._v(e._s(e.tips))])],1)},k=[],D={name:"UnchangeableTips",props:{tips:{type:String,default:""},tipsColor:{type:String,default:"#999"},isShowIcon:{type:Boolean,default:!1}}},O=D,A=(i("b4e9"),Object(x["a"])(O,P,k,!1,null,"5a56108c",null)),R=A.exports,N=i("2ef0"),E=i.n(N);function U(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function L(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?U(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):U(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var M=414,H={longitude:116.45,latitude:39.9276},j={props:["isActive","houseUnitId"],data:function(){var e=this,t=function(t,i,o){if(Array.isArray(i)&&i.includes(null))return e.floor1FormValidate.cityIdGroup=[],void o(new Error("请选择城市"));i.length>0?o():(e.floor1FormValidate.cityIdGroup=[],o(new Error("请选择城市")))},i=function(t,i,o){i.length>100?o(new Error("地址长度需在100个字符内")):i===e.floor1FormValidate.address?o(new Error("补充说明与地址重复")):o()};return{isBtnDisabled:!1,isDisappearCheckEmpty:!0,isDisappearCheck:!0,checkData:{},errorMsg:!1,floor1FormValidate:{allowChangeAddress:!0,allowChange:!0,countryId:M,cityIdGroup:[],residentialQuarterName:"",address:"",doorplate:"",isConsistent:!0,receptionAddress:"",latitude:0,longitude:0,houseResource:1,areaInfo:""},map:{},floor1Form:{countryId:[{required:!0,type:"number",message:"请选择国家",trigger:"change"}],cityIdGroup:[{required:!0,type:"array",validator:t,message:"请选择城市",trigger:"change"}],residentialQuarterName:[{required:!1,validator:i,trigger:"blur"}],receptionAddress:[{required:!0,min:3,max:100,message:"详细地址需在3-100个字符间",trigger:"blur"}],reserveAddress:[{required:!1,max:100,message:"地址长度需在100个字符内",trigger:"blur"}],doorplate:[{required:!0,message:"请输入楼/单元/门牌号，不能为空",trigger:"blur"},{max:30,message:"请填写不超过30个字符的门牌号",trigger:"blur"}]},modifyLocation:{latitude:0,longitude:0},country:[{label:"中国大陆",value:M}],getCountry:[],initLongitude:0,initLatitude:0,beginningLongitude:0,beginningLatitude:0,isDragging:!0,isShowAddressUnmatchingTips:!1,isOnconfirm:!1,focusAddress:"",isSearchComplete:!1,suggestAddressList:[],isShowSuggestPanel:!1,mapInfoWindow:null}},computed:L({},Object(n["e"])({host:"host"}),{isShowCityUnchangeableTipsCpd:function(){return this.floor1FormValidate.allowChangeAddress&&this.floor1FormValidate.cityIdGroup.length},isShowAddressUnchangeableTipsCpd:function(){return this.floor1FormValidate.allowChangeAddress&&!this.isDisappearCheck}}),watch:{"floor1FormValidate.longitude":function(e,t){this.mapRender();var i=0;t===i&&(this.initLongitude=e,this.beginningLongitude=e)},"floor1FormValidate.latitude":function(e,t){this.mapRender();var i=0;t===i&&(this.initLatitude=e,this.beginningLatitude=e)},floor1FormValidate:{handler:function(e,t){if("undefined"!==typeof BMap&&"function"===typeof BMap.Map){var i=new BMap.Point(this.initLongitude,this.initLatitude),o=new BMap.Point(e.longitude,e.latitude),a=null;0!==Object.keys(this.map).length&&(a=this.map.getDistance(i,o).toFixed(2)),a>200||this.beginningLatitude===this.initLatitude&&this.beginningLongitude===this.initLongitude&&!this.floor1FormValidate.address?(this.isDragging=!1,e.allowChangeAddress&&this.openMapInfoWindow(o)):this.map.closeInfoWindow&&this.map.closeInfoWindow()}},deep:!0},isActive:function(e){e&&this.queryPosition()}},created:function(){this.queryPosition(),I["a"].dynamicAddScript("https://api.map.baidu.com/api?v=2.0&ak=RquoEX471C87SGjM3kAkDLPX&callback=initBaiduMap")},mounted:function(){var e=this;window.initBaiduMap=function(){e.map=new BMap.Map("map-content",{enableMapClick:!1}),e.map.centerAndZoom(new BMap.Point(e.floor1FormValidate.longitude,e.floor1FormValidate.latitude),16),e.mapCenterPoint=new BMap.Marker(new BMap.Point(e.floor1FormValidate.longitude,e.floor1FormValidate.latitude)),e.map.addEventListener("moveend",function(){var t=e.map.getCenter();e.floor1FormValidate.longitude=t.lng,e.floor1FormValidate.latitude=t.lat,$(".map-center-point").addClass("prompt")}),e.map.disableScrollWheelZoom(),e.map.disableDoubleClickZoom(),e.map.enableContinuousZoom(),e.floor1FormValidate.allowChangeAddress?e.map.enableDragging():e.map.disableDragging();var t=new BMap.ScaleControl({anchor:BMAP_ANCHOR_TOP_LEFT}),i=new BMap.NavigationControl,o=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_RIGHT,type:BMAP_NAVIGATION_CONTROL_SMALL});e.map.addControl(t),e.map.addControl(i),e.map.addControl(o)}},methods:{selectAddress:function(e){if(this.isOnconfirm=!0,this.isShowAddressUnmatchingTips=!1,this.map.clearOverlays&&this.map.clearOverlays(),this.isSearchComplete=!0,e.location){var t=this._transformPoi(e.location);this.floor1FormValidate.latitude=t.lat,this.floor1FormValidate.longitude=t.lng,this.initLatitude=t.lat,this.initLongitude=t.lng}this.isShowSuggestPanel=!1,this.floor1FormValidate.address=e.name},openMapInfoWindow:function(e){var t=this;this._queryLocation(function(i){var o="";o=t.floor1FormValidate.address?"地图定位与房屋地址相距过远，是否将房屋地址更新为"+i.province+i.city+i.district+i.street+i.streetNumber+"?</div><div><span id='changeOK' style='float: right'>确认</span><span id='changeClose' style='margin-right:10px;float: right'>取消</span></div>":"<div>当前地址为"+i.province+i.city+i.district+i.street+i.streetNumber+"是否使用?</div><div><span id='changeOK' style='float: right'>确认</span><span id='changeClose' style='margin-right:10px;float: right'>取消</span></div>";var a={width:300,height:0,title:"提示",enableCloseOnClick:!1};t.mapInfoWindow=new BMap.InfoWindow(o,a),t.mapInfoWindow.addEventListener("open",function(){document.getElementById("changeOK").addEventListener("click",function(){t.initLongitude=t.floor1FormValidate.longitude,t.initLatitude=t.floor1FormValidate.latitude,t.floor1FormValidate.address=i.street+i.streetNumber,t.isDragging=!0,t.floor1FormValidate.allowChange&&(t._isMatchCityIdGroup(i)?(t.floor1FormValidate.cityIdGroup=[i.provinceId,i.cityRegionId,i.districtRegionId],t.$Message.success("房屋地址已更新")):(t.floor1FormValidate.cityIdGroup=[],t.$Message.error("地址匹配失败，请手动输入"))),t.floor1FormValidate.address?t.isShowAddressUnmatchingTips=!1:t.isShowAddressUnmatchingTips=!0,t.map.closeInfoWindow()}),document.getElementById("changeClose").addEventListener("click",function(){t.map.closeInfoWindow(),t.floor1FormValidate.longitude=t.initLongitude,t.floor1FormValidate.latitude=t.initLatitude})}),t.mapInfoWindow.addEventListener("clickclose",function(){t.floor1FormValidate.longitude=t.initLongitude,t.floor1FormValidate.latitude=t.initLatitude}),"function"===typeof t.map.openInfoWindow&&t.map.openInfoWindow(t.mapInfoWindow,e)})},handleAddressInputBlur:function(){var e=this.floor1FormValidate.address.length;(e<3||e>100)&&(this.isDisappearCheck=!1),""===this.floor1FormValidate.address&&(this.isShowAddressUnmatchingTips=!0),this.focusAddress!==this.floor1FormValidate.address&&(this.isOnconfirm||(this.isShowAddressUnmatchingTips=!0)),this.isOnconfirm=!1},handleAddressInputFocus:function(){this.isShowAddressUnmatchingTips||(this.focusAddress=this.floor1FormValidate.address),this.isShowAddressUnmatchingTips=!1},activeChange:function(){this.$emit("nextStepChuange",1)},getHouseUnitId:function(e){this.$emit("upDateHouseUnitId",e)},savePositionBtn:function(){var e=this;if(!this.isBtnDisabled){this.mapInfoWindow&&this.mapInfoWindow.isOpen()&&document.getElementById("changeClose").click(),this.isDisappearCheckEmpty=!1,this.isDisappearCheck=!1;var t=this;this.$refs["floor1FormValidate"].validate(function(i){if(i&&!t.isShowAddressUnmatchingTips&&""!==t.floor1FormValidate.address.trim()){l["a"].open(),e.isBtnDisabled=!0;var o=$.extend(!0,{},e.floor1FormValidate);o.isConsistent=!o.isConsistent,o.isConsistent&&(o.receptionAddress=null),o.ac=null,f.checkSensitiveWordForPosition(o).then(function(t){0!==Object.keys(t).length?(e.isDisappearCheckEmpty=!0,e.isDisappearCheck=!0,e.checkData=t,e.$Notice.error({desc:"您输入的内容包含敏感词，无法保存"}),e.isBtnDisabled=!1):r["a"].savePosition(o,function(t,i,o){t?(i.groupGlobalGuid&&(w["a"].setGroupGuid(i.groupGlobalGuid),w["a"].setMerchant({hotelGuid:i.tavernGuid})),e.getHouseUnitId(i.houseUnitId),1===e.floor1FormValidate.saveButtonStatus?e.activeChange():(2===i.needAudit?e.$Notice.success({title:"信息已提交审核中"}):1===i.needAudit&&e.$Notice.success({title:"保存成功"}),e.queryPosition(),e.$emit("menuReload"))):e.$Notice.error({desc:o.errorMsg}),e.isBtnDisabled=!1})})["catch"](function(t){e.$Notice.error({desc:t.errorMsg})}).finally(function(){l["a"].close()})}else e.$Notice.error({desc:"输入信息有误"}),""===e.floor1FormValidate.address.trim()&&(e.isShowAddressUnmatchingTips=!0)})}},getLatitude:function(e,t){1===e.length?(this.floor1FormValidate.latitude=t[0].latitude,this.floor1FormValidate.longitude=t[0].longitude):2===e.length?(this.floor1FormValidate.latitude=t[1].latitude,this.floor1FormValidate.longitude=t[1].longitude):(this.floor1FormValidate.latitude=t[2].latitude,this.floor1FormValidate.longitude=t[2].longitude)},mapRender:function(){if(this.map&&this.isActive&&this.map.centerAndZoom){var e=new BMap.Point(this.floor1FormValidate.longitude,this.floor1FormValidate.latitude),t=null;t=this.map.getZoom?this.map.getZoom():14,this.map.centerAndZoom(e,t)}},queryPosition:function(){var e=this;this.isDisappearCheckEmpty=!1,this.isDisappearCheck=!1,this.checkData={},l["a"].open(),r["a"].queryPosition(this.houseUnitId,function(t,i,o){l["a"].close(),t?(i.latitude=i.latitude||H.latitude,i.longitude=i.longitude||H.longitude,i.address=i.address||"",i.doorplate=i.doorplate||"",i.receptionAddress=i.receptionAddress||"",!i.areaInfo&&i.allowChange&&e.queryAllregion(),!0===i.isConsistent||!1===i.isConsistent?i.isConsistent=!i.isConsistent:i.isConsistent=!1,Object.assign(e.floor1FormValidate,i),!e.floor1FormValidate.allowChangeAddress&&e.map.enableDragging&&e.map.disableDragging()):e.$Notice.error({desc:o.errorMsg})})},queryAllregion:function(){var e=this;l["a"].open(),r["a"].queryAllregion(this.floor1FormValidate.countryId,this.floor1FormValidate.houseResource,function(t,i,o){l["a"].close(),t?e.getCountry=i.children:e.$Notice.error({desc:o.errorMsg})})},querySuggestPlace:E.a.debounce(function(){var e=this;if(!this.floor1FormValidate.address||!this.floor1FormValidate.cityIdGroup[1])return!1;C.querySuggestPlace({keyWord:this.floor1FormValidate.address,cityId:this.floor1FormValidate.cityIdGroup[1]}).then(function(t){e.suggestAddressList=t.poiList||[],(e.isSearchComplete||e.isDragging)&&(e.isDragging=!1,e.isSearchComplete=!1)})["catch"](function(t){t.errorNo,t.errorMsg;e.suggestAddressList=[]}).finally(function(){e.isShowSuggestPanel=!0})},600),_queryLocation:function(e){var t=this;C.queryLocation({longitude:this.floor1FormValidate.longitude,latitude:this.floor1FormValidate.latitude}).then(function(t){e&&e(t)})["catch"](function(e){e.errorNo;var i=e.errorMsg;t.$Notice.error({desc:i})})},_isMatchCityIdGroup:function(e){return!!(e.provinceId&&e.cityRegionId&&e.districtRegionId)},_noMatchingAddress:E.a.debounce(function(){this.$Notice.error({title:"地址匹配失败，请手动输入",duration:1})},1e3),_transformPoi:function(e){if("BAIDU"!==e.coordType){var t=this._GCJToBaidu(e.lng,e.lat);return{lng:t.lng,lat:t.lat}}return{lng:e.lng,lat:e.lat}},_GCJToBaidu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=52.35987755982988,o=Math.sqrt(e*e+t*t)+2e-5*Math.sin(t*i),a=Math.atan2(t,e)+3e-6*Math.cos(e*i),s=o*Math.cos(a)+.0065,r=o*Math.sin(a)+.006;return{lng:s,lat:r}}},components:{rejectTips:T,unchangeableTips:R}},q=j,B=(i("0555"),i("3694"),Object(x["a"])(q,c,u,!1,null,"c66e0e52",null)),z=B.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"floor2"},[e._m(0),i("div",{directives:[{name:"show",rawName:"v-show",value:e.floor2FormValidate.rejectReason,expression:"floor2FormValidate.rejectReason"}],staticClass:"reject-tips-wrapper"},[i("rejectTips",{attrs:{rejectText:e.floor2FormValidate.rejectReason}})],1),i("div",{staticClass:"detail-floor"},[i("Form",{ref:"floor2FormValidate",attrs:{model:e.floor2FormValidate,rules:e.floor2FormRules,"label-position":"top"}},[i("FormItem",{staticStyle:{"margin-top":"20px"},attrs:{prop:"housingResourcesType"}},[i("p",[e._v("出租方式")]),i("ul",{staticClass:"housingResourcesType-ul"},[e.floor2FormValidate.allowChangeCount?i("li",{class:{active:1==e.floor2FormValidate.houseResource},on:{click:function(t){return e.handleTabToogle(1)}}},[i("div",{class:[1==e.floor2FormValidate.houseResource?"houseingType11":"houseingType1"]}),i("span",[e._v("整套房屋")])]):i("li",{class:{active:1==e.floor2FormValidate.houseResource}},[i("div",{class:[1==e.floor2FormValidate.houseResource?"houseingType11":"houseingType1"]}),i("span",[e._v("整套房屋")])]),e.floor2FormValidate.supportSingle&&e.floor2FormValidate.allowChangeCount?i("li",{class:{active:2==e.floor2FormValidate.houseResource},on:{click:function(t){return e.handleTabToogle(2)}}},[i("div",{class:[2==e.floor2FormValidate.houseResource?"houseingType22":"houseingType2"]}),i("span",[e._v("独立房间")])]):i("li",{class:{active:2==e.floor2FormValidate.houseResource}},[i("div",{class:[2==e.floor2FormValidate.houseResource?"houseingType22":"houseingType2"]}),i("span",{staticStyle:{color:"#ccc"}},[e._v("独立房间")])])]),i("unchangeableTips",{directives:[{name:"show",rawName:"v-show",value:e.floor2FormValidate.allowChangeCount,expression:"floor2FormValidate.allowChangeCount"}],attrs:{tips:"该信息审核通过后不可修改"}})],1),i("FormItem",{attrs:{prop:"enumHouseType"}},[i("p",[e._v("房屋类型")]),i("RadioGroup",{on:{"on-change":e.changeHouseType},model:{value:e.houseType,callback:function(t){e.houseType=t},expression:"houseType"}},[i("Radio",{staticClass:"redio-space",attrs:{label:"公寓"}}),i("Radio",{staticClass:"redio-space",attrs:{label:"客栈"}}),i("Radio",{staticClass:"redio-space",attrs:{label:"别墅"}}),i("Radio",{staticClass:"redio-space",attrs:{label:"其他/特色"}})],1),i("div",[0==e.floor2FormValidate.isOversea?i("Select",{staticStyle:{width:"353px"},model:{value:e.floor2FormValidate.enumHouseType,callback:function(t){e.$set(e.floor2FormValidate,"enumHouseType",t)},expression:"floor2FormValidate.enumHouseType"}},e._l(e.houseTypeEnum,function(t){return i("Option",{key:t.enumValue,attrs:{value:t.enumValue,label:t.display}},[i("p",[e._v(e._s(t.display))]),i("p",{staticClass:"optionExplain"},[e._v(e._s(t.remark))])])}),1):i("Select",{staticStyle:{width:"353px"},model:{value:e.floor2FormValidate.enumHouseType,callback:function(t){e.$set(e.floor2FormValidate,"enumHouseType",t)},expression:"floor2FormValidate.enumHouseType"}},e._l(e.basicData.overseasHoustTypeEnum||e.overseasHoustTypeEnum,function(t){return i("Option",{key:t.enumValue,attrs:{value:t.enumValue}},[i("p",[e._v(e._s(t.display))]),i("p",{staticClass:"optionExplain"},[e._v(e._s(t.remark))])])}),1)],1),i("div",[e.isCheckEnumHouseType?i("span",{staticStyle:{color:"#ed3f14"}},[e._v("请选择房屋类型")]):e._e()]),i("div",[7===e.floor2FormValidate.enumHouseType&&7!==e.initHouseType?i("span",{staticStyle:{color:"#ff9900"}},[e._v("请上传房屋外观的图片，否则房屋审核不会通过哦")]):e._e(),3===e.floor2FormValidate.enumHouseType&&3!==e.initHouseType?i("span",{staticStyle:{color:"#ff9900"}},[e._v("请上传房屋楼梯图片，否则房屋审核不会通过哦")]):e._e()])],1),i("FormItem",{directives:[{name:"show",rawName:"v-show",value:1==e.floor2FormValidate.houseResource,expression:"floor2FormValidate.houseResource == 1"}],attrs:{label:"房屋面积",prop:"grossArea"}},[i("Input",{staticStyle:{width:"200px"},attrs:{placeholder:1==e.floor2FormValidate.houseResource?"整套房屋的使用面积":"独立房间的使用面积",maxlength:4},model:{value:e.floor2FormValidate.grossArea,callback:function(t){e.$set(e.floor2FormValidate,"grossArea",t)},expression:"floor2FormValidate.grossArea"}}),i("span",[e._v("平米")])],1),i("FormItem",{directives:[{name:"show",rawName:"v-show",value:2==e.floor2FormValidate.houseResource,expression:"floor2FormValidate.houseResource == 2"}],attrs:{label:"出租卧室面积",prop:"grossArea"}},[i("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"独立房间的使用面积",maxlength:2},model:{value:e.floor2FormValidate.grossArea,callback:function(t){e.$set(e.floor2FormValidate,"grossArea",t)},expression:"floor2FormValidate.grossArea"}}),i("span",[e._v("平米")])],1),i("FormItem",{attrs:{prop:"enumScenicFeature"}},[i("p",[e._v("房屋景观")]),i("Select",{staticStyle:{width:"200px"},attrs:{"label-in-value":""},on:{"on-change":e.handleFeatureChange},model:{value:e.floor2FormValidate.enumScenicFeature,callback:function(t){e.$set(e.floor2FormValidate,"enumScenicFeature",t)},expression:"floor2FormValidate.enumScenicFeature"}},e._l(e.basicData.scenicFeaturesEnum,function(t){return i("Option",{key:t.enumValue,attrs:{value:t.enumValue}},[e._v(e._s(t.display))])}),1),i("br"),e.initEnumScenicFeature!==e.floor2FormValidate.enumScenicFeature&&e.featureLabelText&&0!==e.floor2FormValidate.enumScenicFeature?i("span",{staticStyle:{color:"#ff9900"}},[e._v("请上传从房屋视角能看到"+e._s(e.featureLabelText)+"的图片，否则房屋审核不会通过")]):e._e()],1),i("FormItem",{attrs:{prop:"apartmentLayout"}},[i("p",[e._v(e._s(2==e.floor2FormValidate.houseResource?"整套户型":"房屋户型"))]),i("span",{staticStyle:{color:"#000","margin-top":"100px"}},[e._v("卧室")]),i("InputNumber",{staticStyle:{width:"100px","margin-right":"15px"},attrs:{disabled:!1===e.floor2FormValidate.allowChangeCount,max:20,min:e.bedroomMinCount},on:{"on-change":e.houseTypeCountChange},model:{value:e.floor2FormValidate.bedroomCount,callback:function(t){e.$set(e.floor2FormValidate,"bedroomCount",t)},expression:"floor2FormValidate.bedroomCount"}}),i("span",{staticStyle:{color:"#000"}},[e._v("卫生间")]),i("InputNumber",{staticStyle:{width:"100px","margin-right":"15px"},attrs:{disabled:!1===e.floor2FormValidate.allowChangeCount,max:20,min:0},on:{"on-change":e.houseTypeCountChange},model:{value:e.floor2FormValidate.bathroomCount,callback:function(t){e.$set(e.floor2FormValidate,"bathroomCount",t)},expression:"floor2FormValidate.bathroomCount"}}),i("span",{staticStyle:{color:"#000"}},[e._v("客厅")]),i("InputNumber",{staticStyle:{width:"100px","margin-right":"15px"},attrs:{disabled:!1===e.floor2FormValidate.allowChangeCount,max:20,min:0},on:{"on-change":e.houseTypeCountChange},model:{value:e.floor2FormValidate.livingroomCount,callback:function(t){e.$set(e.floor2FormValidate,"livingroomCount",t)},expression:"floor2FormValidate.livingroomCount"}}),i("span",{staticStyle:{color:"#000"}},[e._v("厨房")]),i("InputNumber",{staticStyle:{width:"100px","margin-right":"15px"},attrs:{disabled:!1===e.floor2FormValidate.allowChangeCount,max:20,min:0},on:{"on-change":e.houseTypeCountChange},model:{value:e.floor2FormValidate.kitchenCount,callback:function(t){e.$set(e.floor2FormValidate,"kitchenCount",t)},expression:"floor2FormValidate.kitchenCount"}}),i("span",{staticStyle:{color:"#000"}},[e._v("书房")]),i("InputNumber",{staticStyle:{width:"100px","margin-right":"15px"},attrs:{disabled:!1===e.floor2FormValidate.allowChangeCount,max:20,min:0},on:{"on-change":e.houseTypeCountChange},model:{value:e.floor2FormValidate.studyCount,callback:function(t){e.$set(e.floor2FormValidate,"studyCount",t)},expression:"floor2FormValidate.studyCount"}}),i("span",{staticStyle:{color:"#000"}},[e._v("阳台")]),i("InputNumber",{staticStyle:{width:"100px"},attrs:{disabled:!1===e.floor2FormValidate.allowChangeCount,max:20,min:0},on:{"on-change":e.houseTypeCountChange},model:{value:e.floor2FormValidate.balconyCount,callback:function(t){e.$set(e.floor2FormValidate,"balconyCount",t)},expression:"floor2FormValidate.balconyCount"}}),i("unchangeableTips",{directives:[{name:"show",rawName:"v-show",value:e.isShowHouseTypeCountTips,expression:"isShowHouseTypeCountTips"}],attrs:{tipsColor:"#f66",tips:"独立房间必须大于1室"}}),i("unchangeableTips",{directives:[{name:"show",rawName:"v-show",value:e.floor2FormValidate.allowChangeCount&&!e.isShowHouseTypeCountTips,expression:"floor2FormValidate.allowChangeCount && !isShowHouseTypeCountTips"}],attrs:{tips:"该信息审核通过后不可修改"}})],1),i("p",{staticStyle:{"margin-bottom":"8px"}},[e._v("床型")]),e._l(e.floor2FormValidate.houseBedInfos,function(t,o){return i("FormItem",{key:o,attrs:{prop:"bedMessage"}},[i("house-bed-select",{attrs:{bedInfo:t,basicData:e.basicData}}),i("span",{staticStyle:{color:"#6e80e3","font-size":"14px",cursor:"pointer"},on:{click:function(t){return e.removeBedMessage(o)}}},[e._v("删除")])],1)}),i("Button",{staticClass:"addBed-btn",attrs:{type:"primary"},on:{click:e.addBedMessage}},[e._v("+ 继续添加床型")]),1==e.floor2FormValidate.houseResource?i("FormItem",{staticStyle:{width:"500px"},attrs:{prop:"instanceCount",label:"同类房屋数量",rules:{required:!0,validator:this.validatorRoomNum,trigger:"change"}}},[i("p",[i("span",{staticStyle:{"font-size":"12px","margin-left":"10px",color:"#999"}},[e._v("房屋数量是指相同类型房屋的数量，最终会以库存的形式呈现。")])]),i("Input",{staticStyle:{width:"200px"},attrs:{disabled:!1===e.floor2FormValidate.allowChangeCount,placeholder:"请输入同类房源数量",maxlength:3},model:{value:e.floor2FormValidate.instanceCount,callback:function(t){e.$set(e.floor2FormValidate,"instanceCount",t)},expression:"floor2FormValidate.instanceCount"}}),i("span",[e._v("套")]),i("unchangeableTips",{directives:[{name:"show",rawName:"v-show",value:e.floor2FormValidate.allowChangeCount,expression:"floor2FormValidate.allowChangeCount"}],attrs:{tips:"该信息审核通过后不可修改"}})],1):e._e(),2==e.floor2FormValidate.houseResource?i("FormItem",{staticStyle:{width:"500px"},attrs:{prop:"instanceCount",label:"同类房间数量",rules:{required:!0,validator:this.validatorRoomNum2,trigger:"change"}}},[i("p",[i("span",{staticStyle:{"font-size":"12px","margin-left":"10px",color:"#999"}},[e._v("房间数量是指相同类型房间的数量，最终会以库存的形式呈现。")])]),i("Input",{staticStyle:{width:"200px"},attrs:{disabled:!e.floor2FormValidate.allowChangeCount,placeholder:"请输入同类房间数量",maxlength:3},model:{value:e.floor2FormValidate.instanceCount,callback:function(t){e.$set(e.floor2FormValidate,"instanceCount",t)},expression:"floor2FormValidate.instanceCount"}}),i("span",[e._v("套")]),i("unchangeableTips",{directives:[{name:"show",rawName:"v-show",value:e.floor2FormValidate.allowChangeCount,expression:"floor2FormValidate.allowChangeCount"}],attrs:{tips:"该信息审核通过后不可修改"}})],1):e._e(),2==e.floor2FormValidate.houseResource?i("FormItem",{attrs:{prop:"liveTogether"}},[i("Checkbox",{model:{value:e.floor2FormValidate.hostTogetherBoolean,callback:function(t){e.$set(e.floor2FormValidate,"hostTogetherBoolean",t)},expression:"floor2FormValidate.hostTogetherBoolean"}},[e._v("房东是否与房客同住")])],1):e._e(),i("FormItem",[i("div",{staticClass:"nextStep"},[1==e.floor2FormValidate.saveButtonStatus&&void 0!=e.floor2FormValidate.saveButtonStatus?i("Button",{staticClass:"nextStep-btn",attrs:{type:"primary"},on:{click:e.saveDetailBtn}},[e._v("下一步")]):i("Button",{staticClass:"nextStep-btn",attrs:{type:"primary"},on:{click:function(t){return e.saveDetailBtn("floor2FormValidate")}}},[e._v("保存")])],1)])],2),i("Modal",{attrs:{title:"提示","mask-closable":!1},model:{value:e.isShowJump,callback:function(t){e.isShowJump=t},expression:"isShowJump"}},[i("p",[e._v("是否保存本次修改，保存请前往补足"+e._s(this.isShowJumpText)+"图片，否则审核不会通过")]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary"},on:{click:e.giveUp}},[e._v("放弃")]),i("Button",{attrs:{type:"primary"},on:{click:e.makeUpImg}},[e._v("保存并补足")])],1)])],1)])},G=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title-con"},[i("h1",[e._v("房屋详情")]),i("h2",[e._v("客房一般根据房型、户型等信息，选择合适的房屋。")])])}],W=(i("c5f6"),i("6b54"),i("87b3"),i("3b2b"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"g-house-bed-select-layout"},[i("Select",{staticClass:"bed-select",on:{"on-change":e.handleChangeBedName},model:{value:e.bedInfo.unitAmenityGoodsID,callback:function(t){e.$set(e.bedInfo,"unitAmenityGoodsID",t)},expression:"bedInfo.unitAmenityGoodsID"}},e._l(e.basicData.bedsEnum,function(t){return i("Option",{key:t.enumValue,attrs:{value:t.enumValue}},[e._v(e._s(t.display))])}),1),i("Select",{staticClass:"bed-select",model:{value:e.bedInfo.unitAmenityGoodsSpecID,callback:function(t){e.$set(e.bedInfo,"unitAmenityGoodsSpecID",t)},expression:"bedInfo.unitAmenityGoodsSpecID"}},e._l(e.bedTypeListCpd,function(t){return i("Option",{key:t.enumValue,attrs:{value:t.enumValue}},[e._v(e._s(t.display))])}),1),i("Select",{staticClass:"bed-select",model:{value:e.bedInfo.number,callback:function(t){e.$set(e.bedInfo,"number",t)},expression:"bedInfo.number"}},e._l(e.bedNumbers,function(t){return i("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1)],1)}),Q=[],Y=(i("20d6"),{name:"houseBedSelect",props:{bedInfo:{type:Object,default:function(){return{}}},basicData:{type:Object,default:function(){return{}}}},data:function(){return{bedNumbers:[1,2,3,4,5,6,7,8,9,10]}},computed:{bedTypeListCpd:function(){var e=this,t=this.basicData.bedsEnum.findIndex(function(t){return t.enumValue===e.bedInfo.unitAmenityGoodsID});return-1!==t?this.basicData.bedsEnum[t].child:[]}},methods:{handleChangeBedName:function(e){var t=this._findBedTypeByBedNameEnum(e);this.bedInfo.unitAmenityGoodsSpecID=t.enumValue},_findBedTypeByBedNameEnum:function(e){var t=this.basicData.bedsEnum.findIndex(function(t){return t.enumValue===e});return-1!==t?this.basicData.bedsEnum[t].child[0]:{}}}}),X=Y,Z=(i("e8042"),Object(x["a"])(X,W,Q,!1,null,null,null)),K=Z.exports,ee={SINGLE_VILLAS:7,LOFT:3},te={entireHouse:1,singleRoom:2},ie={props:["isActive","houseUnitId","basicData","imageAllHaveType"],data:function(){return{isShowJump:!1,houseType:"",initHouseType:null,initEnumScenicFeature:null,floor2FormRules:{grossArea:[{validator:this.validGrossArea,trigger:"blur"}]},instanceCountType:{required:!1,min:1,max:9999,message:" "},floor2FormValidate:{houseUnitId:"57637ebfc5bf671218440230",houseResource:1,isindex:"",enumHouseType:1,allowChangeCount:!1,supportSingle:!0,grossArea:null,enumScenicFeature:0,bedIndex:1,houseBedInfos:[{unitAmenityGoodsID:16,unitAmenityGoodsSpecID:13,number:"",bedRice:"",index:1,status:1}],bedroomCount:1,bathroomCount:1,livingroomCount:0,kitchenCount:0,studyCount:0,balconyCount:0,recommendedGuests:1,instanceCount:"1",hostTogetherBoolean:!1},recommendGuest:"",maxPeople:"1",houseTypeEnum:[],overseasHoustTypeEnum:[],scenicFeaturesEnum:[],bedSize:"",featureLabelText:"",isSHowErr:!1,disabled:!1,goToNext:!1,picUploadedNum:{},isShowJumpText:"",isCheckEnumHouseType:!1,isChangeHouseTypeCount:!1,bedroomMinCount:1,isShowHouseTypeCountTips:!1,otherPageFacadeCount:0}},computed:{properNum:function(){var e=this;if(!this.floor2FormValidate.houseBedInfos||0==this.floor2FormValidate.houseBedInfos.length||!this.basicData||!this.basicData.bedsEnum||0==this.basicData.bedsEnum.length)return 0;for(var t=0,i=0,o=function(){var o=e.floor2FormValidate.houseBedInfos[a],s=e.basicData.bedsEnum.filter(function(e){return e.enumValue==o.unitAmenityGoodsID})[0].child.filter(function(e){return e.enumValue==o.unitAmenityGoodsSpecID})[0];s&&(t+=o.number*s.limitNumber,i+=o.number*s.suitableNumber)},a=0;a<this.floor2FormValidate.houseBedInfos.length;a++)o();return this.floor2FormValidate.recommendedGuests=i,this.recommendGuest&&(this.floor2FormValidate.recommendedGuests=this.recommendGuest,this.recommendGuest=""),t}},watch:{isActive:function(e){this.isActive&&this.queryDetail()},"floor2FormValidate.bedroomCount":function(){this.isShowHouseTypeCountTips=!1}},created:function(){this.queryDetail()},methods:{validatorRoomNum:function(e,t,i){var o=parseInt(t,10)+"",a=new RegExp("^[0-9]*$");a.test(t)?t!=o&&parseInt(o,10)>0||0===parseInt(t,10)?i(new Error("不能以0开头")):0===t.length?i(new Error("房屋数量不能为空")):i():i(new Error("请输入数字"))},validatorRoomNum2:function(e,t,i){var o=parseInt(t,10)+"",a=new RegExp("^[0-9]*$");a.test(t)?t!=o&&parseInt(o,10)>0||0===parseInt(t,10)?i(new Error("不能以0开头")):0===t.length?i(new Error("房间数量不能为空")):i():i(new Error("请输入数字"))},validGrossArea:function(e,t,i){var o=parseInt(t,10)+"",a=new RegExp("^[0-9]*$");a.test(t)?t!=o&&parseInt(o,10)>0||0===parseInt(t,10)?i(new Error("不能以0开头")):0===t.length?i(new Error("面积不能为空")):i():i(new Error("请输入数字"))},activeChange:function(e){this.$emit("nextStepChuange",e)},getHouseUnitId:function(e){this.$emit("upDateHouseUnitId",e)},roomTypeUpDate:function(e){this.$emit("roomTypeChange",e)},changeHouseType:function(e){this.houseTypeEnum=JSON.parse(JSON.stringify(this.basicData.houseTypeEnum));var t=[];this.houseTypeEnum.forEach(function(i){i.groupName===e&&t.push(i)}),this.houseTypeEnum=t},saveDetailBtn:function(e){return this._checkHouseTypeCount()?this._checkHouseBedInfoList()?void(this.floor2FormValidate.enumHouseType?(this.isCheckEnumHouseType=!1,this.isShowJumpText=this._checkImageCount(),""!==this.isShowJumpText&&1===this.imageAllHaveType?this.isShowJump=!0:(this.isShowJump=!1,this.saveDetail())):(this.isCheckEnumHouseType=!0,this.$Notice.error({desc:"请选择房屋类型"}))):(this.$Notice.error({title:"请选择房屋床型"}),!1):(this.isShowHouseTypeCountTips=!0,this.$Notice.error({desc:"输入信息有误"}),!1)},makeUpImg:function(){this.isShowJump=!1,this.saveDetail("makeUpImg")},giveUp:function(){this.isShowJump=!1},saveDetail:function(e){var t=this;this.goToNext||this.$refs["floor2FormValidate"].validate(function(i){i?(l["a"].open(),r["a"].saveDetail(t.floor2FormValidate,function(i,o,a){l["a"].close(),i?(1==t.floor2FormValidate.saveButtonStatus&&void 0!=t.floor2FormValidate.saveButtonStatus?t.activeChange(2):(2===o?t.$Notice.success({title:"信息已提交审核中"}):1===o&&t.$Notice.success({title:"保存成功"}),t.queryDetail(),t.$emit("menuReload")),"makeUpImg"===e&&t.activeChange(5)):t.$Notice.error({desc:a.errorMsg})})):t.$Notice.warning({title:"请按规则输入必填内容"})})},queryDetail:function(e){var t=this;l["a"].open(),this.floor2FormValidate&&this.floor2FormValidate.houseBedInfos&&(this.floor2FormValidate.houseBedInfos=[]),r["a"].queryDetail(this.houseUnitId,function(e,i,o){l["a"].close(),e?(2==i.saveButtonStatus?t.isShowDistanceStep=0:t.isShowDistanceStep=1,void 0!=i.houseBedInfos?(i.houseBedInfos=i.houseBedInfos.map(function(e){return e.status=1,e}),i.houseBedInfos=i.houseBedInfos.map(function(e){return e.bedRice=[],e})):i.houseBedInfos=[],i.grossArea=i.grossArea||"",i.houseResource||(i.houseResource=te.entireHouse),t.floor2FormValidate=i,t.basicData.houseTypeEnum.forEach(function(e){e.enumValue===t.floor2FormValidate.enumHouseType&&(t.houseType=e.groupName,t.changeHouseType(t.houseType))}),i.bedroomCount||(t.floor2FormValidate.bedroomCount=0),i.kitchenCount||(t.floor2FormValidate.kitchenCount=0),i.balconyCount||(t.floor2FormValidate.balconyCount=0),i.livingroomCount||(t.floor2FormValidate.livingroomCount=0),i.studyCount||(t.floor2FormValidate.studyCount=0),i.bathroomCount||(t.floor2FormValidate.bathroomCount=0),t.picUploadedNum=i.imageCountVo,t.initHouseType=i.enumHouseType,t.initEnumScenicFeature=i.enumScenicFeature,i.recommendedGuests&&(t.recommendGuest=i.recommendedGuests),t.floor2FormValidate.houseResource===te.entireHouse?t.bedroomMinCount=1:t.bedroomMinCount=2,t.otherPageFacadeCount=t._countOtherPageFacadeCount()):t.$Notice.error({desc:o.errorMsg})})},handleFeatureChange:function(e){(e.label||"无"!==e.label)&&(this.featureLabelText=e.label)},handleTabToogle:function(e){var t=this,i=this.floor2FormValidate.enumHouseType;this.$refs["floor2FormValidate"].resetFields(),this.floor2FormValidate.enumHouseType=i,this.$nextTick(function(){t.floor2FormValidate.grossArea=""}),this.floor2FormValidate.instanceCount=1,this.floor2FormValidate.houseResource=e,this.roomTypeUpDate(e),this._initHouseTypeCount(e)},addBedMessage:function(){this.floor2FormValidate.bedIndex++,this.floor2FormValidate.houseBedInfos.push({unitAmenityGoodsID:16,unitAmenityGoodsSpecID:13,number:1,bedRice:[],index:this.floor2FormValidate.bedIndex,status:1})},removeDot:function(e){var t=/\D|\s/g,i=this.floor2FormValidate.instanceCount.toString();!t.test(i)&&Number(i)>0?(this.isSHowErr=!1,this.goToNext=!1):(this.isSHowErr=!0,this.goToNext=!0)},removeBedMessage:function(e){this.floor2FormValidate.houseBedInfos[e].status=0,this.floor2FormValidate.houseBedInfos.splice(e,1)},houseTypeCountChange:function(){this.isChangeHouseTypeCount=!0},_checkHouseTypeCount:function(){return!this.floor2FormValidate.allowChangeCount||this.floor2FormValidate.houseResource===te.entireHouse||this.floor2FormValidate.houseResource===te.singleRoom&&this.floor2FormValidate.bedroomCount>1},_checkHouseBedInfoList:function(){return!!(this.floor2FormValidate.houseBedInfos&&this.floor2FormValidate.houseBedInfos.length>0)},_initHouseTypeCount:function(e){e===te.singleRoom?(this.isChangeHouseTypeCount||(this.floor2FormValidate.bedroomCount=2),this.bedroomMinCount=2):(this.isChangeHouseTypeCount||(this.floor2FormValidate.bedroomCount=1),this.bedroomMinCount=1)},_countOtherPageFacadeCount:function(){var e=0;return this.initHouseType!==ee.SINGLE_VILLAS&&this.initHouseType!==ee.LOFT||e++,0!==this.initEnumScenicFeature&&e++,this.floor2FormValidate.countModel&&this.floor2FormValidate.countModel.facadeCount?this.floor2FormValidate.countModel.facadeCount-e:0},_checkImageCount:function(){if("undefined"===typeof this.picUploadedNum)return"";var e="",t=0;return this.floor2FormValidate.enumHouseType!==ee.SINGLE_VILLAS&&this.floor2FormValidate.enumHouseType!==ee.LOFT||t++,0!==this.floor2FormValidate.enumScenicFeature&&t++,this.floor2FormValidate.houseResource===te.singleRoom?(0===this.picUploadedNum.facadeImageCount&&t+this.otherPageFacadeCount>0&&(e+=",外景"),0===this.picUploadedNum.bedroomImageCount&&this.floor2FormValidate.bedroomCount>0&&(e+=",卧室"),0===this.picUploadedNum.bathroomImageCount&&this.floor2FormValidate.bathroomCount>0&&(e+=",卫生间"),0===this.picUploadedNum.livingRoomImageCount&&this.floor2FormValidate.livingroomCount>0&&(e+=",客厅"),0===this.picUploadedNum.kitchenImageCount&&this.floor2FormValidate.kitchenCount>0&&(e+=",厨房"),e.substr(1)):(this.picUploadedNum.facadeImageCount<t+this.otherPageFacadeCount&&(e+=",外景"),this.floor2FormValidate.imageCountVo.bedroomImageCount<this.floor2FormValidate.bedroomCount&&(e+=",卧室"),this.picUploadedNum.bathroomImageCount<this.floor2FormValidate.bathroomCount&&(e+=",卫生间"),this.picUploadedNum.livingRoomImageCount<this.floor2FormValidate.livingroomCount&&(e+=",客厅"),this.picUploadedNum.kitchenImageCount<this.floor2FormValidate.kitchenCount&&(e+=",厨房"),e.substr(1))}},components:{houseBedSelect:K,rejectTips:T,unchangeableTips:R}},oe=ie,ae=(i("4877"),i("c6a2"),Object(x["a"])(oe,J,G,!1,null,"3ad2572c",null)),se=ae.exports,re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"floor3"},[e._m(0),i("div",{directives:[{name:"show",rawName:"v-show",value:e.floor3FormValidate.rejectReason,expression:"floor3FormValidate.rejectReason"}],staticClass:"reject-tips-wrapper"},[i("rejectTips",{attrs:{rejectText:e.floor3FormValidate.rejectReason}})],1),i("div",{staticClass:"describe-floor"},[i("Form",{ref:"floor3FormValidate",staticStyle:{"margin-top":"20px",position:"relative"},attrs:{model:e.floor3FormValidate,rules:e.floor3FormValidateRules}},[i("FormItem",{staticStyle:{width:"500px"},attrs:{label:"房屋名称",prop:"name",rules:{required:!0,min:2,max:20,message:"房屋名称需在2-20个字符",trigger:"change"}}},[i("i-input",{attrs:{size:"large",maxlength:20,placeholder:"建议：地标+特色/亮点+户型"},on:{"on-change":e.textChangeName,"on-blur":e.nameDisappearCheck,"on-focus":e.handleHouseNameInputFocus},model:{value:e.floor3FormValidate.name,callback:function(t){e.$set(e.floor3FormValidate,"name",t)},expression:"floor3FormValidate.name"}}),i("popTips",{staticClass:"pop-tips-position house-name",attrs:{popTipsOptions:e.popTipsOptions.houseName}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.isNameDisappearCheck&&!e.nameFlag,expression:"isNameDisappearCheck && !nameFlag"}],staticClass:"check-sensitive-words"},[e._v(e._s(e.checkData.name))]),i("p",{directives:[{name:"show",rawName:"v-show",value:e.nameFlag,expression:"nameFlag"}],staticClass:"check-sensitive-words"},[e._v("房屋名称已被占用，另取一个吧！")])],1),i("FormItem",{staticStyle:{"margin-top":"30px",width:"500px"},attrs:{label:"房屋特色",prop:"introduction",rules:{required:!0,min:30,message:"房屋特色需在30-1000个字符",trigger:"blur"}}},[i("i-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",maxlength:1e3,rows:6,placeholder:"可描述房屋软装风格，家居配套，小区环境，物业管理等"},on:{"on-change":e.textChangeIntroduction,"on-focus":e.handleHouseInfoInputFocus,"on-blur":e.textBlurIntroduction},nativeOn:{keyup:function(t){return e.textKeyIntroduction(t)}},model:{value:e.floor3FormValidate.introduction,callback:function(t){e.$set(e.floor3FormValidate,"introduction",t)},expression:"floor3FormValidate.introduction"}}),i("popTips",{staticClass:"pop-tips-position house-info",attrs:{popTipsOptions:e.popTipsOptions.houseInfo}}),e.decErr?i("span",{staticStyle:{color:"red","font-size":"12px",float:"left"}},[e._v("房屋特色需在30-1000个字符")]):e._e(),i("span",{directives:[{name:"show",rawName:"v-show",value:e.isIntroductionDisappearCheck,expression:"isIntroductionDisappearCheck"}],staticClass:"check-sensitive-words"},[e._v(e._s(e.checkData.introduction))]),i("span",{staticClass:"textRight",staticStyle:{float:"right"}},[e._v(e._s(e.floor3FormValidate.featureMax)+"/1000")])],1),i("FormItem",{staticStyle:{"margin-top":"20px",width:"500px"},attrs:{prop:"locationIntroduction"}},[i("p",[e._v("交通位置（选填）")]),i("i-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",rows:6,maxlength:500,placeholder:"位于朝阳门外大街，从朝阳门地铁站A口5分钟到达。楼下有38路、101路等多条公交线路，十分方便。"},on:{"on-change":e.textChangeLocationIntroduction,"on-blur":e.textBlurLocation},nativeOn:{keyup:function(t){return e.textKeyLocation(t)}},model:{value:e.floor3FormValidate.locationIntroduction,callback:function(t){e.$set(e.floor3FormValidate,"locationIntroduction",t)},expression:"floor3FormValidate.locationIntroduction"}}),e.locationErr?i("span",{staticStyle:{color:"red","font-size":"12px",float:"left"}},[e._v("交通位置需在30-500个字符间")]):e._e(),i("span",{directives:[{name:"show",rawName:"v-show",value:e.isLocationDisappearCheck,expression:"isLocationDisappearCheck"}],staticClass:"check-sensitive-words"},[e._v(e._s(e.checkData.locationIntroduction))]),i("span",{staticClass:"textRight",staticStyle:{float:"right"}},[e._v(e._s(e.floor3FormValidate.trafficMax)+"/500")])],1),i("FormItem",{staticStyle:{width:"500px"},attrs:{prop:"surroundingIntroduction"}},[i("p",[e._v("周边介绍（选填）")]),i("i-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",rows:6,maxlength:500,placeholder:"小区东侧有条美食街，特别推荐冒牌火锅菜、海鲜烧烤；附近配有超市便利店、辉煌量贩式KTV、24小时药店、建行ATM，生活便利；最近的医院是**医院，距离2公里，车程仅5分钟，出租车起步价就到。"},on:{"on-blur":e.textBlurSurrounding,"on-change":e.textChangeSurroundingIntroduction},nativeOn:{keyup:function(t){return e.textKeySurrounding(t)}},model:{value:e.floor3FormValidate.surroundingIntroduction,callback:function(t){e.$set(e.floor3FormValidate,"surroundingIntroduction",t)},expression:"floor3FormValidate.surroundingIntroduction"}}),e.surroundingErr?i("span",{staticStyle:{color:"red","font-size":"12px",float:"left"}},[e._v("周边介绍需在30-500个字符")]):e._e(),i("span",{directives:[{name:"show",rawName:"v-show",value:e.isSurroundingDisappearCheck,expression:"isSurroundingDisappearCheck"}],staticClass:"check-sensitive-words"},[e._v(e._s(e.checkData.surroundingIntroduction))]),i("span",{staticClass:"textRight",staticStyle:{float:"right"}},[e._v(e._s(e.floor3FormValidate.introduceMax)+"/500")])],1),i("FormItem",[i("div",{staticClass:"nextStep"},[i("Button",{staticClass:"nextStep-btn",attrs:{type:"primary"},on:{click:function(t){return e.saveDescriptionBtn("floor3FormValidate")}}},[e._v(e._s(e.submitBtnTextCpd))])],1)])],1)],1)])},ne=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title-con"},[i("h1",[e._v("房屋描述")])])}],le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{directives:[{name:"show",rawName:"v-show",value:e.popTipsOptions.visiable,expression:"popTipsOptions.visiable"}],staticClass:"g-pop-tips-layout"},[i("p",{staticClass:"tips-text"},[e._v(e._s(e.popTipsOptions.text))])])},ce=[],ue={name:"tjPopTips",props:{popTipsOptions:{type:Object,default:function(){return{visiable:!1,text:""}}}}},de=ue,he=(i("8e53"),Object(x["a"])(de,le,ce,!1,null,"4ce18a91",null)),me=he.exports;function pe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function fe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?pe(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):pe(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var ge={props:["roomType","isActive","houseUnitId"],data:function(){return{isNameDisappearCheck:!0,isIntroductionDisappearCheck:!0,isLocationDisappearCheck:!0,isSurroundingDisappearCheck:!0,checkData:{},checkNameNum:0,timer:"",num:1,nameFlag:!1,decErr:!1,locationErr:!1,surroundingErr:!1,floor3FormValidate:{name:"",location:"",introduction:"",locationIntroduction:"",surroundingIntroduction:"",nameMax:0,featureMax:0,trafficMax:0,introduceMax:0,status:0,houseResource:1,saveButtonStatus:1},floor3FormValidateRules:{introduction:[{required:!0,validator:this.validateIntroduction,trigger:"change"}],locationIntroduction:[{validator:this.locationIntroduction,trigger:"blur"}],surroundingIntroduction:[{validator:this.surroundingIntroduction,trigger:"change"}]},popTipsOptions:{houseName:{visiable:!1,text:"示例：后海简约风格湖景两居公寓"},houseInfo:{visiable:!1,text:"示例：整个房子为地中海风格，卧室有超大飘窗，窗外可见中国尊。室内设施采用全套宜家家居，床品舒适。洗衣做饭方便。小区绿化达70%，有免费室外温泉，棋牌室可供使用。配备了24小时保安系统，安全便捷。"}}}},computed:fe({},Object(n["e"])({host:"host"}),{submitBtnTextCpd:function(){return"undefined"!==typeof this.floor3FormValidate.saveButtonStatus&&1===this.floor3FormValidate.saveButtonStatus?"下一步":"保存"}}),watch:{isActive:function(e){this.isActive&&this.queryDescription()}},created:function(){this.queryDescription()},methods:{handleHouseNameInputFocus:function(){this._togglePopTips("houseName")},handleHouseInfoInputFocus:function(){this._togglePopTips("houseInfo")},nameDisappearCheck:function(){if(this._togglePopTips("houseName"),this.floor3FormValidate.name){var e=this.floor3FormValidate.name.length;(e<2||e>20)&&(this.isNameDisappearCheck=!1)}},locationIntroduction:function(e,t,i){t=t||"",t.length>0&&t.length<30?i(new Error("交通位置需在30-500个字符间")):i()},checkName:function(){var e=this;this.checkNameNum++,l["a"].open(),r["a"].checkHouseName(this.floor3FormValidate.name,this.houseUnitId,function(t,i,o){l["a"].close(),t&&(e.nameFlag=!i)})},surroundingIntroduction:function(e,t,i){t=t||"",t.length>0&&t.length<30?i(new Error("周边介绍需在30-500个字符")):i()},activeChange:function(){this.$emit("nextStepChuange",3)},getHouseUnitId:function(e){this.$emit("upDateHouseUnitId",e)},saveDescriptionBtn:function(e){var t=this;this.isNameDisappearCheck=!1,this.isIntroductionDisappearCheck=!1,this.isLocationDisappearCheck=!1,this.isSurroundingDisappearCheck=!1,this.$refs[e].validate(function(e){e&&!t.nameFlag?(l["a"].open(),r["a"].checkHouseName(t.floor3FormValidate.name,t.houseUnitId,function(e,i,o){l["a"].close(),e?(l["a"].open(),f.checkSensitiveWordForDescription(t.floor3FormValidate).then(function(e){0!==Object.keys(e).length?(t.isNameDisappearCheck=!0,t.isIntroductionDisappearCheck=!0,t.isLocationDisappearCheck=!0,t.isSurroundingDisappearCheck=!0,t.checkData=e,t.$Notice.error({desc:"您输入的内容包含敏感词，无法保存"})):r["a"].saveDescription(t.floor3FormValidate,function(e,i,o){e?1===t.floor3FormValidate.saveButtonStatus?t.activeChange():(2===i?t.$Notice.success({title:"信息已提交审核中"}):1===i&&t.$Notice.success({title:"保存成功"}),t.queryDescription(),t.$emit("menuReload")):t.$Notice.error({desc:o.errorMsg})})})["catch"](function(e){t.$Notice.error({title:e.errorMsg})}).finally(function(){l["a"].close()})):t.$Notice.error({title:"房屋名称不能与之前的重复，请重现填写"})})):(window.scrollTo(0,0),t.$Notice.warning({title:"请按规则填写表单内容"}))})},queryDescription:function(e){var t=this;this.isNameDisappearCheck=!1,this.isIntroductionDisappearCheck=!1,this.isLocationDisappearCheck=!1,this.isSurroundingDisappearCheck=!1,l["a"].open(),r["a"].queryDescription(this.houseUnitId,function(e,i,o){l["a"].close(),e?(2===i.saveButtonStatus?t.isShowDistanceStep=0:t.isShowDistanceStep=1,t.floor3FormValidate=i,void 0!=i.name?t.floor3FormValidate.nameMax=i.name.length:t.floor3FormValidate.nameMax=0,void 0!=i.introduction?t.floor3FormValidate.featureMax=i.introduction.length:t.floor3FormValidate.featureMax=0,void 0!=i.locationIntroduction?t.floor3FormValidate.trafficMax=i.locationIntroduction.length:t.floor3FormValidate.trafficMax=0,void 0!=i.surroundingIntroduction?t.floor3FormValidate.introduceMax=i.surroundingIntroduction.length:t.floor3FormValidate.introduceMax=0):t.$Notice.error({desc:o.errorMsg})})},nameTest:function(){this.checkName()},textChangeName:function(){this.floor3FormValidate.nameMax=this.floor3FormValidate.name.length,this.timer?(clearTimeout(this.timer),this.checkNameNum=0,this.timer=setTimeout(this.checkName,500)):this.timer=setTimeout(this.checkName,500)},textChangeIntroduction:function(){this.floor3FormValidate.featureMax=this.floor3FormValidate.introduction.length},textKeyIntroduction:function(){this.floor3FormValidate.introduction.length<1e3?this.decErr=!1:this.decErr=!0},textBlurIntroduction:function(){this._togglePopTips("houseInfo"),this.decErr=!1;var e=this.floor3FormValidate.introduction;(e<30||e>1e3)&&(this.isIntroductionDisappearCheck=!1)},textChangeLocationIntroduction:function(){this.floor3FormValidate.trafficMax=this.floor3FormValidate.locationIntroduction.length},textChangeSurroundingIntroduction:function(){this.floor3FormValidate.introduceMax=this.floor3FormValidate.surroundingIntroduction.length},textKeySurrounding:function(){this.floor3FormValidate.surroundingIntroduction.length>=500?this.surroundingErr=!0:this.surroundingErr=!1},textKeyLocation:function(){this.floor3FormValidate.locationIntroduction.length>=500?this.locationErr=!0:this.locationErr=!1},textBlurSurrounding:function(){this.surroundingErr=!1;var e=this.floor3FormValidate.surroundingIntroduction;(e<30||e>500)&&(this.isSurroundingDisappearCheck=!1)},textBlurLocation:function(){this.locationErr=!1;var e=this.floor3FormValidate.locationIntroduction;(e<30||e>500)&&(this.isLocationDisappearCheck=!1)},textChange:function(){this.otherCheckTipsNumMax=this.floor5FormValidate.checkinExplained.length},_togglePopTips:function(e){this.popTipsOptions[e].visiable=!this.popTipsOptions[e].visiable}},components:{rejectTips:T,popTips:me}},ve=ge,ye=(i("5172"),Object(x["a"])(ve,re,ne,!1,null,"d8c4e092",null)),Ce=ye.exports,we=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"floor4"},[e._m(0),i("div",{directives:[{name:"show",rawName:"v-show",value:e.floor4FormValidate.rejectReason,expression:"floor4FormValidate.rejectReason"}],staticClass:"reject-tips-wrapper"},[i("rejectTips",{attrs:{rejectText:e.floor4FormValidate.rejectReason}})],1),i("div",{staticClass:"service-floor"},[e.isShowFacilitiesInfo?i("div",{staticClass:"u-facilities-info"},[e._v("空调选项已细分为全部客厅卧室有空调、部分客厅卧室有空调，请维护")]):e._e(),i("Form",{ref:"floor4FormValidate",attrs:{model:e.floor4FormValidate}},[i("FormItem",{staticStyle:{"margin-top":"20px"},attrs:{prop:"homeFamily"}},[i("p",[e._v("居家")]),i("CheckboxGroup",{attrs:{label:"homeFamily"},on:{"on-change":e.serviceCheckboxHomeFamily},model:{value:e.floor4FormValidate.homeFamily,callback:function(t){e.$set(e.floor4FormValidate,"homeFamily",t)},expression:"floor4FormValidate.homeFamily"}},e._l(e.basicData.homeEnum,function(t){return i("Checkbox",{key:t.enumValue,staticClass:"checkboxLi",attrs:{label:t.enumValue}},[e._v(e._s(t.display))])}),1)],1),i("FormItem",{staticStyle:{"border-top":"1px solid #eee"},attrs:{prop:"bathroom"}},[i("p",{staticStyle:{"margin-top":"20px"}},[e._v("卫浴")]),i("CheckboxGroup",{attrs:{label:"bathroom"},on:{"on-change":e.serviceCheckboxBathroom},model:{value:e.floor4FormValidate.bathroom,callback:function(t){e.$set(e.floor4FormValidate,"bathroom",t)},expression:"floor4FormValidate.bathroom"}},e._l(e.toiletriesEnum,function(t){return i("Checkbox",{key:t.enumValue,staticClass:"checkboxLi",attrs:{label:t.enumValue}},[e._v(e._s(t.display))])}),1)],1),i("FormItem",{staticStyle:{"border-top":"1px solid #eee"},attrs:{prop:"kitchen"}},[i("p",{staticStyle:{"margin-top":"20px"}},[e._v("餐厨")]),i("CheckboxGroup",{attrs:{label:"kitchen"},on:{"on-change":e.serverChange},model:{value:e.floor4FormValidate.kitchen,callback:function(t){e.$set(e.floor4FormValidate,"kitchen",t)},expression:"floor4FormValidate.kitchen"}},e._l(e.basicData.kitchenwareEnum,function(t){return i("Checkbox",{key:t.enumValue,staticClass:"checkboxLi",attrs:{label:t.enumValue}},[e._v(e._s(t.display))])}),1)],1),i("FormItem",{staticStyle:{"border-top":"1px solid #eee"},attrs:{prop:"happy"}},[i("p",{staticStyle:{"margin-top":"20px"}},[e._v("娱乐")]),i("CheckboxGroup",{attrs:{label:"happy"},on:{"on-change":e.serverChange},model:{value:e.floor4FormValidate.happy,callback:function(t){e.$set(e.floor4FormValidate,"happy",t)},expression:"floor4FormValidate.happy"}},e._l(e.basicData.entertainmentEnum,function(t){return i("Checkbox",{key:t.enumValue,staticClass:"checkboxLi",attrs:{label:t.enumValue}},[e._v(e._s(t.display))])}),1)],1),i("FormItem",{staticStyle:{"border-top":"1px solid #eee"},attrs:{prop:"security"}},[i("p",{staticStyle:{"margin-top":"20px"}},[e._v("安全")]),i("CheckboxGroup",{attrs:{label:"security"},on:{"on-change":e.serverChange},model:{value:e.floor4FormValidate.security,callback:function(t){e.$set(e.floor4FormValidate,"security",t)},expression:"floor4FormValidate.security"}},e._l(e.basicData.securityEnum,function(t){return i("Checkbox",{key:t.enumValue,staticClass:"checkboxLi",attrs:{label:t.enumValue}},[e._v(e._s(t.display))])}),1)],1),i("FormItem",{staticStyle:{"border-top":"1px solid #eee"},attrs:{prop:"building"}},[i("p",{staticStyle:{"margin-top":"20px"}},[e._v("建筑")]),i("CheckboxGroup",{staticStyle:{overflow:"hidden"},attrs:{label:"building"},on:{"on-change":e.serverChange},model:{value:e.floor4FormValidate.building,callback:function(t){e.$set(e.floor4FormValidate,"building",t)},expression:"floor4FormValidate.building"}},e._l(e.buildingFacilityList,function(t){return i("Checkbox",{key:t.enumValue,staticClass:"checkboxLi",attrs:{label:t.enumValue}},[e._v(e._s(t.display))])}),1),i("unchangeableTips",{directives:[{name:"show",rawName:"v-show",value:e.unchangeableTipsCpd,expression:"unchangeableTipsCpd"}],attrs:{tips:e.unchangeableTipsCpd}})],1),i("FormItem",{staticStyle:{"border-top":"1px solid #eee"},attrs:{prop:"range"}},[i("p",{staticStyle:{"margin-top":"20px"}},[e._v("周边（500米内）")]),i("CheckboxGroup",{attrs:{label:"range"},on:{"on-change":e.serverChange},model:{value:e.floor4FormValidate.range,callback:function(t){e.$set(e.floor4FormValidate,"range",t)},expression:"floor4FormValidate.range"}},e._l(e.basicData.surroundingsEnum,function(t){return i("Checkbox",{key:t.enumValue,staticClass:"checkboxLi",attrs:{label:t.enumValue}},[e._v(e._s(t.display))])}),1)],1),i("FormItem",{staticStyle:{"border-top":"1px solid #eee"},attrs:{prop:"other"}},[i("p",{staticStyle:{"margin-top":"20px"}},[e._v("其他")]),i("CheckboxGroup",{attrs:{label:"other"},on:{"on-change":e.serverChange},model:{value:e.floor4FormValidate.other,callback:function(t){e.$set(e.floor4FormValidate,"other",t)},expression:"floor4FormValidate.other"}},e._l(e.basicData.othersEnum,function(t){return i("Checkbox",{key:t.enumValue,staticClass:"checkboxLi",attrs:{label:t.enumValue}},[e._v(e._s(t.display))])}),1)],1),i("FormItem",[i("div",{staticClass:"nextStep"},[i("Button",{class:e.saveBtnClass,attrs:{type:"primary"},on:{click:e.savefacilityBtn}},[e._v(e._s(e.submitBtnTextCpd))])],1)])],1),i("Modal",{attrs:{title:"提示","mask-closable":!1},model:{value:e.isShowJump,callback:function(t){e.isShowJump=t},expression:"isShowJump"}},[i("p",[e._v("是否保存本次修改，保存请前往补足"+e._s(e.isShowJumpText)+"图片，否则审核不会通过")]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary"},on:{click:e.giveUp}},[e._v("放弃")]),i("Button",{attrs:{type:"primary"},on:{click:e.makeUpImg}},[e._v("保存并补足")])],1)])],1)])},Ie=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title-con"},[i("h1",[e._v("设施服务")]),i("h2",[e._v("房客可以按照他们想要的配套设施选择房屋。因此，请在页面上尽可能地全面展示您的房屋的配套设施。")])])}];i("4f7f"),i("5df3"),i("1c4c");function Fe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function be(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Fe(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Fe(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var Se={LIVING_ROOM:49,GARDEN:52,SWIMMING_POOL:53,TERRACE:63},_e={props:["isActive","houseUnitId","basicData","imageAllHaveType"],data:function(){return{toiletriesEnum:[],floor4FormValidate:{homeFamily:[],homeEnum:[],bathroom:[],toiletriesEnum:[],kitchen:[],kitchenwareEnum:[],happy:[],entertainmentEnum:[],security:[],securityEnum:[],building:[],buildingEnum:[],range:[],surroundingsEnum:[],other:[],othersEnum:[]},choosedFacilitiesNum:0,isShowFacilitiesInfo:!1,saveBtnClass:"canNotNext",floor4Status:1,enumHouseFacilitiesObj:{enumHouseFacilities:[],houseUnitId:""},initBuilding:[],isJumpUpdateImage:!1,isShowJumpText:"",isShowJump:!1,imageCountVo:{},countModel:{},houseResource:0,buildingFacilityList:[]}},computed:be({},Object(n["e"])({host:"host"}),{submitBtnTextCpd:function(){return"undefined"!==typeof this.floor4Status&&1===this.floor4Status?"下一步":"保存"},unchangeableTipsCpd:function(){for(var e="",t=0;t<this.floor4FormValidate.building.length;t++)this.floor4FormValidate.building[t]===Se.GARDEN?e+="、私家花园":this.floor4FormValidate.building[t]===Se.SWIMMING_POOL?e+="、私家泳池":this.floor4FormValidate.building[t]===Se.TERRACE&&(e+="、观景露台");return e?"必须上传".concat(e.substr(1),"照片，否则无法审核通过"):""}}),watch:{isActive:function(e){this.isActive&&this.queryFacility()},"floor4FormValidate.building":{handler:function(e,t){if(this.imageCountVo){var i=this.countModel.facadeCount,o=0;e.forEach(function(e){e===Se.GARDEN?o++:e===Se.SWIMMING_POOL?o++:e===Se.TERRACE&&o++});var a=0;if(this.initBuilding.forEach(function(e){e===Se.GARDEN?a++:e===Se.SWIMMING_POOL?a++:e===Se.TERRACE&&a++}),this.isJumpUpdateImage=!1,2===this.houseResource){if(i+o-a>1){var s="";s="外景",this.isShowJumpText=s,this.isJumpUpdateImage=""!==s}}else if(i+o-a>this.imageCountVo.facadeImageCount){var r="";r="外景",this.isShowJumpText=r,this.isJumpUpdateImage=""!==r}}},deep:!0}},created:function(){this.queryFacility()},methods:{makeUpImg:function(){this.savefacility("makeUpImg"),this.isShowJump=!1},giveUp:function(){this.isShowJump=!1},activeChange:function(e){this.$emit("nextStepChuange",e)},getHouseUnitId:function(e){this.$emit("upDateHouseUnitId",e)},savefacilityBtn:function(){this.isJumpUpdateImage&&1===this.imageAllHaveType?this.isShowJump=!0:this.savefacility()},savefacility:function(e){var t=this;if("canNotNext"!==this.saveBtnClass){this.enumHouseFacilitiesObj.houseUnitId=this.houseUnitId,this.enumHouseFacilitiesObj.enumHouseFacilities=this.floor4FormValidate.homeFamily.concat(this.floor4FormValidate.bathroom).concat(this.floor4FormValidate.kitchen).concat(this.floor4FormValidate.happy).concat(this.floor4FormValidate.security).concat(this.floor4FormValidate.building).concat(this.floor4FormValidate.range).concat(this.floor4FormValidate.other),l["a"].open();for(var i=[],o=0;o<this.enumHouseFacilitiesObj.enumHouseFacilities.length;o++)-1===i.indexOf(this.enumHouseFacilitiesObj.enumHouseFacilities[o])&&i.push(this.enumHouseFacilitiesObj.enumHouseFacilities[o]);this.enumHouseFacilitiesObj.enumHouseFacilities=i,r["a"].saveFacility(this.enumHouseFacilitiesObj,function(i,o,a){l["a"].close(),i?(1===t.floor4Status?t.activeChange(4):(2===o?t.$Notice.success({title:"信息已提交审核中"}):1===o&&t.$Notice.success({title:"保存成功"}),t.queryFacility(),t.$emit("menuReload")),"makeUpImg"===e&&t.activeChange(5)):t.$Notice.error({desc:a.errorMsg})})}},queryFacility:function(e){var t=this;l["a"].open(),r["a"].queryFacility(this.houseUnitId,function(e,i,o){if(t.imageCountVo=i.imageCountVo,t.countModel=i.countModel,t.houseResource=i.houseResource,t.floor4FormValidate={homeFamily:[],homeEnum:[],bathroom:[],toiletriesEnum:[],kitchen:[],kitchenwareEnum:[],happy:[],entertainmentEnum:[],security:[],securityEnum:[],building:[],buildingEnum:[],range:[],surroundingsEnum:[],other:[],othersEnum:[]},l["a"].close(),e){i.enumHouseFacilities=i.enumHouseFacilities||"",i.enumHouseFacilities.length>0?t.saveBtnClass="nextStep-btn":t.saveBtnClass="canNotNext",t.isShowFacilitiesInfo=i.showInfo,t.basicData.toiletriesEnum&&(t.toiletriesEnum=t.basicData.toiletriesEnum.slice(),1===i.houseResource&&t.toiletriesEnum&&t.toiletriesEnum.splice(1,1)),2===i.saveButtonStatus?t.isShowDistanceStep=0:t.isShowDistanceStep=1,t.floor4Status=i.saveButtonStatus,t.enumHouseFacilities=i.enumHouseFacilities,t.enumHouseFacilitiesObj.houseUnitId=i.houseUnitId,t.initBuilding=[],t.buildingFacilityList=t.basicData.buildingEnum,i.showLivingRoom||(t.buildingFacilityList=t._filterFacilityList({list:t.basicData.buildingEnum,filterValue:Se.LIVING_ROOM}));for(var a=0;a<t.enumHouseFacilities.length;a++){for(var s=0;s<t.basicData.homeEnum.length;s++)t.enumHouseFacilities[a]==t.basicData.homeEnum[s].enumValue&&t.floor4FormValidate.homeFamily.push(t.enumHouseFacilities[a]);for(var r=0;r<t.basicData.toiletriesEnum.length;r++)t.enumHouseFacilities[a]==t.basicData.toiletriesEnum[r].enumValue&&t.floor4FormValidate.bathroom.push(t.enumHouseFacilities[a]);for(var n=0;n<t.basicData.kitchenwareEnum.length;n++)t.enumHouseFacilities[a]==t.basicData.kitchenwareEnum[n].enumValue&&t.floor4FormValidate.kitchen.push(t.enumHouseFacilities[a]);for(var c=0;c<t.basicData.entertainmentEnum.length;c++)t.enumHouseFacilities[a]==t.basicData.entertainmentEnum[c].enumValue&&t.floor4FormValidate.happy.push(t.enumHouseFacilities[a]);for(var u=0;u<t.basicData.securityEnum.length;u++)t.enumHouseFacilities[a]==t.basicData.securityEnum[u].enumValue&&t.floor4FormValidate.security.push(t.enumHouseFacilities[a]);for(var d=0;d<t.buildingFacilityList.length;d++)t.enumHouseFacilities[a]==t.buildingFacilityList[d].enumValue&&(t.floor4FormValidate.building.push(t.enumHouseFacilities[a]),t.initBuilding.push(t.enumHouseFacilities[a]));for(var h=0;h<t.basicData.surroundingsEnum.length;h++)t.enumHouseFacilities[a]==t.basicData.surroundingsEnum[h].enumValue&&t.floor4FormValidate.range.push(t.enumHouseFacilities[a]);for(var m=0;m<t.basicData.othersEnum.length;m++)t.enumHouseFacilities[a]==t.basicData.othersEnum[m].enumValue&&t.floor4FormValidate.other.push(t.enumHouseFacilities[a])}t.initBuilding=Array.from(new Set(t.initBuilding))}else t.$Notice.error({desc:o.errorMsg})})},serviceCheckboxHomeFamily:function(e,t){this.choosedFacilitiesNum+=e.length,this.choosedFacilitiesNum>0?this.saveBtnClass="nextStep-btn":this.saveBtnClass="canNotNext";var i=this.floor4FormValidate.homeFamily,o=i.indexOf(64),a=i.indexOf(65);o>-1&&a>-1&&(o>a?this.floor4FormValidate.homeFamily.splice(a,1):this.floor4FormValidate.homeFamily.splice(o,1))},serviceCheckboxBathroom:function(e){this.choosedFacilitiesNum+=e.length,this.choosedFacilitiesNum>0?this.saveBtnClass="nextStep-btn":this.saveBtnClass="canNotNext";var t=this.floor4FormValidate.bathroom,i=t.indexOf(17),o=t.indexOf(62),a=t.indexOf(19),s=t.indexOf(20);i>-1&&o>-1&&(i>o?this.floor4FormValidate.bathroom.splice(o,1):this.floor4FormValidate.bathroom.splice(i,1)),a>-1&&s>-1&&(a>s?this.floor4FormValidate.bathroom.splice(s,1):this.floor4FormValidate.bathroom.splice(a,1))},serverChange:function(e){this.choosedFacilitiesNum+=e.length,this.choosedFacilitiesNum>0?this.saveBtnClass="nextStep-btn":this.saveBtnClass="canNotNext"},_filterFacilityList:function(e){var t=e.list,i=e.filterValue;return t.filter(function(e){return e.enumValue!==i})}},components:{rejectTips:T,unchangeableTips:R}},xe=_e,Ve=(i("5825"),Object(x["a"])(xe,we,Ie,!1,null,"21439fc6",null)),Te=Ve.exports,Pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:4==e.isActive,expression:"isActive==4"}],staticClass:"floor5"},[e._m(0),i("div",{directives:[{name:"show",rawName:"v-show",value:e.floor5FormValidate.rejectReason,expression:"floor5FormValidate.rejectReason"}],staticClass:"reject-tips-wrapper"},[i("rejectTips",{attrs:{rejectText:e.floor5FormValidate.rejectReason}})],1),i("div",{staticClass:"describe-floor"},[i("Form",{ref:"floor5FormValidate",attrs:{model:e.floor5FormValidate,rules:e.floor5FormRules}},[i("FormItem",{staticStyle:{"margin-top":"20px"},attrs:{prop:"checkInReceptionTime"}},[i("div",{staticClass:"checkTime"},[i("p",[e._v("房客入住时间")]),i("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"房客入住时间"},on:{"on-change":e.handleTimeSelectChange},model:{value:e.floor5FormValidate.checkInReceptionTime,callback:function(t){e.$set(e.floor5FormValidate,"checkInReceptionTime",t)},expression:"floor5FormValidate.checkInReceptionTime"}},e._l(e.timeList,function(t){return i("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1)],1),i("div",{staticClass:"leaveTime"},[i("p",[e._v("房客退房时间")]),i("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"房客退房时间"},on:{"on-change":e.handleTimeSelectChange},model:{value:e.floor5FormValidate.checkOutLatestTime,callback:function(t){e.$set(e.floor5FormValidate,"checkOutLatestTime",t)},expression:"floor5FormValidate.checkOutLatestTime"}},e._l(e.timeList,function(t){return i("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1)],1),i("unchangeableTips",{directives:[{name:"show",rawName:"v-show",value:e.checkTimeTips,expression:"checkTimeTips"}],attrs:{isShowIcon:!0,tipsColor:"#FF3300",tips:e.checkTimeTips}})],1),i("p",{staticStyle:{"margin-bottom":"5px"}},[e._v("接待房客的时间")]),e._l(e.floor5FormValidate.houseAcceptTimes,function(t,o){return t.status?i("FormItem",{key:o,attrs:{prop:"receptionTime"}},[i("Select",{staticStyle:{width:"200px"},model:{value:t.startAcceptTime,callback:function(i){e.$set(t,"startAcceptTime",i)},expression:"item.startAcceptTime"}},e._l(e.timeList,function(t){return i("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1),i("span",{staticStyle:{margin:"0 5px"}},[e._v("至")]),i("Select",{staticStyle:{width:"200px"},model:{value:t.endAcceptTime,callback:function(i){e.$set(t,"endAcceptTime",i)},expression:"item.endAcceptTime"}},e._l(e.timeList,function(t){return i("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1),1!==e.floor5FormValidate.houseAcceptTimes.length?i("span",{staticClass:"del",on:{click:function(t){return e.removeReceptionTime(o)}}},[e._v("删除")]):e._e()],1):e._e()}),e.floor5FormValidate.houseAcceptTimes.length<=2?i("Button",{staticClass:"add-receptionTime",attrs:{type:"primary"},on:{click:e.addReceptionTime}},[e._v("+ 添加接待时段")]):e._e(),e.floor5FormValidate.showHasFrontDesk?i("FormItem",[i("p",[e._v("是否有前台")]),i("RadioGroup",{model:{value:e.floor5FormValidate.hasFrontDesk,callback:function(t){e.$set(e.floor5FormValidate,"hasFrontDesk",t)},expression:"floor5FormValidate.hasFrontDesk"}},[i("Radio",{attrs:{label:"1"}},[e._v("是")]),i("Radio",{attrs:{label:"0"}},[e._v("否")])],1)],1):e._e(),i("FormItem",{attrs:{prop:"receptionGender"}},[i("p",[e._v("接待性别")]),i("RadioGroup",{model:{value:e.floor5FormValidate.enumAcceptSex,callback:function(t){e.$set(e.floor5FormValidate,"enumAcceptSex",t)},expression:"floor5FormValidate.enumAcceptSex"}},e._l(e.basicData.acceptSexEnum,function(t){return i("Radio",{key:t.enumValue,attrs:{label:t.enumValue}},[e._v(e._s(t.display))])}),1)],1),i("FormItem",{attrs:{prop:"receptionAgeLimit"}},[i("p",[e._v("接待特殊年龄段")]),i("CheckboxGroup",{model:{value:e.floor5FormValidate.enumAcceptAges,callback:function(t){e.$set(e.floor5FormValidate,"enumAcceptAges",t)},expression:"floor5FormValidate.enumAcceptAges"}},e._l(e.basicData.acceptAgesEnum,function(t){return i("Checkbox",{key:t.enumValue,attrs:{label:t.enumValue}},[e._v(e._s(t.display))])}),1)],1),e.floor5FormValidate.showReceiptForeigner?i("FormItem",{attrs:{prop:"receiptForeigner"}},[i("p",[e._v("是否接待外宾")]),i("RadioGroup",{model:{value:e.floor5FormValidate.receiptForeigner,callback:function(t){e.$set(e.floor5FormValidate,"receiptForeigner",t)},expression:"floor5FormValidate.receiptForeigner"}},[i("Radio",{attrs:{label:"1"}},[e._v("是")]),i("Radio",{attrs:{label:"0"}},[e._v("否")])],1)],1):e._e(),e.floor5FormValidate.showReceiptLanguage?i("FormItem",{attrs:{prop:"receptionLanguage"}},[i("p",[e._v("接待语言")]),i("CheckboxGroup",{model:{value:e.floor5FormValidate.receiptLang,callback:function(t){e.$set(e.floor5FormValidate,"receiptLang",t)},expression:"floor5FormValidate.receiptLang"}},[i("Checkbox",{attrs:{label:"1"}},[e._v("中文")]),i("Checkbox",{attrs:{label:"2"}},[e._v("英文")])],1)],1):e._e(),i("FormItem",{staticStyle:{"border-top":"1px solid #eee"},attrs:{prop:"enumCleaningFrequency"}},[i("p",{staticStyle:{"margin-top":"20px"}},[e._v("打扫换洗方式")]),i("div",{staticClass:"clearHouse"},[i("p",[e._v("多久提供打扫卫生")]),i("Select",{staticStyle:{width:"200px"},model:{value:e.floor5FormValidate.enumCleaningFrequency,callback:function(t){e.$set(e.floor5FormValidate,"enumCleaningFrequency",t)},expression:"floor5FormValidate.enumCleaningFrequency"}},e._l(e.basicData.cleaningFrequencyEnum,function(t){return i("Option",{key:t.enumValue,attrs:{value:t.enumValue}},[e._v(e._s(t.display))])}),1)],1),i("div",{staticClass:"clearHouse"},[i("p",[e._v("多久提供被单更换")]),i("Select",{staticStyle:{width:"200px"},model:{value:e.floor5FormValidate.enumSheetReplaceFrequency,callback:function(t){e.$set(e.floor5FormValidate,"enumSheetReplaceFrequency",t)},expression:"floor5FormValidate.enumSheetReplaceFrequency"}},e._l(e.basicData.sheetReplaceFrequencyEnum,function(t){return i("Option",{key:t.enumValue,attrs:{value:t.enumValue}},[e._v(e._s(t.display))])}),1)],1),void 0!=e.floor5FormValidate.enumToothSetReplaceFrequency?i("div",{staticClass:"clearHouse"},[i("p",[e._v("多久提供牙具更换")]),i("Select",{staticStyle:{width:"200px"},model:{value:e.floor5FormValidate.enumToothSetReplaceFrequency,callback:function(t){e.$set(e.floor5FormValidate,"enumToothSetReplaceFrequency",t)},expression:"floor5FormValidate.enumToothSetReplaceFrequency"}},e._l(e.basicData.toothSetReplaceFrequencyEnum,function(t){return i("Option",{key:""+t.enumValue,attrs:{value:t.enumValue}},[e._v(e._s(t.display))])}),1)],1):e._e(),void 0!=e.floor5FormValidate.enumTowelReplaceFrequency?i("div",{staticClass:"clearHouse"},[i("p",[e._v("多久提供毛巾/浴巾更换")]),i("Select",{staticStyle:{width:"200px"},model:{value:e.floor5FormValidate.enumTowelReplaceFrequency,callback:function(t){e.$set(e.floor5FormValidate,"enumTowelReplaceFrequency",t)},expression:"floor5FormValidate.enumTowelReplaceFrequency"}},e._l(e.basicData.towelReplaceFrequencyEnum,function(t){return i("Option",{key:""+t.enumValue,attrs:{value:t.enumValue}},[e._v(e._s(t.display))])}),1)],1):e._e()]),i("FormItem",{staticStyle:{"border-top":"1px solid #eee"},attrs:{prop:"tenantRequirements"}},[i("p",{staticStyle:{"margin-top":"20px"}},[e._v("对房客的要求")]),i("CheckboxGroup",{model:{value:e.floor5FormValidate.enumIndoorPermits,callback:function(t){e.$set(e.floor5FormValidate,"enumIndoorPermits",t)},expression:"floor5FormValidate.enumIndoorPermits"}},e._l(e.indoorPermitsEnumListCpd,function(t){return i("Checkbox",{key:t.enumValue,staticStyle:{display:"block",width:"160px"},attrs:{label:t.enumValue,disabled:t.disabled}},[e._v("\n              "+e._s(t.display)+"\n              "),i("br"),"允许聚会"==t.display&&void 0!=e.floor5FormValidate.enumIndoorPermits&&-1!=e.floor5FormValidate.enumIndoorPermits.indexOf(8)?i("i-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:4,maxlength:150,placeholder:"空代表不收费，若收取费用请说明"},model:{value:e.floor5FormValidate.partyChargeDescription,callback:function(t){e.$set(e.floor5FormValidate,"partyChargeDescription",t)},expression:"floor5FormValidate.partyChargeDescription"}}):e._e(),"允许聚会"==t.display&&void 0!=e.floor5FormValidate.enumIndoorPermits&&-1!=e.floor5FormValidate.enumIndoorPermits.indexOf(8)?i("p",{staticClass:"check-sensitive-words"},[e._v(e._s(e.checkData.partyChargeDescription))]):e._e(),"允许商业拍摄"==t.display&&void 0!=e.floor5FormValidate.enumIndoorPermits&&-1!=e.floor5FormValidate.enumIndoorPermits.indexOf(32)?i("i-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:4,maxlength:150,placeholder:"空代表不收费，若收取费用请说明"},model:{value:e.floor5FormValidate.commercialShootingChargeDescription,callback:function(t){e.$set(e.floor5FormValidate,"commercialShootingChargeDescription",t)},expression:"floor5FormValidate.commercialShootingChargeDescription"}}):e._e(),"允许商业拍摄"==t.display&&void 0!=e.floor5FormValidate.enumIndoorPermits&&-1!=e.floor5FormValidate.enumIndoorPermits.indexOf(32)?i("p",{staticClass:"check-sensitive-words"},[e._v(e._s(e.checkData.commercialShootingChargeDescription))]):e._e(),"允许加人"==t.display&&void 0!=e.floor5FormValidate.enumIndoorPermits&&-1!=e.floor5FormValidate.enumIndoorPermits.indexOf(16)?i("i-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:4,maxlength:150,disabled:t.disabled,placeholder:"仅可对超出宜住人数的人员进行收费（选填）"},model:{value:e.floor5FormValidate.extraPersonChargeDescription,callback:function(t){e.$set(e.floor5FormValidate,"extraPersonChargeDescription",t)},expression:"floor5FormValidate.extraPersonChargeDescription"}}):e._e(),"允许加人"==t.display&&void 0!=e.floor5FormValidate.enumIndoorPermits&&-1!=e.floor5FormValidate.enumIndoorPermits.indexOf(16)?i("p",{staticClass:"check-sensitive-words"},[e._v(e._s(e.checkData.extraPersonChargeDescription))]):e._e(),16==t.enumValue&&t.disabled?i("p",{staticClass:"update-tips"},[e._v("\n                修改信息，请前往\n                "),i("span",{staticClass:"update-button",on:{click:function(t){return t.stopPropagation(),e.openSaveTipsModal(t)}}},[e._v("价格设置")]),e._v(" 页面进行修改\n              ")]):e._e(),"允许做饭"==t.display&&void 0!=e.floor5FormValidate.enumIndoorPermits&&-1!=e.floor5FormValidate.enumIndoorPermits.indexOf(4)?i("i-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:4,maxlength:150,placeholder:"空代表不收费，若收取费用请说明"},model:{value:e.floor5FormValidate.cookingChargeDescription,callback:function(t){e.$set(e.floor5FormValidate,"cookingChargeDescription",t)},expression:"floor5FormValidate.cookingChargeDescription"}}):e._e(),"允许做饭"==t.display&&void 0!=e.floor5FormValidate.enumIndoorPermits&&-1!=e.floor5FormValidate.enumIndoorPermits.indexOf(4)?i("p",{staticClass:"check-sensitive-words"},[e._v(e._s(e.checkData.cookingChargeDescription))]):e._e()],1)}),1),e.isShowAllowAddBedCpd?i("Checkbox",{attrs:{disabled:e.isShowAllowAddBedCpd},model:{value:e.allowAddBed,callback:function(t){e.allowAddBed=t},expression:"allowAddBed"}},[e._v("允许房客加床")]):e._e(),i("br"),e.allowAddBed?i("div",[i("Select",{staticStyle:{width:"200px"},attrs:{disabled:e.isShowAllowAddBedCpd},model:{value:e.floor5FormValidate.extraBedLimit,callback:function(t){e.$set(e.floor5FormValidate,"extraBedLimit",t)},expression:"floor5FormValidate.extraBedLimit"}},[i("Option",{attrs:{value:1}},[e._v("加1床")]),i("Option",{attrs:{value:2}},[e._v("加2床")]),i("Option",{attrs:{value:3}},[e._v("加3床")])],1),i("br"),i("i-input",{staticStyle:{width:"400px","margin-top":"10px"},attrs:{type:"textarea",rows:4,maxlength:150,disabled:e.isShowAllowAddBedCpd,placeholder:"空代表不收费，若收取费用请说明"},model:{value:e.floor5FormValidate.extraBedChargeDescription,callback:function(t){e.$set(e.floor5FormValidate,"extraBedChargeDescription",t)},expression:"floor5FormValidate.extraBedChargeDescription"}}),e.allowAddBed?i("p",{staticClass:"check-sensitive-words"},[e._v(e._s(e.checkData.extraBedChargeDescription))]):e._e()],1):e._e(),e.isShowAllowAddBedCpd?i("p",{staticClass:"update-tips"},[e._v("\n            修改信息，请前往\n            "),i("span",{staticClass:"update-button",on:{click:function(t){return t.stopPropagation(),e.openSaveTipsModal(t)}}},[e._v("价格设置")]),e._v(" 页面进行修改\n          ")]):e._e()],1),i("FormItem",{staticStyle:{"border-top":"1px solid #eee"},attrs:{prop:"otherArrivalTips"}},[i("p",{staticStyle:{"margin-top":"20px"}},[e._v("其他入住提示（选填）")]),i("i-input",{staticStyle:{width:"400px","margin-top":"10px"},attrs:{type:"textarea",rows:6,maxlength:500,placeholder:"不可录入“发票”“押金”等信息，不可与已录入信息矛盾，否则不会审核通过哦~\n若对客有其他入住要求，请说明。例如：水电燃气费、入住所需证件等。"},on:{"on-blur":e.textChange,"on-change":e.numChange},model:{value:e.floor5FormValidate.checkinExplained,callback:function(t){e.$set(e.floor5FormValidate,"checkinExplained",t)},expression:"floor5FormValidate.checkinExplained"}}),i("div",{staticClass:"text-msg-long"},[e.isShowerrText?i("p",{staticClass:"errText"},[e._v("最少5个字符")]):e._e(),i("span",{staticClass:"textRight3",staticStyle:{display:"inline-block",float:"right","text-align":"right",width:"100px"}},[e._v(e._s(e.otherCheckTipsNumMax)+"/500")]),i("span",{directives:[{name:"show",rawName:"v-show",value:e.isCheckinExplainedDisappearCheck,expression:"isCheckinExplainedDisappearCheck"}],staticClass:"check-sensitive-words"},[e._v(e._s(e.checkData.checkinExplained))])])],1),i("FormItem",[i("div",{staticClass:"nextStep"},[i("Button",{staticClass:"nextStep-btn",attrs:{type:"primary"},on:{click:e.saveExplanationBtn}},[e._v(e._s(e.submitBtnTextCpd))])],1)])],2)],1),i("save-tips-modal",{attrs:{options:e.saveTipsModalOptions},on:{"on-ok":e.handleOk,"on-cancel":e.handleCancel}})],1)},ke=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title-con"},[i("h1",[e._v("入住规则")]),i("h2",[e._v("请注明您的房屋入住相关说明，以保证能收到合适的订单。")])])}],De=(i("ac4d"),i("8a81"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Modal",{attrs:{"class-name":"save-tips-modal",title:"提示",width:410},model:{value:e.options.visable,callback:function(t){e.$set(e.options,"visable",t)},expression:"options.visable"}},[i("p",{staticClass:"save-tips-modal-content"},[e._v("是否保存本次修改？")]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){return t.stopPropagation(),e.handleOnCancel(t)}}},[e._v("取消")]),i("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){return t.stopPropagation(),e.handleOnOk(t)}}},[e._v("保存")])],1)])}),Oe=[],Ae={name:"comSaveTipsModal",props:{options:{type:Object,default:function(){return{visable:!1}}}},methods:{handleOnOk:function(){this.$emit("on-ok"),this._close()},handleOnCancel:function(){this.$emit("on-cancel"),this._close()},_close:function(){this.options.visable=!1}}},Re=Ae,Ne=(i("83fd"),Object(x["a"])(Re,De,Oe,!1,null,null,null)),Ee=Ne.exports,Ue={INDOOR_PERMITS_ENUM:{smoke:1,pet:2,shoot:32,cook:4,party:8,addPerson:16},HOUSE_QUALIFICATION_TYPE:{deed:1,leaseContract:2,guarantee:3},HOUSE_QUALIFICATION_STATUS:{none:1,checked:2,failed:3,success:4},MERCHANT_QUALIFICATION_TYPE:{businessLicense:1,idCard:2,passport:3},HOUSE_RESOURCE:{completeSet:1,single:2},HOUSE_RESOURCE_MAP:{1:"整套",2:"单间"},YES:1,NO:0};function Le(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function Me(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Le(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Le(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var He={props:["isActive","houseUnitId","basicData"],data:function(){return{saveTipsModalOptions:{visable:!1},isCheckinExplainedDisappearCheck:!0,checkData:{},floor5FormRules:{checkinExplained:[{required:!0,trigger:"blur"}]},floor5FormValidate:{houseUnitId:"",checkInReceptionTime:"14:00",checkOutLatestTime:"12:00",receptionIndex:0,saveButtonStatus:1,showReceiptForeigner:1,showReceiptLanguage:!0,receiptLang:[],receiptForeigner:0,houseAcceptTimes:[{startAcceptTime:"",endAcceptTime:"",receptionIndex:1,status:1}],hasFrontDesk:-1,newAddPersonPriceFlag:!0},receptionLanguage:[],isShowerrText:!1,acceptSexEnum:[],acceptAgesEnum:[],cleaningFrequencyEnum:[],sheetReplaceFrequencyEnum:[],toothSetReplaceFrequencyEnum:[],towelReplaceFrequencyEnum:[],indoorPermitsEnum:[],allowAddBed:!1,displayTeeth:!1,displayTowel:!1,otherCheckTipsNumMax:"0",timeList:[],checkTimeTips:""}},computed:Me({},Object(n["e"])({host:"host"}),{submitBtnTextCpd:function(){return"undefined"!==typeof this.floor5FormValidate.saveButtonStatus&&1===this.floor5FormValidate.saveButtonStatus?"下一步":"保存"},indoorPermitsEnumListCpd:function(){var e=[];if(this.floor5FormValidate.newAddPersonPriceFlag){var t=!0,i=!1,o=void 0;try{for(var a,s=this.basicData.indoorPermitsEnum[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var r=a.value;r.enumValue!==Ue.INDOOR_PERMITS_ENUM.addPerson&&e.push(r)}}catch(m){i=!0,o=m}finally{try{t||null==s.return||s.return()}finally{if(i)throw o}}}else{var n=!0,l=!1,c=void 0;try{for(var u,d=this.basicData.indoorPermitsEnum[Symbol.iterator]();!(n=(u=d.next()).done);n=!0){var h=u.value;h.disabled=!1,h.enumValue===Ue.INDOOR_PERMITS_ENUM.addPerson&&(h.disabled=!0),e.push(h)}}catch(m){l=!0,c=m}finally{try{n||null==d.return||d.return()}finally{if(l)throw c}}}return e},isShowAllowAddBedCpd:function(){return!this.floor5FormValidate.newAddPersonPriceFlag&&this.allowAddBed}}),watch:{isActive:function(e){this.isActive&&this.queryExplanation()}},created:function(){this.queryExplanation(),this._initTimeList()},methods:{handleTimeSelectChange:function(){this.checkTimeTips=""},activeChange:function(){this.$emit("nextStepChuange",5)},getHouseUnitId:function(e){this.$emit("upDateHouseUnitId",e)},saveExplanationBtn:function(e){var t=this,i="";return i=this._formValidator(),i?(this.$Notice.error({desc:i}),!1):(i=this._checkTimeValidator(),i?(this.checkTimeTips=i,this.$Notice.error({desc:"请按照规则填写"}),!1):void(this.floor5FormValidate.checkinExplained&&this.floor5FormValidate.checkinExplained.length>=1&&this.floor5FormValidate.checkinExplained.length<5?this.isShowerrText=!0:(this.allowAddBed||(this.floor5FormValidate.extraBedLimit=null,this.floor5FormValidate.extraBedChargeDescription=null),this.floor5FormValidate.enumIndoorPermits=this.floor5FormValidate.enumIndoorPermits||[],-1===this.floor5FormValidate.enumIndoorPermits.indexOf(32)&&(this.floor5FormValidate.commercialShootingChargeDescription=""),-1===this.floor5FormValidate.enumIndoorPermits.indexOf(16)&&(this.floor5FormValidate.extraPersonChargeDescription=""),-1===this.floor5FormValidate.enumIndoorPermits.indexOf(8)&&(this.floor5FormValidate.partyChargeDescription=""),-1===this.floor5FormValidate.enumIndoorPermits.indexOf(4)&&(this.floor5FormValidate.cookingChargeDescription=""),this.isShowerrText=!1,l["a"].open(),this.floor5FormValidate.houseUnitId=this.houseUnitId,this.isCheckinExplainedDisappearCheck=!1,this.checkData={},r["a"].saveExplanation(this.floor5FormValidate,function(i,o,a){l["a"].close(),i?f.checkSensitiveWordForCheckinExplained(t.floor5FormValidate).then(function(i){0!==Object.keys(i).length?(t.isCheckinExplainedDisappearCheck=!0,t.checkData=i,t.$Notice.error({desc:"您输入的内容包含敏感词，无法保存"})):1==t.floor5FormValidate.saveButtonStatus&&void 0!=t.floor5FormValidate.saveButtonStatus?t.activeChange():(2===o?t.$Notice.success({title:"信息已提交审核中"}):1===o&&t.$Notice.success({title:"保存成功"}),t.queryExplanation(),t.$emit("menuReload"),e&&"function"===typeof e&&e())})["catch"](function(e){t.$Notice.error({desc:e.errorMsg})}).finally(function(){}):t.$Notice.error({desc:a.errorMsg})}))))},queryExplanation:function(e){var t=this;this.isCheckinExplainedDisappearCheck=!1,this.checkData={},l["a"].open(),r["a"].queryExplanation(this.houseUnitId,function(e,i,o){if(l["a"].close(),e){2===i.saveButtonStatus?t.isShowDistanceStep=0:t.isShowDistanceStep=1,void 0==i.enumToothSetReplaceFrequency&&(t.displayTeeth=!1),void 0==i.enumTowelReplaceFrequency&&(t.displayTowel=!1),i.extraBedLimit&&i.extraBedLimit>0||i.extraBedChargeDescription&&i.extraBedChargeDescription.length>0?t.allowAddBed=!0:t.allowAddBed=!1,i.extraBedLimit||(i.extraBedLimit=1),i.houseAcceptTimes?i.houseAcceptTimes=i.houseAcceptTimes.map(function(e){return e.status=1,e}):i.houseAcceptTimes=[],t.floor5FormValidate.showReceiptLanguage=i.showReceiptLanguage,void 0!=i.checkinExplained?t.otherCheckTipsNumMax=i.checkinExplained.length:t.otherCheckTipsNumMax=0,i.receiptForeigner=i.receiptForeigner||0,t.floor5FormValidate=i;var a=[];i.receiptLang?i.receiptLang.map(function(e){a.push(e.toString())}):i.receiptLang=[],t.floor5FormValidate.receiptLang=a}else t.$Notice.error({desc:o.errorMsg})})},textChange:function(){this.floor5FormValidate.checkinExplained.length>=1&&this.floor5FormValidate.checkinExplained.length<5?(this.isShowerrText=!0,this.isCheckinExplainedDisappearCheck=!1):(this.isShowerrText=!1,this.isCheckinExplainedDisappearCheck=!0)},numChange:function(){this.otherCheckTipsNumMax=this.floor5FormValidate.checkinExplained.length},addReceptionTime:function(){this.floor5FormValidate.receptionIndex++,this.floor5FormValidate.houseAcceptTimes.push({startAcceptTime:"00:00",endAcceptTime:"24:00",receptionIndex:this.floor5FormValidate.receptionIndex,status:1})},removeReceptionTime:function(e){this.floor5FormValidate.houseAcceptTimes[e].status=0,this.floor5FormValidate.houseAcceptTimes.splice(e,1)},openSaveTipsModal:function(){this.saveTipsModalOptions.visable=!0},handleOk:function(){this.saveExplanationBtn(this._openHousePriceSetting)},handleCancel:function(){this._openHousePriceSetting()},_openHousePriceSetting:function(){this.$emit("nextStepChuange",6)},_initTimeList:function(){for(var e=0;e<=24;e++)this.timeList.push("".concat(e>9?e:"0".concat(e),":00"))},_formValidator:function(){return this._isFrontDeskEmpty()&&this._isHouseAcceptTimesEmpty()?"请填写接待时间和是否有前台":this._isHouseAcceptTimesEmpty()?"请选择接待时间":this._isFrontDeskEmpty()?"请选择是否有前台":""},_checkTimeValidator:function(){var e=parseInt(this.floor5FormValidate.checkInReceptionTime.substring(0,2),10),t=parseInt(this.floor5FormValidate.checkOutLatestTime.substring(0,2),10);return e<t?"入住时间需晚于离店时间":""},_isFrontDeskEmpty:function(){return this.floor5FormValidate.showHasFrontDesk&&("undefined"===typeof this.floor5FormValidate.hasFrontDesk||-1===this.floor5FormValidate.hasFrontDesk)},_isHouseAcceptTimesEmpty:function(){return"undefined"===typeof this.floor5FormValidate.houseAcceptTimes||0===this.floor5FormValidate.houseAcceptTimes.length}},components:{rejectTips:T,unchangeableTips:R,saveTipsModal:Ee}},je=He,qe=(i("152d"),Object(x["a"])(je,Pe,ke,!1,null,"8f7f08e2",null)),$e=qe.exports,Be=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:5==e.isActive,expression:"isActive==5"}],staticClass:"floor7"},[e._m(0),i("div",{directives:[{name:"show",rawName:"v-show",value:e.rejectReasonOptionCpd.rejectReason,expression:"rejectReasonOptionCpd.rejectReason"}],staticClass:"reject-tips-wrapper"},[i("rejectTips",{staticClass:"reject-tips",attrs:{rejectText:e.rejectReasonOptionCpd.rejectReason,isShowIcon:e.rejectReasonOptionCpd.isShowIcon}}),i("Button",{directives:[{name:"show",rawName:"v-show",value:e.isShowRealShotButtonCpd,expression:"isShowRealShotButtonCpd"}],staticClass:"button",on:{click:function(t){return t.stopPropagation(),e.toShotView(t)}}},[e._v("申请实拍")])],1),i("div",{staticClass:"photo-floor"},[i("Form",{ref:"floor7FormValidate",attrs:{model:e.floor7FormValidate}},[i("FormItem",[i("div",{staticClass:"g-img-info"},[0==e.floor7FormValidate.houseImages?i("h1",[e._v("照片需上传6-140张且满足以下类型：")]):i("h1",[e._v("照片需满足以下类型，拖动照片可调整顺序")]),i("div",[i("p",[e.floor7FormValidate.countModel.livingCount?i("span",[e._v("客厅："+e._s(e.floor7FormValidate.countModel.livingCount)+"张")]):e._e(),e.floor7FormValidate.countModel.bedroomCount?i("span",[e._v("卧室："+e._s(e.floor7FormValidate.countModel.bedroomCount)+"张")]):e._e(),e.floor7FormValidate.countModel.kitchenCount?i("span",[e._v("厨房："+e._s(e.floor7FormValidate.countModel.kitchenCount)+"张")]):e._e(),e.floor7FormValidate.countModel.bathroomCount?i("span",[e._v("卫生间："+e._s(e.floor7FormValidate.countModel.bathroomCount)+"张")]):e._e(),e.floor7FormValidate.countModel.facadeCount?i("span",[e._v("外景："+e._s(e.floor7FormValidate.countModel.facadeCount)+"张")]):e._e()])]),i("div",{staticClass:"u-pic-size-info"},[i("p",[e._v("请保证上传的图片高清、无水印、无logo和联系方式；为了避免房屋图片与户型不符产生客诉，请根据所选户型上传。")]),i("p",[e._v("如未找到图片所属类型，可返回房屋详情修改户型信息")])])])]),i("ul",{staticClass:"upload-img-wrap"},e._l(e.floor7FormValidate.imageTypeConfig,function(t){return i("li",{key:t.enumPictureCategory},[i("div",{staticClass:"item-title"},[i("div",{staticClass:"item-title-left"},[i("h2",[e._v(e._s(e._f("enumPictureCategoryFilter")(t.enumPictureCategory,e.basicData))),i("span",[e._v(e._s(e.imageClassification(t.enumPictureCategory,e.floor7FormValidate.houseImages).length)+"/"+e._s(t.maxCount))]),t.isShowMin?i("span",[i("Icon",{staticClass:"reject-icon",attrs:{type:"android-alert",color:"#FF6666",size:"14"}}),i("span",{staticClass:"reject-text"},[e._v(e._s(t.errorPrompt))])],1):e._e(),t.isShowMax?i("span",[i("Icon",{staticClass:"reject-icon",attrs:{type:"android-alert",color:"#FF6666",size:"14"}}),i("span",{staticClass:"reject-text"},[e._v("图片数量超出上限")])],1):e._e()]),i("P",[e._v(e._s(t.defaultPrompt))])],1),i("div",{staticClass:"item-title-right"},[i("comEnlargeImage",{directives:[{name:"show",rawName:"v-show",value:t.pcSamplePictureUrl,expression:"item.pcSamplePictureUrl"}],attrs:{picUrl:t.pcSamplePictureUrl,text:e._f("enumPictureCategoryFilter")(t.enumPictureCategory,e.basicData)}})],1)]),i("div",{staticClass:"upload-container"},[i("FormItem",{attrs:{prop:"photoList"}},[i("draggable",{directives:[{name:"viewer",rawName:"v-viewer",value:e.viewerOptions,expression:"viewerOptions"}],attrs:{list:e.imageClassification(t.enumPictureCategory,e.floor7FormValidate.houseImages),move:e.getdata,options:{group:"people"}},on:{end:e.onEnd}},[e._l(e.imageClassification(t.enumPictureCategory,e.floor7FormValidate.houseImages),function(o,a){return i("div",{key:a,staticClass:"photo-List photo-item"},[i("div",{staticClass:"img-con"},[i("div",{staticClass:"operation"},[i("div",{staticClass:"left-rotate"}),i("editphoto",{attrs:{largePicURL:o.largePicURL,basicData:e.basicData,houseImages:e.floor7FormValidate.houseImages,imageTypeConfig:e.floor7FormValidate.imageTypeConfig,category:t.enumPictureCategory,houseImageInfo:o},on:{updateInfo:function(t){return e.updateInfo(o)}}})],1),i("div",{staticClass:"del-img",on:{click:function(i){return e.delPhotoList(o,t.enumPictureCategory)}}}),i("img",{staticClass:"uploadImg",attrs:{"data-source":e._f("largePictureUrlFilter")(o.isQualified,e.host.PIC_TUJIA_HOST,o.largePicURL,o.pictureURL),src:e._f("smallPictureUrlFilter")(o.smallPicURL,e.host.PIC_TUJIA_HOST,o.pictureURL,o.localImageUrl)}}),i("div",{directives:[{name:"show",rawName:"v-show",value:o.showProgress,expression:"val.showProgress"}],staticClass:"image-mask"},[i("span",{staticClass:"upload-text"},[e._v("上传中...")]),i("Progress",{staticClass:"image-progress",attrs:{status:"success",percent:o.percentage,"stroke-width":8,"hide-info":!0}})],1),e.isShowCover(o)?i("div",{staticClass:"blate-first-img-icon"},[e._v("\n                          封面\n                      ")]):i("span",{staticClass:"cover-img",on:{click:function(t){return e.setCover(o,a)}}},[e._v("设为封面")])])])}),0===e.imageClassification(t.enumPictureCategory,e.floor7FormValidate.houseImages).length?i("img",{class:{"empty-img-box":0===e.imageClassification(t.enumPictureCategory,e.floor7FormValidate.houseImages).length},attrs:{src:"","data-category":t.enumPictureCategory}}):e._e()],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.imageClassification(t.enumPictureCategory,e.floor7FormValidate.houseImages).length<t.maxCount,expression:"imageClassification(item.enumPictureCategory,floor7FormValidate.houseImages).length<item.maxCount"}],staticClass:"photo-List m-add-photo-list"},[i("comUploadImg",{attrs:{basicData:e.basicData,updateImageNum:e.imageClassification(t.enumPictureCategory,e.floor7FormValidate.houseImages).length,maxCount:t.maxCount,floor7FormValidate:e.floor7FormValidate,enumPictureCategory:t.enumPictureCategory},on:{uploadingInfo:e.uploading,uploadProgressList:e.uploadProgressList}})],1)],1)],1)])}),0),i("FormItem",[i("div",{staticClass:"nextStep"},[1==e.floor7FormValidate.saveButtonStatus&&void 0!=e.floor7FormValidate.saveButtonStatus?i("Button",{staticClass:"nextStep-btn",attrs:{type:"primary",disabled:e.uploadingInfo.isUploading},on:{click:e.saveImageBtn}},[e._v("下一步")]):i("Button",{staticClass:"nextStep-btn",attrs:{type:"primary",disabled:e.uploadingInfo.isUploading},on:{click:e.saveImageBtn}},[e._v("保存")])],1)])],1)],1),i("Modal",{attrs:{title:"提示"},on:{"on-ok":e.confirmSaveImage},model:{value:e.saveImageModal,callback:function(t){e.saveImageModal=t},expression:"saveImageModal"}},[i("p",[e._v("实拍房屋不可修改照片，修改后当前房屋在游客端将不展示途家“实拍”标识，是否继续修改？")])])],1)},ze=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title-con"},[i("h1",[e._v("房屋照片")]),i("h2",[e._v("上传真实、漂亮的房屋照片更能吸引房客")])])}],Je=(i("759f"),i("55dd"),i("c2be")),Ge=i("1516"),We=i.n(Ge),Qe=i("6944"),Ye=i.n(Qe),Xe=i("a026"),Ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"g-edit-layout"},[i("div",{staticClass:"image-explain right-del f-toe",on:{click:e.addDescribe}},[e._v(e._s(e.imageExplainCpd))]),i("div",[i("Modal",{attrs:{width:"700",title:"编辑照片","mask-closable":!1,"class-name":"vertical-center-modal"},on:{"on-visible-change":e.change},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[i("div",{staticClass:"cont-wrap"},[i("div",{staticClass:"img-wrap"},[i("img",{staticClass:"image",style:"transform: rotate("+e.rotateDegree+"deg);",attrs:{height:e.imageHeightCpd,src:e.picUrlCpd}}),i("i",{directives:[{name:"show",rawName:"v-show",value:e.houseImageInfo.isCanRotate,expression:"houseImageInfo.isCanRotate"}],staticClass:"icon-rotate",on:{click:function(t){return t.stopPropagation(),e.rotateImage(t)}}})]),i("div",{staticClass:"describe-wrap"},[i("ul",e._l(e.describeList,function(t,o){return i("li",{key:o,on:{click:function(i){return e.checkoutDescribe(t)}}},[i("comHouseLabel",{attrs:{text:t.name,isCheck:t.active}})],1)}),0),i("p",{directives:[{name:"show",rawName:"v-show",value:e.isShowPrompt,expression:"isShowPrompt"}]},[i("Icon",{staticClass:"reject-icon",attrs:{type:"android-alert",color:"#FF6666",size:"14"}}),i("span",[e._v(e._s(e.houseCategoryName)+"图片张数已达上限，请重新选择")])],1),i("div",{staticClass:"input-wrap"},[i("i-input",{staticClass:"text-input",attrs:{type:"textarea",maxlength:50,rows:7,placeholder:"请描述一下这张照片"},on:{"on-change":e.pictureExplainChange},model:{value:e.houseImageInfo.pictureExplain,callback:function(t){e.$set(e.houseImageInfo,"pictureExplain",t)},expression:"houseImageInfo.pictureExplain"}}),i("span",[e._v(e._s(e.pictureExplainLength)+"/50")])],1)])]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"text",size:"large"},on:{click:e.cancelInfo}},[e._v("取消")]),i("Button",{attrs:{type:"primary",size:"large",loading:e.isRotating},on:{click:e.sureInfo}},[e._v("确定")])],1)])],1)])},Ke=[],et=(i("0cd8"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"house-label"},[i("span",{class:{"hover-style":e.isCheck}},[e._v(e._s(e.text))])])}),tt=[],it={name:"houseLabel",props:{text:{type:String,default:""},isCheck:{type:Boolean,default:!1}}},ot=it,at=(i("fdfd"),Object(x["a"])(ot,et,tt,!1,null,"4258db37",null)),st=at.exports;function rt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function nt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?rt(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):rt(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var lt={name:"edit",props:{largePicURL:{type:String,default:""},houseImageInfo:{type:Object,default:function(){return{}}},houseImages:{type:Array,default:function(){return[]}},category:{type:Number,default:null},basicData:{type:Object,default:function(){return{}}},imageTypeConfig:{type:Array,default:function(){return[]}}},data:function(){return{isShow:!1,describeList:[],isCheck:!1,isShowPrompt:!1,pictureExplainLength:0,initDescribeList:[],initPictureExplain:"",isSureInfo:!1,isCancelInfo:!1,houseCategoryName:"",rotateDegree:360,isRotating:!1}},watch:{imageTypeConfig:function(e){this.describe()}},computed:nt({},Object(n["e"])(["host"]),{imageHeightCpd:function(){return 90===this.rotateDegree||270===this.rotateDegree?400:265},imageExplainCpd:function(){return this.houseImageInfo.pictureExplain?this.houseImageInfo.pictureExplain:"添加描述"},picUrlCpd:function(){return this.largePicURL?"".concat(this.host.PIC_TUJIA_HOST).concat(this.largePicURL):""}}),created:function(){this.describe(),this.houseImageInfo&&this.houseImageInfo.pictureExplain&&""!==this.houseImageInfo.pictureExplain&&(this.pictureExplainLength=this.houseImageInfo.pictureExplain.length)},methods:{rotateImage:function(){this._countRotateDegree()},pictureExplainChange:function(){this.pictureExplainLength=this.houseImageInfo.pictureExplain.length},describe:function(){var e=this;this.describeList=[],this.imageTypeConfig.forEach(function(t){for(var i=0;i<e.basicData.categoriesEnum.length;i++)t.enumPictureCategory===e.basicData.categoriesEnum[i].enumValue&&e.category===e.basicData.categoriesEnum[i].enumValue?e.describeList.push({active:!0,name:e.basicData.categoriesEnum[i].display,enumPictureCategory:t.enumPictureCategory,samplePictureUrl:t.samplePictureUrl}):t.enumPictureCategory===e.basicData.categoriesEnum[i].enumValue&&e.category!==e.basicData.categoriesEnum[i].enumValue&&e.describeList.push({active:!1,name:e.basicData.categoriesEnum[i].display,enumPictureCategory:t.enumPictureCategory,samplePictureUrl:t.samplePictureUrl})});var t={},i=this.describeList.reduce(function(e,i){return!t[i.name]&&(t[i.name]=e.push(i)),e},[]);this.describeList=i},sureInfo:function(){this._isRotateImage()?this._imageRotateUpload():this._handleSureCallback()},cancelInfo:function(){this.isCancelInfo=!0,this.houseImageInfo.pictureExplain=this.initPictureExplain,this.initPictureExplain&&(this.pictureExplainLength=this.initPictureExplain.length),this.isShow=!1,this.isShowPrompt=!1,this._initRotateDegree()},change:function(){this.isCancelInfo||this.isSureInfo||this.isShow||(this.houseImageInfo.pictureExplain=this.initPictureExplain,this._initRotateDegree(),this.initPictureExplain&&(this.pictureExplainLength=this.initPictureExplain.length),this.isShowPrompt=!1)},_imageRotateUpload:function(){var e=this;this.isRotating=!0,f.imageRotateUpload({originUrl:this.houseImageInfo.pictureURL,rotate:this.rotateDegree}).then(function(t){e.houseImageInfo.pictureURL=t.url,e._initRotateDegree(),e._handleSureCallback()})["catch"](function(t){t.errorNo;var i=t.errorMsg;i&&e.$Notice.error({desc:i})}).finally(function(){e.isRotating=!1})},_handleSureCallback:function(){var e=this;this.isSureInfo=!0,this._maxUpdateImages(this.houseImageInfo.enumPictureCategory)?(this.houseImageInfo.pictureExplain=this.houseImageInfo.pictureExplain,this.$emit("updateInfo",this.houseImageInfo),this.isShowPrompt=!1,this.isShow=!1):(this.isShowPrompt=!0,this.isShow=!0),this.describeList.forEach(function(t){t.active&&t.enumPictureCategory===e.category&&(e.isShowPrompt=!1,e.isShow=!1)})},_maxUpdateImages:function(e){var t=[];this.houseImages.forEach(function(i){i.enumPictureCategory===e&&t.push({enumPictureCategory:i.enumPictureCategory,isQualified:i.isQualified,largePicURL:i.largePicURL,pictureExplain:i.pictureExplain,pictureGuid:i.pictureGuid,pictureIndex:i.pictureIndex,pictureURL:i.pictureURL,smallPicURL:i.smallPicURL}),9===e&&0===i.enumPictureCategory&&t.push({enumPictureCategory:i.enumPictureCategory,isQualified:i.isQualified,largePicURL:i.largePicURL,pictureExplain:i.pictureExplain,pictureGuid:i.pictureGuid,pictureIndex:i.pictureIndex,pictureURL:i.pictureURL,smallPicURL:i.smallPicURL})});var i=null;return this.imageTypeConfig.forEach(function(t){t.enumPictureCategory===e&&(i=t.maxCount)}),t.length<=i},addDescribe:function(){var e=this;this.isCancelInfo=!1,this.isSureInfo=!1,this.initPictureExplain=this.houseImageInfo.pictureExplain,this.isShow=!0,this.describeList.forEach(function(t){t.enumPictureCategory===e.category&&e.checkoutDescribe(t)})},checkoutDescribe:function(e){var t=this;this.describeList.forEach(function(i){i.name===e.name?(i.active=!0,t.houseImageInfo.enumPictureCategory=e.enumPictureCategory,t.houseCategoryName=e.name):i.active=!1})},_countRotateDegree:function(){0===this.rotateDegree&&(this.rotateDegree=360),this.rotateDegree-=90},_initRotateDegree:function(){this.rotateDegree=360},_isRotateImage:function(){return 0!==this.rotateDegree&&360!==this.rotateDegree}},components:{comHouseLabel:st}},ct=lt,ut=(i("cf08"),i("c150"),Object(x["a"])(ct,Ze,Ke,!1,null,"46216da4",null)),dt=ut.exports,ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"enlarge-wrap"},[i("span",{staticClass:"enlarge-text",on:{click:e.enlarge}},[e._v("示例图")]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"enlarge-image"},[i("div",{staticClass:"show-wrap"},[i("div",[i("span",{staticClass:"text"},[e._v(e._s(e.text))]),i("span",{staticClass:"close",on:{click:e.closeBtn}})]),i("div",[i("img",{attrs:{src:e.picUrlCpd,width:"900px",height:"600px"}})])])])])},mt=[];function pt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function ft(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?pt(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):pt(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var gt={name:"comEnlargeImage",props:{picUrl:{type:String,default:""},text:{type:String,default:""}},data:function(){return{isShow:!1}},computed:ft({},Object(n["e"])(["host"]),{picUrlCpd:function(){return this.picUrl?"".concat(this.host.PIC_TUJIA_HOST).concat(this.picUrl):""}}),methods:{closeBtn:function(){this.isShow=!1},enlarge:function(){this.isShow=!0}}},vt=gt,yt=(i("62dd"),Object(x["a"])(vt,ht,mt,!1,null,"a52db1ee",null)),Ct=yt.exports,wt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.updateImageNum<e.maxCount,expression:"updateImageNum<maxCount"}],staticClass:"update-wrap"},[i("Upload",{staticStyle:{display:"block",width:"100%"},attrs:{"show-upload-list":!1,accept:"image/jpg, image/jpeg, image/png",format:["jpg","jpeg","png"],multiple:"",type:"drag","with-credentials":!0,"on-success":e.upLoadSuccess,"before-upload":e.beforeUpload,"on-progress":e.uploadProgress,"on-error":e.errorUpload,"on-exceeded-size":e.handleMaxSize,"max-size":10240,name:"fileData",data:{account:"landlordunit",version:1812,source:1101,objectHl:!0},action:e.host.UPLOAD_TUJIA_HOST+"/storage/merchant/upload.htm"}},[i("div",{staticStyle:{width:"100%",height:"143px"}},[i("p",{staticClass:"add-symbol"},[e._v("+")]),i("p",{directives:[{name:"show",rawName:"v-show",value:0===e.updateImageNum,expression:"updateImageNum===0"}],staticClass:"add-text"},[e._v("添加照片")]),i("p",{directives:[{name:"show",rawName:"v-show",value:0!==e.updateImageNum,expression:"updateImageNum!==0"}],staticClass:"add-text"},[e._v("继续上传")])])])],1)},It=[];i("34ef"),i("4917"),i("28a5");function Ft(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function bt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ft(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ft(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var St=10485760,_t=5242880,xt=["image/jpg","image/jpeg","image/png"],Vt={name:"updateWrap",props:{floor7FormValidate:{type:Object,default:function(){return{}}},enumPictureCategory:{type:Number,default:null},maxCount:{type:Number,default:null},updateImageNum:{type:Number,default:null},basicData:{type:Object,default:function(){return{}}}},data:function(){return{queryImageArr:[],queryImagePhotoStatus:null,isNewImages:!1,saveImageModal:!1,isDelPhoto:!1,categoriesEnum:[],photoListLength:0,uploadingInfo:{isUploading:!1,totalCount:0,successCount:0,errorCount:0}}},computed:bt({},Object(n["e"])(["host"])),methods:{upLoadSuccess:function(e,t){var i=this;if(e.ret){var o=e.data.uploadUrl;this.floor7FormValidate.houseImages.length<=this.floor7FormValidate.houseImages.length+this.maxCount-this.updateImageNum&&(this.uploadingInfo.successCount++,this.uploadingInfo.errorCount+this.uploadingInfo.successCount>=this.uploadingInfo.totalCount&&(this.uploadingInfo.isUploading=!1),this._setImgInfoByFileName({fileName:t.name,picUrl:o,smallPicUrl:Object(Je["c"])({url:o,width:390,height:390}),largePicURL:Object(Je["c"])({url:o,width:670,height:390}),isShowProgress:!1,percentage:100}),this._isImageInUploadProgress()||this._initUploadInfo()),this.$emit("uploadingInfo",this.uploadingInfo)}else{this.delPhotoList(this._findIndexByFileName(t.name)),this.uploadingInfo.errorCount++,this.uploadingInfo.errorCount+this.uploadingInfo.successCount>=this.uploadingInfo.totalCount&&setTimeout(function(){i.uploadingInfo.isUploading=!1},500);var a=e.errmsg||"图片上传失败";this.$Notice.error({desc:a}),this.$emit("uploadingInfo",this.uploadingInfo)}},beforeUpload:function(e){var t=this;return new Promise(function(i,o){var a=new Image;a.src=window.URL.createObjectURL(e);var s=t._getImageLimit();a.onload=function(r){e.size>St?(t.$Notice.error({desc:"上传的内容有误，照片需要小于10MB"}),o(new Error("上传的内容有误，照片需要小于10MB"))):t._isValidImageFormat(e.type)?a.width<s.maxWidth||a.height<s.maxHeight?(t.$Notice.error({desc:"上传的内容有误，照片需要大于".concat(t.basicData.pixelLimit)}),o(new Error("上传的内容有误，照片需要大于".concat(t.basicData.pixelLimit)))):-1!==t._findIndexByFileName(e.name)?(t.$Notice.error({desc:"不能选择同名图片"}),o(new Error("不能选择同名图片"))):t.updateImageNum>=t.maxCount?(t.$Notice.error({desc:"图片不能超出"+t.maxCount+"张"}),o(new Error("图片不能超出"+t.maxCount+"张"))):(t.uploadingInfo.totalCount++,t.uploadingInfo.isUploading=!0,t._photoListReruenUrl({fileName:e.name,url:t._compatibleIEUrl(a),isShowProgress:!0,percentage:0}),t.$emit("uploadProgressList",t.floor7FormValidate),t.$emit("uploadingInfo",t.uploadingInfo),e.size>_t?a.width>2448&&a.height>2448?i(t._getCropImage({image:a,file:e})):i(t._compressImage({image:a,file:e,rate:.9})):i()):(t.$Notice.error({desc:"上传图片格式有误"}),o(new Error("上传图片格式有误")))}})},uploadProgress:function(e,t){this.$emit("uploadProgressList",this.floor7FormValidate),this._setImgInfoByFileName({fileName:t.name,picUrl:"",smallPicUrl:"",isShowProgress:!0,percentage:e.percent})},errorUpload:function(e,t,i){var o=this;this.delPhotoList(this._findIndexByFileName(i.name)),this.uploadingInfo.errorCount++,this.uploadingInfo.errorCount+this.uploadingInfo.successCount>=this.uploadingInfo.totalCount&&setTimeout(function(){o.uploadingInfo.isUploading=!1},500),this.$Notice.error({desc:"图片上传失败"}),this.$emit("uploadingInfo",this.uploadingInfo)},handleMaxSize:function(e){this.$Notice.error({desc:"上传的内容有误，照片需要小于10MB"}),this.delPhotoList(this._findIndexByFileName(e.name))},delPhotoList:function(e){this.isDelPhoto=!1;var t=this.floor7FormValidate.houseImages[e].pictureURL;1===this.floor7FormValidate.photoStatus&&-1!==t.indexOf("/upload/qualifiedpics/")&&(this.isDelPhoto=!0),this.floor7FormValidate.houseImages[e].status=0,this.floor7FormValidate.houseImages.splice(e,1),this.photoListLength=this.floor7FormValidate.houseImages.length},_initUploadInfo:function(){this.uploadingInfo={isUploading:!1,totalCount:0,successCount:0,errorCount:0}},_photoListReruenUrl:function(e){var t=e.fileName,i=e.url,o=e.isShowProgress,a=e.percentage;this.floor7FormValidate.houseImages.push({cover:!1,pictureURL:"",localImageUrl:i,enumPictureCategory:this.enumPictureCategory,pictureExplain:"",pictureGuid:"",fileName:t,status:1,smallPicURL:"",largePicURL:"",showProgress:o,percentage:a,isCanRotate:!0}),this.floor7FormValidate.photoListIndex++,this.photoListLength=this.floor7FormValidate.houseImages.length},_compatibleIEUrl:function(e){return e.src.indexOf("http")>-1?e.src:"".concat(this.host.NO_VERSION_STATIC_CDN_PREFIX,"/static/image/createUnitHouse/default.png")},_setImgInfoByFileName:function(e){var t=e.fileName,i=e.picUrl,o=e.smallPicUrl,a=e.isShowProgress,s=e.percentage,r=e.largePicURL,n=this._findIndexByFileName(t);i&&(this.floor7FormValidate.houseImages[n].pictureURL=i),o&&(this.floor7FormValidate.houseImages[n].smallPicURL=o),r&&(this.floor7FormValidate.houseImages[n].largePicURL=r),this.floor7FormValidate.houseImages[n].showProgress=a,this.floor7FormValidate.houseImages[n].percentage=s},_getCropImage:function(e){var t=e.image,i=e.file;return t.width>=t.height?this._compressImage({image:t,file:i,rate:1,width:2448/t.height*t.width,height:2448}):this._compressImage({image:t,file:i,rate:1,width:2448,height:2448/t.width*t.height})},_compressImage:function(e){var t=e.image,i=e.file,o=e.rate,a=e.width,s=e.height,r=document.createElement("canvas");r.width=a||t.width,r.height=s||t.height,r.getContext("2d").drawImage(t,0,0,a||t.width,s||t.height);var n=r.toDataURL("image/jpeg",o);return new window.File([this._dataUrlToBlob(n)],i.name,{type:i.type})},_dataUrlToBlob:function(e){var t=e.split(","),i=t[0].match(/:(.*?);/)[1],o=window.atob(t[1]),a=o.length,s=new Uint8Array(a);while(a--)s[a]=o.charCodeAt(a);return new Blob([s],{type:i})},_findIndexByFileName:function(e){return E.a.findLastIndex(this.floor7FormValidate.houseImages,function(t){return t.fileName===e})},_isImageInUploadProgress:function(){return this.floor7FormValidate.houseImages.some(function(e){return!0===e.showProgress})},_getImageLimit:function(){var e=[];return this.basicData.pixelLimit&&(e=this.basicData.pixelLimit.split("*")),{maxWidth:e[0]?parseInt(e[0],10):1440,maxHeight:e[1]?parseInt(e[1],10):1080}},_isValidImageFormat:function(e){return xt.includes(e)}}},Tt=Vt,Pt=(i("ff63"),Object(x["a"])(Tt,wt,It,!1,null,"0bc70cbe",null)),kt=Pt.exports;function Dt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function Ot(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Dt(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Dt(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}Xe["default"].use(Ye.a);var At={qualified:0,reject:1,failed:2},Rt={props:["isActive","houseUnitId","basicData","floor7FormValidateHouseImages"],data:function(){return{initHouseImagesList:[],classifyImagesNumVerify:[],draggedContext:{},relatedContext:{},isCheckCoverIndex:"",queryImageArr:[],queryImagePhotoStatus:null,isNewImages:!1,saveImageModal:!1,isDelPhoto:!1,floor7FormValidate:{photoListLength:0,photoListIndex:1,countModel:{},houseImages:[]},categoriesEnum:[],photoListLength:0,uploadingInfo:{isUploading:!1,totalCount:0,successCount:0,errorCount:0},viewerOptions:{button:!0,navbar:!0,title:!1,toolbar:!0,tooltip:!0,movable:!1,zoomable:!1,rotatable:!0,scalable:!1,transition:!0,fullscreen:!1,keyboard:!0,url:"data-source"}}},computed:Ot({},Object(n["e"])(["host"]),{rejectReasonOptionCpd:function(){return this.floor7FormValidate.liveShotEntrance===At.failed?{rejectReason:"高质量图片有利于提升订单哦",isShowIcon:!1}:{rejectReason:this.floor7FormValidate.rejectReason||"",isShowIcon:!0}},isShowRealShotButtonCpd:function(){return this.floor7FormValidate.liveShotEntrance!==At.qualified}}),watch:{isActive:function(e){e&&this.queryImage()},floor7FormValidateHouseImages:function(){this.queryImage()}},created:function(){this.queryImage()},methods:{toShotView:function(){window.open(this.floor7FormValidate.liveShotUrl)},uploading:function(e){this.uploadingInfo=e},isShowCover:function(e){var t=!1,i="";return this.floor7FormValidate.houseImages.forEach(function(e){e.cover&&(t=!0,i=e.pictureURL)}),""===this.isCheckCoverIndex?t?i===e.pictureURL:0===e.pictureIndex:this.isCheckCoverIndex===e.pictureURL},updateInfo:function(e){this.floor7FormValidate.houseImages.forEach(function(t){e.isCanRotate&&t.localImageUrl===e.localImageUrl&&(t.pictureExplain=e.pictureExplain,t.enumPictureCategory=e.enumPictureCategory,t.largePicURL=Object(Je["c"])({url:e.pictureURL,width:670,height:390}),t.smallPicURL=Object(Je["c"])({url:e.pictureURL,width:390,height:390}),t.pictureURL=e.pictureURL),e.pictureGuid&&t.pictureGuid===e.pictureGuid&&(t.pictureExplain=e.pictureExplain,t.enumPictureCategory=e.enumPictureCategory)})},uploadProgressList:function(e){this.floor7FormValidate=e},imageClassification:function(e,t){var i=[];return t.forEach(function(t){t.enumPictureCategory===e&&i.push({enumPictureCategory:t.enumPictureCategory,isQualified:t.isQualified,largePicURL:t.largePicURL,pictureExplain:t.pictureExplain,pictureGuid:t.pictureGuid,pictureIndex:t.pictureIndex,pictureURL:t.pictureURL,smallPicURL:t.smallPicURL,showProgress:t.showProgress,percentage:t.percentage,localImageUrl:t.localImageUrl,cover:t.cover,isCanRotate:t.isCanRotate}),9===e&&0===t.enumPictureCategory&&i.push({enumPictureCategory:t.enumPictureCategory,isQualified:t.isQualified,largePicURL:t.largePicURL,pictureExplain:t.pictureExplain,pictureGuid:t.pictureGuid,pictureIndex:t.pictureIndex,pictureURL:t.pictureURL,smallPicURL:t.smallPicURL,showProgress:t.showProgress,percentage:t.percentage,localImageUrl:t.localImageUrl,cover:t.cover,isCanRotate:t.isCanRotate})}),i},getdata:function(e){this.initHouseImagesList=JSON.parse(JSON.stringify(this.floor7FormValidate.houseImages)),this.draggedContext=e.draggedContext.element||{},this.relatedContext=e.relatedContext.element||{}},onEnd:function(e){var t=this;if(0!==Object.keys(this.draggedContext).length&&0===Object.keys(this.relatedContext).length){var i=parseInt(e.to.childNodes[1].dataset.category,10);this.classifyImagesNumVerify.forEach(function(e){e.enumPictureCategory===i&&t.floor7FormValidate.houseImages.forEach(function(e){e.pictureURL===t.draggedContext.pictureURL&&(e.enumPictureCategory=i)})})}0!==Object.keys(this.draggedContext).length&&0!==Object.keys(this.relatedContext).length&&function(){t.relatedContext.enumPictureCategory!==t.draggedContext.enumPictureCategory&&t.classifyImagesNumVerify.forEach(function(i){if(i.enumPictureCategory===t.relatedContext.enumPictureCategory)if(e.to.childElementCount>=i.maxCount){var o=t._enumPictureCategoryDisplay(i.enumPictureCategory)+"图片数量已达上限";t._noMatchingAddress(o),t.floor7FormValidate.houseImages=t.initHouseImagesList,i.isCheckSuccess=!0}else i.isCheckSuccess=!1,t.floor7FormValidate.houseImages.forEach(function(e){e.pictureURL===t.draggedContext.pictureURL&&(e.enumPictureCategory=t.relatedContext.enumPictureCategory)})});var i=[],o={};if(t.relatedContext.enumPictureCategory===t.draggedContext.enumPictureCategory){for(var a=0;a<t.floor7FormValidate.houseImages.length;a++)t.draggedContext.pictureURL===t.floor7FormValidate.houseImages[a].pictureURL&&(o=t.floor7FormValidate.houseImages[a],delete t.floor7FormValidate.houseImages[a],t.floor7FormValidate.houseImages.forEach(function(e){i.push(e)}));var s=JSON.parse(JSON.stringify(i));i.forEach(function(e,i){t.relatedContext.pictureURL===e.pictureURL&&s.splice(i,0,o)}),t.floor7FormValidate.houseImages=JSON.parse(JSON.stringify(s))}}(),this.draggedContext={},this.relatedContext={}},setCover:function(e,t){this.isCheckCoverIndex=e.pictureURL,this.floor7FormValidate.houseImages.forEach(function(t){t.pictureURL===e.pictureURL?t.cover=!0:t.cover=!1})},confirmSaveImage:function(){this.saveImageApi()},saveImageBtn:function(){var e=this;this.floor7FormValidate.imageTypeConfig.forEach(function(t){t.minCount>e.imageClassification(t.enumPictureCategory,e.floor7FormValidate.houseImages).length?t.isShowMin=!0:t.isShowMin=!1,t.maxCount<e.imageClassification(t.enumPictureCategory,e.floor7FormValidate.houseImages).length?t.isShowMax=!0:t.isShowMax=!1});var t=!1;if(this.floor7FormValidate.imageTypeConfig.forEach(function(e){e.isShowMin,e.isShowMax,(e.isShowMin||e.isShowMax)&&(t=!0)}),t)this.$Notice.error({title:"请按照规则上传图片"});else{this.isNewImages=!1;for(var i=0;i<this.floor7FormValidate.houseImages.length;i++)if(-1===this.queryImageArr.indexOf(this.floor7FormValidate.houseImages[i].pictureURL)){this.isNewImages=!0;break}if(this._isImageInUploadProgress())return void this.$Notice.error({desc:"图片上传未完成"});this.queryImagePhotoStatus&&(this.isNewImages||this.isDelPhoto)?this.saveImageModal=!0:this.saveImageApi()}},saveImageApi:function(){var e=this;l["a"].open();var t=0;this.floor7FormValidate.pageVersion=2,this.floor7FormValidate.houseImages&&this.floor7FormValidate.houseImages.map(function(e){e.pictureIndex=t++}),r["a"].saveImage(this.floor7FormValidate,function(t,i,o){l["a"].close(),t?"undefined"!==typeof e.floor7FormValidate.saveButtonStatus&&1===e.floor7FormValidate.saveButtonStatus?e.$emit("nextStepChuange",6):(2===i?e.$Notice.success({title:"信息已提交审核中"}):1===i&&e.$Notice.success({title:"保存成功"}),e.queryImage(),e.$emit("menuReload")):e.$Notice.error({desc:o.errorMsg})})},queryImage:function(){var e=this;l["a"].open(),r["a"].queryImage(this.houseUnitId,function(t,i,o){l["a"].close(),t?(i.houseImages.forEach(function(t){e.queryImageArr.push(t.pictureURL)}),i.photoStatus&&1===i.photoStatus?e.queryImagePhotoStatus=i.photoStatus:e.queryImagePhotoStatus=null,i.houseImages=i.houseImages||[],e.photoListLength=i.houseImages.length,i.houseImages=i.houseImages.map(function(e){return e.status=1,e.cover||(e.cover=!1),e}),i.imageTypeConfig||(e.floor7FormValidate.imageTypeConfig=[]),i.imageTypeConfig.sort(e._compare("enumPictureCategory")),i.imageTypeConfig.forEach(function(e){e.isShowMin=!1,e.isShowMax=!1}),e.floor7FormValidate=i,e.floor7FormValidate.imageTypeConfig.forEach(function(t){e.classifyImagesNumVerify.push({isCheckSuccess:!1,enumPictureCategory:t.enumPictureCategory,maxCount:t.maxCount})})):e.$Notice.error({desc:o.errorMsg})})},delPhotoList:function(e,t){this.isDelPhoto=!1;var i=this.floor7FormValidate.houseImages.filter(function(e){return 0===e.enumPictureCategory&&9===t||e.enumPictureCategory===t}),o=e.pictureURL;1===this.floor7FormValidate.photoStatus&&-1!==o.indexOf("/upload/qualifiedpics/")&&(this.isDelPhoto=!0),e.status=0;var a={};i.forEach(function(t,o){t.pictureURL===e.pictureURL&&(i.splice(o,1),a=t)}),this.floor7FormValidate.houseImages=this.floor7FormValidate.houseImages.filter(function(e){return e.pictureURL!==a.pictureURL});var s=this.floor7FormValidate.houseImages.sort(this._compare("enumPictureCategory"));a.cover&&this.setCover(s[0]),this.photoListLength=this.floor7FormValidate.houseImages.length},_noMatchingAddress:E.a.debounce(function(e){this.$Message.error(e)},1500),_enumPictureCategoryDisplay:function(e){for(var t=0;t<this.basicData.categoriesEnum.length;t++)if(e===this.basicData.categoriesEnum[t].enumValue)return this.basicData.categoriesEnum[t].display},_compare:function(e){return function(t,i){var o=t[e],a=i[e];return o<a?-1:o>a?1:0}},_isImageInUploadProgress:function(){return this.floor7FormValidate.houseImages.some(function(e){return!0===e.showProgress})}},filters:{enumPictureCategoryFilter:function(e,t){for(var i=0;i<t.categoriesEnum.length;i++)if(e===t.categoriesEnum[i].enumValue)return t.categoriesEnum[i].display},largePictureUrlFilter:function(e,t,i,o){return e?t+i:t+o},smallPictureUrlFilter:function(e,t,i,o){return e?e.indexOf("http")>-1?e:t+e:i?i.indexOf("http")>-1?i:t+i:o}},components:{draggable:We.a,rejectTips:T,editphoto:dt,comEnlargeImage:Ct,comUploadImg:kt}},Nt=Rt,Et=(i("6067"),Object(x["a"])(Nt,Be,ze,!1,null,"4de15992",null)),Ut=Et.exports,Lt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:5==e.isActive,expression:"isActive==5"}],staticClass:"floor7"},[e._m(0),i("div",{directives:[{name:"show",rawName:"v-show",value:e.rejectReasonOptionCpd.rejectReason,expression:"rejectReasonOptionCpd.rejectReason"}],staticClass:"reject-tips-wrapper"},[i("rejectTips",{staticClass:"reject-tips",attrs:{rejectText:e.rejectReasonOptionCpd.rejectReason,isShowIcon:e.rejectReasonOptionCpd.isShowIcon}}),i("Button",{directives:[{name:"show",rawName:"v-show",value:e.isShowRealShotButtonCpd,expression:"isShowRealShotButtonCpd"}],staticClass:"button",on:{click:function(t){return t.stopPropagation(),e.toShotView(t)}}},[e._v("申请实拍")])],1),i("div",{staticClass:"photo-floor"},[i("Form",{ref:"floor7FormValidate",attrs:{model:e.floor7FormValidate}},[0!=e.photoListLength?i("FormItem",{staticStyle:{"margin-top":"20px"},attrs:{prop:"photoNum"}},[i("div",{staticClass:"houMuchPhoto"},[i("p",[e._v(e._s(e.photoListLength)+"/140 "),i("span",[e._v("拖动照片可调整顺序")]),e.uploadingInfo.isUploading?i("span",{staticClass:"u-upload-img-tip"},[e._v("上传中... 共"+e._s(e.uploadingInfo.totalCount)+"张 成功"+e._s(e.uploadingInfo.successCount)+"张 "),e.uploadingInfo.errorCount>0?i("span",[e._v("失败"+e._s(e.uploadingInfo.errorCount)+"张")]):e._e()]):e._e(),i("span",{directives:[{name:"show",rawName:"v-show",value:e.isShowReject,expression:"isShowReject"}],staticClass:"prompt"},[i("Icon",{staticClass:"reject-icon",attrs:{type:"android-alert",color:"#FF6666",size:"14"}}),i("span",{staticClass:"reject-text"},[e._v("需上传至少6张图片，目前尚未达标呦")])],1)])])]):e._e(),0!=e.photoListLength?i("FormItem",{attrs:{prop:"photoList"}},[i("draggable",{directives:[{name:"viewer",rawName:"v-viewer",value:e.viewerOptions,expression:"viewerOptions"}],attrs:{options:{draggable:".photo-item"}},model:{value:e.floor7FormValidate.houseImages,callback:function(t){e.$set(e.floor7FormValidate,"houseImages",t)},expression:"floor7FormValidate.houseImages"}},e._l(e.floor7FormValidate.houseImages,function(t,o){return t.status?i("div",{key:o,staticClass:"photo-List photo-item"},[i("div",{staticClass:"img-con"},[i("div",{staticClass:"operation"},[i("div",{staticClass:"left-rotate"}),i("div",{staticClass:"right-del",on:{click:function(t){return e.delPhotoList(o)}}},[e._v("删除")])]),i("img",{staticClass:"uploadImg",attrs:{"data-source":e._f("largePictureUrlFilter")(t.isQualified,e.host.PIC_TUJIA_HOST,t.largePicURL,t.pictureURL),src:e._f("smallPictureUrlFilter")(t.smallPicURL,e.host.PIC_TUJIA_HOST,t.pictureURL,t.localImageUrl)}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showProgress,expression:"item.showProgress"}],staticClass:"image-mask"},[i("span",{staticClass:"upload-text"},[e._v("上传中...")]),i("Progress",{staticClass:"image-progress",attrs:{status:"success",percent:t.percentage,"stroke-width":8,"hide-info":!0}})],1),0==o?i("div",{staticClass:"blate-first-img-icon"},[e._v("\n                封面\n              ")]):e._e()]),i("Select",{staticStyle:{width:"195px",margin:"8px 8px 0"},model:{value:t.enumPictureCategory,callback:function(i){e.$set(t,"enumPictureCategory",i)},expression:"item.enumPictureCategory"}},e._l(e.basicData.categoriesEnum,function(t){return i("Option",{key:t.enumValue,attrs:{value:t.enumValue}},[e._v(e._s(t.display))])}),1),i("i-input",{staticStyle:{width:"195px",margin:"8px"},attrs:{type:"textarea",rows:2,placeholder:"图片描述"},model:{value:t.pictureExplain,callback:function(i){e.$set(t,"pictureExplain",i)},expression:"item.pictureExplain"}})],1):e._e()}),0),e.floor7FormValidate.houseImages.length<140?i("div",{staticClass:"photo-List m-add-photo-list"},[i("Upload",{staticStyle:{display:"block",width:"100%"},attrs:{"show-upload-list":!1,accept:"image/jpg, image/jpeg, image/png",format:["jpg","jpeg","png"],multiple:"",type:"drag","on-success":e.upLoadSuccess,"before-upload":e.beforeUpload,"on-progress":e.uploadProgress,"on-error":e.errorUpload,"on-exceeded-size":e.handleMaxSize,"max-size":10240,name:"fileData",data:{subfolder:"landlordunit",thumbwidth:164,thumbheight:92,mode:"Cut"},action:e.host.UPLOAD_TUJIA_HOST+"/FileUpload.ashx"}},[i("div",{staticStyle:{width:"100%",height:"255px"}},[i("p",{staticClass:"add-symbol"},[e._v("+")]),i("p",{staticClass:"add-text"},[e._v("继续上传")])])])],1):e._e()],1):e._e(),0==e.floor7FormValidate.houseImages?i("FormItem",{attrs:{prop:"photoListNull"}},[i("div",{staticClass:"photo-list-null"},[i("Icon",{staticClass:"photo-img-null",attrs:{type:"image"}}),i("p",[e._v("尚未上传房屋照片")]),i("Upload",{staticStyle:{display:"inline-block"},attrs:{"show-upload-list":!1,accept:"image/jpg, image/jpeg, image/png",format:["jpg","jpeg","png"],multiple:"",type:"drag","on-success":e.upLoadSuccess,"before-upload":e.beforeUpload,"on-progress":e.uploadProgress,"on-error":e.errorUpload,"on-exceeded-size":e.handleMaxSize,"max-size":10240,name:"fileData",data:{subfolder:"landlordunit",thumbwidth:164,thumbheight:92,mode:"Cut"},action:e.host.UPLOAD_TUJIA_HOST+"/FileUpload.ashx"}},[i("Button",{staticClass:"addPicture",attrs:{type:"primary"}},[i("span",{staticStyle:{color:"#fff"}},[e._v("添加照片")])])],1)],1)]):e._e(),i("FormItem",[i("div",{staticClass:"g-img-info"},[0==e.floor7FormValidate.houseImages?i("h1",[e._v("照片需上传6-140张且满足以下类型：")]):i("h1",[e._v("照片需满足以下类型：")]),i("div",[i("p",[e.floor7FormValidate.countModel.bedroomCount?i("span",[e._v("卧室："+e._s(e.floor7FormValidate.countModel.bedroomCount)+"张")]):e._e(),e.floor7FormValidate.countModel.livingCount?i("span",[e._v("客厅："+e._s(e.floor7FormValidate.countModel.livingCount)+"张")]):e._e(),e.floor7FormValidate.countModel.bathroomCount?i("span",[e._v("卫生间："+e._s(e.floor7FormValidate.countModel.bathroomCount)+"张")]):e._e(),e.floor7FormValidate.countModel.kitchenCount?i("span",[e._v("厨房："+e._s(e.floor7FormValidate.countModel.kitchenCount)+"张")]):e._e(),e.floor7FormValidate.countModel.poolCount?i("span",[e._v("泳池："+e._s(e.floor7FormValidate.countModel.poolCount)+"张")]):e._e(),e.floor7FormValidate.countModel.loft?i("span",[e._v("Loft复式楼梯："+e._s(e.floor7FormValidate.countModel.loft)+"张")]):e._e(),e.floor7FormValidate.countModel.detachedVilla?i("span",[e._v("房屋外观："+e._s(e.floor7FormValidate.countModel.detachedVilla)+"张")]):e._e()]),i("p",[e.floor7FormValidate.countModel.riverCount?i("span",[e._v("江景："+e._s(e.floor7FormValidate.countModel.riverCount)+"张")]):e._e(),e.floor7FormValidate.countModel.seaCount?i("span",[e._v("海景："+e._s(e.floor7FormValidate.countModel.seaCount)+"张")]):e._e(),e.floor7FormValidate.countModel.lakeCount?i("span",[e._v("湖景"+e._s(e.floor7FormValidate.countModel.lakeCount)+"张")]):e._e(),e.floor7FormValidate.countModel.terraceCount?i("span",[e._v("观景露台："+e._s(e.floor7FormValidate.countModel.terraceCount)+"张")]):e._e(),e.floor7FormValidate.countModel.gardenCount?i("span",[e._v("花园："+e._s(e.floor7FormValidate.countModel.gardenCount)+"张")]):e._e()])]),i("p",{staticClass:"u-pic-size-info"},[e._v("\n            图片要求：尺寸1200*750以上，大小10M以内，且满足高清、无水印、无联系方式、无logo要求\n          ")])])]),i("FormItem",[i("div",{staticClass:"nextStep"},[1==e.floor7FormValidate.saveButtonStatus&&void 0!=e.floor7FormValidate.saveButtonStatus?i("Button",{staticClass:"nextStep-btn",attrs:{type:"primary",disabled:e.uploadingInfo.isUploading},on:{click:e.saveImageBtn}},[e._v("下一步")]):i("Button",{staticClass:"nextStep-btn",attrs:{type:"primary",disabled:e.uploadingInfo.isUploading},on:{click:e.saveImageBtn}},[e._v("保存")])],1)])],1)],1),i("Modal",{attrs:{title:"提示"},on:{"on-ok":e.confirmSaveImage},model:{value:e.saveImageModal,callback:function(t){e.saveImageModal=t},expression:"saveImageModal"}},[i("p",[e._v("实拍房屋不可修改照片，修改后当前房屋在游客端将不展示途家“实拍”标识，是否继续修改？")])])],1)},Mt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title-con"},[i("h1",[e._v("房屋照片")]),i("h2",[e._v("点击图片维护图片标签，房客查看更方便，有利于促进成单呦～")])])}];function Ht(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function jt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ht(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ht(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var qt=10485760,$t=5242880,Bt=["image/jpg","image/jpeg","image/png"],zt={qualified:0,reject:1,failed:2};Xe["default"].use(Ye.a);var Jt={props:["isActive","houseUnitId","basicData"],data:function(){return{isShowReject:!1,queryImageArr:[],queryImagePhotoStatus:null,isNewImages:!1,saveImageModal:!1,isDelPhoto:!1,floor7FormValidate:{photoListLength:0,photoListIndex:1,countModel:{},houseImages:[]},categoriesEnum:[],photoListLength:0,uploadingInfo:{isUploading:!1,totalCount:0,successCount:0,errorCount:0},viewerOptions:{button:!0,navbar:!0,title:!1,toolbar:!0,tooltip:!0,movable:!1,zoomable:!1,rotatable:!0,scalable:!1,transition:!0,fullscreen:!1,keyboard:!0,url:"data-source"}}},computed:jt({},Object(n["e"])({host:"host"}),{rejectReasonOptionCpd:function(){return this.floor7FormValidate.liveShotEntrance===zt.failed?{rejectReason:"高质量图片有利于提升订单哦",isShowIcon:!1}:{rejectReason:this.floor7FormValidate.rejectReason||"",isShowIcon:!0}},isShowRealShotButtonCpd:function(){return this.floor7FormValidate.liveShotEntrance!==zt.qualified}}),watch:{isActive:function(e){e&&this.queryImage()}},created:function(){this.queryImage()},methods:{toShotView:function(){window.open(this.floor7FormValidate.liveShotUrl)},confirmSaveImage:function(){this.saveImageApi()},saveImageBtn:function(){if(this.floor7FormValidate.houseImages.length<6)this.isShowReject=!0,this.$Notice.error({desc:"需上传至少6张图片，目前尚未达标呦"});else{this.isShowReject=!1,this.isNewImages=!1;for(var e=0;e<this.floor7FormValidate.houseImages.length;e++)if(-1===this.queryImageArr.indexOf(this.floor7FormValidate.houseImages[e].pictureURL)){this.isNewImages=!0;break}if(this._isImageInUploadProgress())return void this.$Notice.error({desc:"图片上传未完成"});this.queryImagePhotoStatus&&(this.isNewImages||this.isDelPhoto)?this.saveImageModal=!0:this.saveImageApi()}},saveImageApi:function(){var e=this;l["a"].open();var t=0;this.floor7FormValidate.pageVersion=1,this.floor7FormValidate.houseImages&&this.floor7FormValidate.houseImages.map(function(e){e.pictureIndex=t++}),r["a"].saveImage(this.floor7FormValidate,function(t,i,o){l["a"].close(),t?(e.$emit("updateFloor7FormValidate",e.floor7FormValidate.houseImages),"undefined"!==typeof e.floor7FormValidate.saveButtonStatus&&1===e.floor7FormValidate.saveButtonStatus?e.$emit("nextStepChuange",6):(2===i?e.$Notice.success({title:"信息已提交审核中"}):1===i&&e.$Notice.success({title:"保存成功"}),e.queryImage(),e.$emit("menuReload"))):e.$Notice.error({desc:o.errorMsg})})},queryImage:function(){var e=this;l["a"].open(),r["a"].queryImage(this.houseUnitId,function(t,i,o){l["a"].close(),t?(i.houseImages.forEach(function(t){e.queryImageArr.push(t.pictureURL)}),i.photoStatus&&1===i.photoStatus?e.queryImagePhotoStatus=i.photoStatus:e.queryImagePhotoStatus=null,i.houseImages=i.houseImages||[],e.photoListLength=i.houseImages.length,i.houseImages=i.houseImages.map(function(e){return e.status=1,e}),e.floor7FormValidate=i):e.$Notice.error({desc:o.errorMsg})})},handleTabChange:function(e){this.floor6FormValidate.weekSamePrice=e},upLoadSuccess:function(e,t){var i=this;if(e&&!e.err&&e.msg){var o=e.msg.url;this.floor7FormValidate.houseImages.length<=140&&(this.uploadingInfo.successCount++,this.uploadingInfo.errorCount+this.uploadingInfo.successCount>=this.uploadingInfo.totalCount&&(this.uploadingInfo.isUploading=!1),this._setImgInfoByFileName({fileName:t.name,picUrl:o,smallPicUrl:this._getSmallImageUrl(o),isShowProgress:!1,percentage:100}),this._isImageInUploadProgress()||this._initUploadInfo())}else this.delPhotoList(this._findIndexByFileName(t.name)),this.uploadingInfo.errorCount++,this.uploadingInfo.errorCount+this.uploadingInfo.successCount>=this.uploadingInfo.totalCount&&setTimeout(function(){i.uploadingInfo.isUploading=!1},500),this.$Notice.error({desc:"图片上传失败"})},beforeUpload:function(e){var t=this;return new Promise(function(i,o){var a=new Image;a.src=window.URL.createObjectURL(e);var s=t._getImageLimit();a.onload=function(r){e.size>qt?(t.$Notice.error({desc:"上传的内容有误，照片需要小于10MB"}),o(new Error("上传的内容有误，照片需要小于10MB"))):t._isValidImageFormat(e.type)?a.width<s.maxWidth||a.height<s.maxHeight?(t.$Notice.error({desc:"上传的内容有误，照片需要大于".concat(t.basicData.pixelLimit)}),o(new Error("上传的内容有误，照片需要大于".concat(t.basicData.pixelLimit)))):-1!==t._findIndexByFileName(e.name)?(t.$Notice.error({desc:"不能选择同名图片"}),o(new Error("不能选择同名图片"))):t.photoListLength>=140?(t.$Notice.error({desc:"图片不能超出140张"}),o(new Error("图片不能超出"+t.maxCount+"张"))):(t.uploadingInfo.totalCount++,t.uploadingInfo.isUploading=!0,t._photoListReruenUrl({fileName:e.name,url:t._compatibleIEUrl(a),isShowProgress:!0,percentage:0}),e.size>$t?a.width>2448&&a.height>2448?i(t._getCropImage({image:a,file:e})):i(t._compressImage({image:a,file:e,rate:.9})):i()):(t.$Notice.error({desc:"上传图片格式有误"}),o(new Error("上传图片格式有误")))}})},uploadProgress:function(e,t){this._setImgInfoByFileName({fileName:t.name,picUrl:"",smallPicUrl:"",isShowProgress:!0,percentage:e.percent})},errorUpload:function(e,t,i){var o=this;this.delPhotoList(this._findIndexByFileName(i.name)),this.uploadingInfo.errorCount++,this.uploadingInfo.errorCount+this.uploadingInfo.successCount>=this.uploadingInfo.totalCount&&setTimeout(function(){o.uploadingInfo.isUploading=!1},500),this.$Notice.error({desc:"图片上传失败"})},handleMaxSize:function(e){this.$Notice.error({desc:"上传的内容有误，照片需要小于10MB"}),this.delPhotoList(this._findIndexByFileName(e.name))},delPhotoList:function(e){this.isDelPhoto=!1;var t=this.floor7FormValidate.houseImages[e].pictureURL;1===this.floor7FormValidate.photoStatus&&-1!==t.indexOf("/upload/qualifiedpics/")&&(this.isDelPhoto=!0),this.floor7FormValidate.houseImages[e].status=0,this.floor7FormValidate.houseImages.splice(e,1),this.photoListLength=this.floor7FormValidate.houseImages.length},_initUploadInfo:function(){this.uploadingInfo={isUploading:!1,totalCount:0,successCount:0,errorCount:0}},_photoListReruenUrl:function(e){var t=e.fileName,i=e.url,o=e.isShowProgress,a=e.percentage;this.floor7FormValidate.houseImages.push({pictureURL:"",localImageUrl:i,enumPictureCategory:"",pictureExplain:"",pictureGuid:"",fileName:t,status:1,smallPicURL:"",showProgress:o,percentage:a}),this.floor7FormValidate.photoListIndex++,this.photoListLength=this.floor7FormValidate.houseImages.length},_compatibleIEUrl:function(e){return e.src.indexOf("http")>-1?e.src:"".concat(this.host.NO_VERSION_STATIC_CDN_PREFIX,"/static/image/createUnitHouse/default.png")},_setImgInfoByFileName:function(e){var t=e.fileName,i=e.picUrl,o=e.smallPicUrl,a=e.isShowProgress,s=e.percentage,r=this._findIndexByFileName(t);i&&(this.floor7FormValidate.houseImages[r].pictureURL=i),o&&(this.floor7FormValidate.houseImages[r].smallPicURL=o),this.floor7FormValidate.houseImages[r].showProgress=a,this.floor7FormValidate.houseImages[r].percentage=s},_getSmallImageUrl:function(e){var t=e.split(".");return"".concat(t[0],"_s.").concat(t[1])},_getCropImage:function(e){var t=e.image,i=e.file;return t.width>=t.height?this._compressImage({image:t,file:i,rate:1,width:2448/t.height*t.width,height:2448}):this._compressImage({image:t,file:i,rate:1,width:2448,height:2448/t.width*t.height})},_compressImage:function(e){var t=e.image,i=e.file,o=e.rate,a=e.width,s=e.height,r=document.createElement("canvas");r.width=a||t.width,r.height=s||t.height,r.getContext("2d").drawImage(t,0,0,a||t.width,s||t.height);var n=r.toDataURL("image/jpeg",o);return new window.File([this._dataUrlToBlob(n)],i.name,{type:i.type})},_dataUrlToBlob:function(e){var t=e.split(","),i=t[0].match(/:(.*?);/)[1],o=window.atob(t[1]),a=o.length,s=new Uint8Array(a);while(a--)s[a]=o.charCodeAt(a);return new Blob([s],{type:i})},_findIndexByFileName:function(e){return E.a.findLastIndex(this.floor7FormValidate.houseImages,function(t){return t.fileName===e})},_isImageInUploadProgress:function(){return this.floor7FormValidate.houseImages.some(function(e){return!0===e.showProgress})},_getImageLimit:function(){var e=[];return this.basicData.pixelLimit&&(e=this.basicData.pixelLimit.split("*")),{maxWidth:e[0]?parseInt(e[0],10):1440,maxHeight:e[1]?parseInt(e[1],10):1080}},_isValidImageFormat:function(e){return Bt.includes(e)}},filters:{largePictureUrlFilter:function(e,t,i,o){return e?t+i:t+o},smallPictureUrlFilter:function(e,t,i,o){return e?e.indexOf("http")>-1?e:t+e:i?i.indexOf("http")>-1?i:t+i:o}},components:{draggable:We.a,rejectTips:T}},Gt=Jt,Wt=(i("a57b"),Object(x["a"])(Gt,Lt,Mt,!1,null,"52dea841",null)),Qt=Wt.exports,Yt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:6==e.isActive,expression:"isActive==6"}],staticClass:"floor6"},[e._m(0),i("div",{staticClass:"price-floor"},[i("Form",{ref:"floor6FormValidate",attrs:{model:e.floor6FormValidate,rules:e.floor6FormRules,"label-position":"top"}},[i("FormItem",{staticStyle:{"margin-top":"20px"},attrs:{prop:"price"}},[i("p",{staticStyle:{"font-weight":"bold",color:"#333"}},[e._v("基础价")]),i("span",{staticClass:"explain",staticStyle:{color:"#999"}},[e._v("基础价是基本售卖价格，长期有效，如果您在房态日历中修改了特定日期的价格，则特定日期之外的所有日期按照此价格售卖")])]),i("FormItem",[i("div",{staticClass:"sale-con"},[i("div",{staticClass:"currency-con"},[i("p",[e._v("售卖币种")]),e.basicData?i("Select",{staticStyle:{width:"200px"},attrs:{disabled:!e.floor6FormValidate.isOversea,placeholder:"请选择售卖币种"},model:{value:e.floor6FormValidate.currency,callback:function(t){e.$set(e.floor6FormValidate,"currency",t)},expression:"floor6FormValidate.currency"}},e._l(e.basicData.currencyUnitEnum,function(t){return i("Option",{key:t.enumValue,attrs:{value:t.enumValue}},[e._v(e._s(t.display))])}),1):e._e()],1)]),i("span",{staticClass:"explain",staticStyle:{color:"#999"}},[e._v("国内房屋只能通过人民币售卖，不可更改")])]),i("FormItem",[1!=e.floor6FormValidate.draft?i("p",[e._v("售卖方式")]):e._e(),1!=e.floor6FormValidate.draft?i("ul",{staticClass:"sale-mode-ul"},[i("li",{class:{active:1===e.floor6FormValidate.weekSamePrice},on:{click:function(t){return e.handleTabChange(1)}}},[e._v("每周同价")]),i("li",{class:{active:0===e.floor6FormValidate.weekSamePrice},on:{click:function(t){return e.handleTabChange(0)}}},[e._v("周中、周末不同价")])]):e._e(),i("div",{staticClass:"base-price-input-wrapper"},[1==e.floor6FormValidate.weekSamePrice?i("div",[i("FormItem",{attrs:{prop:"basePrice"}},[i("span",{staticStyle:{"font-size":"14px",color:"#666"},attrs:{slot:"label"},slot:"label"},[e._v("售卖价格")]),i("i-input",{staticStyle:{width:"120px","margin-right":"10px"},attrs:{maxlength:5,min:0,placeholder:"请输入价格..."},on:{"on-change":e.handleBasePriceInputChange},model:{value:e.floor6FormValidate.basePrice,callback:function(t){e.$set(e.floor6FormValidate,"basePrice",t)},expression:"floor6FormValidate.basePrice"}}),e._v("元\n            ")],1)],1):e._e(),0==e.floor6FormValidate.weekSamePrice?i("div",[i("div",{staticStyle:{float:"left","margin-right":"20px"}},[i("FormItem",{attrs:{prop:"basePrice",rules:{required:!0,validator:this.checkWorkDay,trigger:"blur"}}},[i("span",{staticStyle:{"font-size":"14px",color:"#666"},attrs:{slot:"label"},slot:"label"},[e._v("工作日价（周日-周四）")]),i("i-input",{staticStyle:{width:"120px","margin-right":"10px"},attrs:{maxlength:5,placeholder:"请输入价格..."},on:{"on-change":e.handleBasePriceInputChange},model:{value:e.floor6FormValidate.basePrice,callback:function(t){e.$set(e.floor6FormValidate,"basePrice",t)},expression:"floor6FormValidate.basePrice"}}),e._v("元\n              ")],1)],1),i("div",{staticStyle:{float:"left","margin-left":"20px"}},[i("FormItem",{attrs:{prop:"tempWeekendPrice"}},[i("span",{staticStyle:{"font-size":"14px",color:"#666"},attrs:{slot:"label"},slot:"label"},[e._v("周末价（周五-周六）")]),i("i-input",{staticStyle:{width:"120px","margin-right":"10px"},attrs:{maxlength:5,placeholder:"请输入价格..."},on:{"on-blur":e.textBlurPrice},model:{value:e.tempWeekendPrice,callback:function(t){e.tempWeekendPrice=t},expression:"tempWeekendPrice"}}),e._v("元\n              ")],1),e.errPriceFlag?i("span",{staticStyle:{color:"red","font-size":"12px",position:"absolute"}},[e._v(e._s(e.errPriceMsg))]):e._e()],1)]):e._e(),i("p",{directives:[{name:"show",rawName:"v-show",value:e.isShowCleanFeeToolTip,expression:"isShowCleanFeeToolTip"}],staticClass:"clean-fee-tool-tip"},[e._v("您设置了清洁费，请确保房费中没有重复收费")])])]),1!=e.floor6FormValidate.draft?i("FormItem",{attrs:{prop:"coverSpecialPrice"}},[i("span",{staticStyle:{"font-size":"14px",color:"#666"},attrs:{slot:"label"},slot:"label"},[e._v("售卖价格覆盖范围")]),i("Select",{staticStyle:{width:"300px"},model:{value:e.floor6FormValidate.coverSpecialPrice,callback:function(t){e.$set(e.floor6FormValidate,"coverSpecialPrice",t)},expression:"floor6FormValidate.coverSpecialPrice"}},[i("Option",{attrs:{value:0}},[e._v("仅覆盖原有基础价")]),i("Option",{attrs:{value:1}},[e._v("覆盖所有价格")])],1),1!=e.floor6FormValidate.draft?i("Button",{staticClass:"nextStep-btn",staticStyle:{"margin-top":"0px"},attrs:{type:"primary"},on:{click:e.saveBasicPriceOneBtn}},[e._v("保存")]):e._e()],1):e._e()],1),i("div",{staticClass:"clean-fee-wrapper"},[i("h1",{staticClass:"title"},[e._v("清洁费")]),i("p",{staticClass:"text"},[e._v("按单收取，客人入住前可全部退款，入住后全不退")]),i("div",{staticClass:"radio-wrapper"},[i("p",[i("span",{staticClass:"radio-title"},[e._v("是否收取清洁费")]),i("span",{directives:[{name:"show",rawName:"v-show",value:e.cleanFeeErrorMsg.feeExtraCleaningCharge,expression:"cleanFeeErrorMsg.feeExtraCleaningCharge"}],staticClass:"error-msg"},[e._v(e._s(e.cleanFeeErrorMsg.feeExtraCleaningCharge))])]),i("RadioGroup",{on:{"on-change":e.handleCleanFeeRadioChange},model:{value:e.floor6FormValidate.feeExtraCleaningCharge,callback:function(t){e.$set(e.floor6FormValidate,"feeExtraCleaningCharge",t)},expression:"floor6FormValidate.feeExtraCleaningCharge"}},e._l(e.cleanFeeRadioGroup,function(t){return i("Radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}),1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isCleanChargeDisabledCpd,expression:"!isCleanChargeDisabledCpd"}]},[i("div",{staticClass:"input-wrapper"},[i("span",{staticClass:"text"},[e._v("每单每套")]),i("i-input",{attrs:{maxlength:4},on:{"on-change":e.handleExtraCleaningChargeChange,"on-blur":e.handleExtraCleaningChargeInputBlur},model:{value:e.floor6FormValidate.extraCleaningCharge,callback:function(t){e.$set(e.floor6FormValidate,"extraCleaningCharge",t)},expression:"floor6FormValidate.extraCleaningCharge"}}),i("span",{staticClass:"text"},[e._v("元")])],1),i("p",{directives:[{name:"show",rawName:"v-show",value:e.cleanFeeErrorMsg.extraCleaningCharge,expression:"cleanFeeErrorMsg.extraCleaningCharge"}],staticClass:"error-msg"},[e._v(e._s(e.cleanFeeErrorMsg.extraCleaningCharge))])]),i("p",{directives:[{name:"show",rawName:"v-show",value:e.isShowCleanFeeTips,expression:"isShowCleanFeeTips"}],staticClass:"tips"},[e._v("\n        以此处设置为准，若已在\n        "),i("span",{staticClass:"active-text",on:{click:function(t){return t.stopPropagation(),e.openSaveTipsModal(t)}}},[e._v("其他入住提示中")]),e._v(" 维护过相关信息，请及时删除\n      ")]),i("h1",{staticClass:"title second-title"},[e._v("人数及加人费")]),i("p",{staticClass:"text"},[e._v("与房费收取及退款政策一致；仅新增人员收费标准；退款规则与房费一致")]),i("div",{staticClass:"input-wrapper suitable-people"},[i("span",{staticClass:"text"},[e._v("标准入住人数")]),i("InputNumber",{attrs:{max:e.floor6FormValidate.maxRecommendedGuests,min:1},model:{value:e.floor6FormValidate.recommendedGuests,callback:function(t){e.$set(e.floor6FormValidate,"recommendedGuests",t)},expression:"floor6FormValidate.recommendedGuests"}})],1),i("div",{staticClass:"radio-wrapper"},[i("p",[i("span",{staticClass:"radio-title"},[e._v("是否加人")]),i("span",{directives:[{name:"show",rawName:"v-show",value:e.cleanFeeErrorMsg.allowAddPerson,expression:"cleanFeeErrorMsg.allowAddPerson"}],staticClass:"error-msg"},[e._v(e._s(e.cleanFeeErrorMsg.allowAddPerson))])]),i("RadioGroup",{on:{"on-change":e.handleAddPersonRadioChange},model:{value:e.floor6FormValidate.allowAddPerson,callback:function(t){e.$set(e.floor6FormValidate,"allowAddPerson",t)},expression:"floor6FormValidate.allowAddPerson"}},e._l(e.cleanFeeRadioGroup,function(t){return i("Radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}),1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isAddPersonDisabledCpd,expression:"!isAddPersonDisabledCpd"}],staticClass:"input-wrapper inline"},[i("span",{staticClass:"text"},[e._v("加")]),i("InputNumber",{attrs:{max:9999,min:1},model:{value:e.floor6FormValidate.addPersonCount,callback:function(t){e.$set(e.floor6FormValidate,"addPersonCount",t)},expression:"floor6FormValidate.addPersonCount"}}),i("span",{staticClass:"text"},[e._v("人")])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isAddPersonDisabledCpd,expression:"!isAddPersonDisabledCpd"}],staticClass:"input-wrapper inline"},[i("span",{staticClass:"text"},[e._v("每人")]),i("i-input",{attrs:{type:"text",maxlength:4},on:{"on-change":e.handleEachPersonChargeChange},model:{value:e.floor6FormValidate.eachPersonCharge,callback:function(t){e.$set(e.floor6FormValidate,"eachPersonCharge",t)},expression:"floor6FormValidate.eachPersonCharge"}}),i("span",{staticClass:"text"},[e._v("元")]),i("p",{directives:[{name:"show",rawName:"v-show",value:e.cleanFeeErrorMsg.eachPersonCharge,expression:"cleanFeeErrorMsg.eachPersonCharge"}],staticClass:"error-msg"},[e._v(e._s(e.cleanFeeErrorMsg.eachPersonCharge))])],1),!0!==e.floor6FormValidate.draft?i("i-button",{staticClass:"nextStep-btn",attrs:{type:"primary"},on:{click:e.saveExtraChargeAndAddPersonPrice}},[e._v("保存")]):e._e()],1),i("div",{staticStyle:{"border-top":"1px solid #ddd"}},[i("Form",{ref:"floor6FormValidate1",attrs:{model:e.floor6FormValidate}},[i("h1",{staticClass:"residentH1"},[e._v("连住折扣")]),i("div",{staticClass:"residentCon"},[i("p",[e._v("连住天数")]),i("p",[e._v("折扣设置")])]),e._l(e.floor6FormValidate.discountProductList,function(t,o){return i("div",{key:o},[t.status?i("div",[i("FormItem",{staticStyle:{display:"inline-block"},attrs:{prop:"discountProductList."+o+".longStayDays"}},[i("Select",{staticStyle:{width:"200px"},attrs:{disabled:e._f("longStayDaysFilter")(t.longStayDays,e.hasSetDiscountProductList,o)},model:{value:t.longStayDays,callback:function(i){e.$set(t,"longStayDays",i)},expression:"item.longStayDays"}},e._l(e.longStayDaysCpd,function(t,o){return i("Option",{key:o,attrs:{value:t.id,disabled:t.id<e.floor6FormValidate.minRequiredDays}},[e._v(e._s(t.value))])}),1)],1),i("FormItem",{staticStyle:{display:"inline-block"},attrs:{prop:"discountProductList."+o+".discount",rules:{required:!0,min:1,max:9.9,type:"number",message:"折扣值为1到9.9",trigger:"blur"}}},[i("i-input",{staticStyle:{width:"120px",margin:"0 10px"},attrs:{number:"",maxlength:3,placeholder:t.recommendedSetting||"请选择"},model:{value:t.discount,callback:function(i){e.$set(t,"discount",i)},expression:"item.discount"}}),e._v("折\n            ")],1),0!==e.floor6FormValidate.discountProductList.length?i("span",{staticStyle:{color:"#6e80e3","font-size":"14px","margin-left":"10px",height:"33px","line-height":"33px",display:"inline-block",cursor:"pointer"},on:{click:function(t){return e.removeLiveDiscount(o)}}},[e._v("删除")]):e._e()],1):e._e()])}),i("div",{staticClass:"add-discount-btn"},[null==e.floor6FormValidate.discountProductList?i("Button",{staticClass:"u-btn-w",attrs:{type:"primary"},on:{click:e.addLiveDiscount}},[e._v("+ 添加连住折扣")]):e.floor6FormValidate.discountProductList.length<=6?i("Button",{staticClass:"u-btn-w",attrs:{type:"primary"},on:{click:e.addLiveDiscount}},[e._v("+ 添加连住折扣")]):e._e(),1!=e.floor6FormValidate.draft?i("Button",{staticClass:"nextStep-btn",staticStyle:{"margin-top":"-10px"},attrs:{type:"primary"},on:{click:e.saveDiscountedPriceBtn}},[e._v("保存")]):e._e()],1)],2)],1),i("Form",{ref:"floor6FormValidate2",attrs:{model:e.floor6FormValidate,rules:e.floor6FormValidate2,"label-position":"top"}},[i("FormItem",{staticStyle:{"border-top":"1px solid #ddd","padding-top":"20px"},attrs:{prop:"minRequiredDays"}},[i("span",{staticClass:"explain",staticStyle:{"font-size":"14px"},attrs:{slot:"label"},slot:"label"},[e._v("\n          最少起订天数\n          "),i("span",{staticStyle:{"font-size":"12px"}},[e._v("起订天数越少，越能满足更多人预订")])]),i("InputNumber",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"请输天数...",min:1,max:30},on:{"on-change":e.focusMinRequiredDays},model:{value:e.floor6FormValidate.minRequiredDays,callback:function(t){e.$set(e.floor6FormValidate,"minRequiredDays",t)},expression:"floor6FormValidate.minRequiredDays"}}),e._v("天\n        "),i("p",{directives:[{name:"show",rawName:"v-show",value:e.isChangeMinRequiredDaysPromrt,expression:"isChangeMinRequiredDaysPromrt"}],staticClass:"red"},[e._v("由于最小入住天数较大，您已设置的"+e._s(this.showText)+"的折扣价将失效")])],1),i("Checkbox",{staticStyle:{"font-size":"14px"},model:{value:e.floor6FormValidate.onlineDeposit,callback:function(t){e.$set(e.floor6FormValidate,"onlineDeposit",t)},expression:"floor6FormValidate.onlineDeposit"}},[e._v("收取住房押金")]),e.floor6FormValidate.onlineDeposit?i("FormItem",{staticStyle:{"padding-top":"20px"},attrs:{prop:"deposit",rules:{required:!0,type:"number",validator:this.checkDeposit,trigger:"change"}}},[i("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"label"},slot:"label"},[e._v("\n          押金金额\n          "),i("span",{directives:[{name:"show",rawName:"v-show",value:0===e.floor6FormValidate.isOversea,expression:"floor6FormValidate.isOversea === 0"}]},[i("span",{staticStyle:{"font-size":"12px"}},[e._v("途家民宿目前仅支持线上收取押金")])]),i("span",{directives:[{name:"show",rawName:"v-show",value:1===e.floor6FormValidate.isOversea,expression:"floor6FormValidate.isOversea === 1"}]},[i("span",{staticStyle:{"font-size":"12px"}},[e._v("海外目前支持线下收取押金")])])]),i("i-input",{staticStyle:{width:"200px","margin-right":"8px"},attrs:{maxlength:5,placeholder:"请输押金金额..."},model:{value:e.floor6FormValidate.deposit,callback:function(t){e.$set(e.floor6FormValidate,"deposit",t)},expression:"floor6FormValidate.deposit"}}),i("span",[e._v("元")])],1):e._e(),i("p",{staticStyle:{"margin-top":"20px","margin-bottom":"10px",color:"#000"}},[e._v("收款方式：全额预付")]),i("p",{directives:[{name:"show",rawName:"v-show",value:0===e.floor6FormValidate.isOversea,expression:"floor6FormValidate.isOversea === 0"}],staticStyle:{"margin-bottom":"30px"}},[i("span",{staticClass:"explain",staticStyle:{"margin-left":"0px"}},[e._v("途家民宿目前仅支持全额预付房费，并且通过平台线上收取")])]),i("p",{directives:[{name:"show",rawName:"v-show",value:1===e.floor6FormValidate.isOversea,expression:"floor6FormValidate.isOversea === 1"}],staticStyle:{"margin-bottom":"30px"}},[i("span",{staticClass:"explain",staticStyle:{"margin-left":"0px"}},[e._v("押金需要房东线下收取，海外暂不提供在线收取押金")])]),i("p",{staticStyle:{"margin-bottom":"10px","margin-top":"10px",color:"#000"}},[e._v("\n        退款规则\n        "),i("span",{staticClass:"explain"},[e._v("宽松的退款规则会让更多的人预订您的房屋")])]),0==e.floor6FormValidate.cancelRule.cancelable?i("p",{staticStyle:{color:"red","margin-bottom":"20px"}},[e._v("您当前房屋退款规则为“不可取消订单”，严苛的退款规则会影响您的成单。建议您尽快修改。")]):e._e(),i("p",{staticStyle:{"margin-bottom":"0px","margin-left":"30px","line-height":"33px"}},[e._v("\n        入住\n        "),i("FormItem",{staticStyle:{display:"inline-block","margin-bottom":"0px"},attrs:{prop:"cancelRule.preDay"}},[i("Select",{staticStyle:{width:"100px"},model:{value:e.floor6FormValidate.cancelRule.preDay,callback:function(t){e.$set(e.floor6FormValidate.cancelRule,"preDay",t)},expression:"floor6FormValidate.cancelRule.preDay"}},[i("Option",{attrs:{value:0}},[e._v("当天")]),i("Option",{attrs:{value:1}},[e._v("前1天")]),i("Option",{attrs:{value:2}},[e._v("前2天")]),i("Option",{attrs:{value:3}},[e._v("前3天")]),i("Option",{attrs:{value:4}},[e._v("前4天")]),i("Option",{attrs:{value:5}},[e._v("前5天")]),i("Option",{attrs:{value:6}},[e._v("前6天")]),i("Option",{attrs:{value:7}},[e._v("前7天")]),i("Option",{attrs:{value:15}},[e._v("前15天")]),e.floor6FormValidate.cancelRuleSupport99?i("Option",{attrs:{value:99}},[e._v("前99天")]):e._e()],1)],1),e._v("12点前取消订单，房费可全额退还；\n      ")],1),i("p",{staticStyle:{"margin-left":"30px","line-height":"33px",height:"30px"}},[e._v("\n        在此之后取消订单，将收取未住宿房费的\n        "),i("FormItem",{directives:[{name:"show",rawName:"v-show",value:1==e.isFirst,expression:"isFirst==true"}],staticStyle:{display:"inline-block","margin-bottom":"0px"},attrs:{prop:"cancelRule.cancelDiscount"}},[i("Select",{staticStyle:{width:"100px"},on:{"on-change":e.validatorDiscount},model:{value:e.floor6FormValidate.cancelRule.cancelDiscount,callback:function(t){e.$set(e.floor6FormValidate.cancelRule,"cancelDiscount",t)},expression:"floor6FormValidate.cancelRule.cancelDiscount"}},[i("Option",{attrs:{value:0}},[e._v("0%")]),i("Option",{attrs:{value:10}},[e._v("10%")]),i("Option",{attrs:{value:20}},[e._v("20%")]),i("Option",{attrs:{value:30}},[e._v("30%")]),i("Option",{attrs:{value:40}},[e._v("40%")]),i("Option",{attrs:{value:50}},[e._v("50%")]),i("Option",{attrs:{value:60}},[e._v("60%")]),i("Option",{attrs:{value:70}},[e._v("70%")]),i("Option",{attrs:{value:80}},[e._v("80%")]),i("Option",{attrs:{value:90}},[e._v("90%")]),i("Option",{attrs:{value:100}},[e._v("100%")])],1)],1),i("FormItem",{directives:[{name:"show",rawName:"v-show",value:0==e.isFirst,expression:"isFirst==false"}],staticStyle:{display:"inline-block","margin-bottom":"0px"},attrs:{prop:"cancelRule.cancelDiscount"}},[i("Select",{staticStyle:{width:"100px"},model:{value:e.floor6FormValidate.cancelRule.cancelDiscount,callback:function(t){e.$set(e.floor6FormValidate.cancelRule,"cancelDiscount",t)},expression:"floor6FormValidate.cancelRule.cancelDiscount"}},[i("Option",{attrs:{value:0}},[e._v("0%")]),i("Option",{attrs:{value:10}},[e._v("10%")]),i("Option",{attrs:{value:20}},[e._v("20%")]),i("Option",{attrs:{value:30}},[e._v("30%")]),i("Option",{attrs:{value:40}},[e._v("40%")]),i("Option",{attrs:{value:50}},[e._v("50%")]),i("Option",{attrs:{value:60}},[e._v("60%")]),i("Option",{attrs:{value:70}},[e._v("70%")]),i("Option",{attrs:{value:80}},[e._v("80%")]),i("Option",{attrs:{value:90}},[e._v("90%")]),i("Option",{attrs:{value:100}},[e._v("100%")])],1)],1),e._v("作为违约金支付给房东。（包含未入住和提前离店）\n      ")],1),i("p",{directives:[{name:"show",rawName:"v-show",value:e.weiyue,expression:"weiyue"}],staticStyle:{display:"inline-block",position:"relative",left:"24%",top:"10px",color:"red","font-size":"12px"}},[e._v("设置的违约金过高，会影响您的成单哟")]),i("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.floor6FormValidate.showSupportCredit,expression:"floor6FormValidate.showSupportCredit"}],attrs:{prop:"supportCredit"}},[i("Checkbox",{staticStyle:{"margin-top":"20px","font-size":"14px"},model:{value:e.floor6FormValidate.supportCredit,callback:function(t){e.$set(e.floor6FormValidate,"supportCredit",t)},expression:"floor6FormValidate.supportCredit"}},[e._v("支持信用免押金")]),i("p",[i("span",[e._v("支持信用免押会提高房屋排序和推荐")]),i("a",{staticClass:"aLink",attrs:{href:e.host.PMS_TUJIA_HOST+"/Help/HelpSesameCredit",target:"_blank"}},[e._v("什么是信用免押金？")])])],1),e.isNewHousePreferential?i("div",[e.newHousePreferentialShow?e.newHousePreferentialShow?i("FormItem",{staticClass:"new-house-preferential",attrs:{prop:"discountRate"}},[i("p",{staticClass:"preferential-title"},[e._v("新房特惠")]),i("Checkbox",{model:{value:e.checkHousePreferential,callback:function(t){e.checkHousePreferential=t},expression:"checkHousePreferential"}},[e._v("为前三位房客提供折扣优惠")]),i("Select",{staticClass:"preferential-select",attrs:{disabled:!e.isSelectHousePreferential},model:{value:e.floor6FormValidate.discountRate,callback:function(t){e.$set(e.floor6FormValidate,"discountRate",t)},expression:"floor6FormValidate.discountRate"}},e._l(e.housePreferentialList,function(t){return i("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label)+"折")])}),1),i("div",{staticClass:"preferential-txt"},[e._v("\n            参加后，此房的前三位房客享受折扣优惠，同时此房享受搜索推荐、排名优先和专属筛选标签\n            "),i("Poptip",{attrs:{trigger:"hover",width:"500"}},[i("a",[e._v("了解更多")]),i("div",{staticClass:"preferential-tip",attrs:{slot:"content"},slot:"content"},[i("p",[e._v("对于搜索您所在地区房源的房客，我们会告诉他们，预订您的房源即可享受您设置的折扣优惠。")]),i("p",[e._v("只有前三张有效的新房特惠订单享受折扣优惠。如果无人下单，该新房特惠将在3个月后自动失效。")]),i("p",[e._v("只有在3个月有效期内的新房源才可参与此优惠活动，且每个新房源仅可参与1次。")]),i("p",[e._v("每笔订单限定20个间夜，超出部分按原价格预订。")]),i("p",[e._v("设置此优惠的新房源专享新房特惠标签，房客可针对新房特惠进行筛选，且该房源在搜索结果中排名更高，产生订单的几率更高。")]),i("p",[e._v("想要快速出单提升销量，先从设置新房特惠做起吧。")])])])],1)],1):e._e():i("FormItem",{staticClass:"new-house-preferential"},[i("p",{staticClass:"preferential-title"},[e._v("新房特惠")]),e.floor6FormValidate.houseDiscountVo&&e.floor6FormValidate.houseDiscountVo.houseDiscount&&e.floor6FormValidate.houseDiscountVo.houseDiscount.discountRate?i("p",[e._v("\n            您已参与新房优惠，前三位房客享受"+e._s(e._f("keepOneNumber")(e.floor6FormValidate.houseDiscountVo.houseDiscount.discountRate))+"折优惠\n            "),e.floor6FormValidate.houseDiscountVo.houseDiscount.endDate?i("span",{staticClass:"preferential-effective-time"},[e._v("（有效期至："+e._s(e.floor6FormValidate.houseDiscountVo.houseDiscount.endDate)+"）")]):e._e()]):e._e(),i("div",{staticClass:"preferential-txt"},[e._v("\n            参加后，此房的前三位房客享受折扣优惠，同时此房享受搜索推荐、排名优先和专属筛选标签\n            "),i("Poptip",{attrs:{trigger:"hover",width:"500"}},[i("a",[e._v("了解更多")]),i("div",{staticClass:"preferential-tip",attrs:{slot:"content"},slot:"content"},[i("p",[e._v("对于搜索您所在地区房源的房客，我们会告诉他们，预订您的房源即可享受您设置的折扣优惠。")]),i("p",[e._v("只有前三张有效的新房特惠订单享受折扣优惠。如果无人下单，该新房特惠将在3个月后自动失效。")]),i("p",[e._v("只有在3个月有效期内的新房源才可参与此优惠活动，且每个新房源仅可参与1次。")]),i("p",[e._v("每笔订单限定20个间夜，超出部分按原价格预订。")]),i("p",[e._v("设置此优惠的新房源专享新房特惠标签，房客可针对新房特惠进行筛选，且该房源在搜索结果中排名更高，产生订单的几率更高。")]),i("p",[e._v("想要快速出单提升销量，先从设置新房特惠做起吧。")])])])],1)])],1):e._e(),i("p",{directives:[{name:"show",rawName:"v-show",value:!e.floor6FormValidate.showSupportCredit,expression:"!floor6FormValidate.showSupportCredit"}],staticStyle:{height:"37px"}}),i("FormItem",[i("div",{staticClass:"nextStep"},[2===e.floor6FormValidate.saveButtonStatus?i("Button",{staticClass:"nextStep-btn",attrs:{type:"primary"},on:{click:e.saveDepositBtn}},[e._v("保存")]):i("Button",{staticClass:"nextStep-btn",attrs:{type:"primary"},on:{click:e.saveBasicPriceBtn}},[e._v("下一步")])],1)])],1)],1),i("save-tips-modal",{attrs:{options:e.saveTipsModalOptions},on:{"on-ok":e.handleOk,"on-cancel":e.handleCancel}})],1)},Xt=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title-con"},[i("h1",[e._v("价格设置")])])}],Zt=d["a"].tjHost,Kt={saveExtraChargeAndAddPersonPrice:"".concat(Zt.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/saveExtraChargeAndAddPersonPrice"),saveHouseCredential:"/feapi/merchantcrm/merchant-web/pc/house/saveHouseCredential",queryHouseCredential:"/feapi/merchantcrm/merchant-web/pc/house/queryHouseCredential",queryHouseCredentialCheckSwitch:"/feapi/merchantcrm/merchant-web/pc/house/queryHouseCredentialCheckSwitch"},ei={saveExtraChargeAndAddPersonPrice:function(e){return d["a"].post(Kt.saveExtraChargeAndAddPersonPrice,{data:e,withCredentials:!0})},queryHouseCredential:function(e){e.houseUnitId;return d["a"].get(Kt.queryHouseCredential,{params:arguments[0]})},queryHouseCredentialCheckSwitch:function(){return d["a"].get(Kt.queryHouseCredentialCheckSwitch)},saveHouseCredential:function(e){e.houseUnitId,e.qualificationType,e.qualificationAddress,e.expirationDate,e.qualificationPictures;return d["a"].post(Kt.saveHouseCredential,{data:arguments[0]})}},ti=ei,ii=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Modal",{attrs:{"class-name":"save-tips-modal",title:"提示",width:410},model:{value:e.options.visable,callback:function(t){e.$set(e.options,"visable",t)},expression:"options.visable"}},[i("p",{staticClass:"save-tips-modal-content"},[e._v("是否保存本次修改？")]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){return t.stopPropagation(),e.handleOnCancel(t)}}},[e._v("取消")]),i("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){return t.stopPropagation(),e.handleOnOk(t)}}},[e._v("保存")])],1)])},oi=[],ai={name:"comSaveTipsModal",props:{options:{type:Object,default:function(){return{visable:!1}}}},methods:{handleOnOk:function(){this.$emit("on-ok"),this._close()},handleOnCancel:function(){this.$emit("on-cancel"),this._close()},_close:function(){this.options.visable=!1}}},si=ai,ri=(i("1e74"),Object(x["a"])(si,ii,oi,!1,null,null,null)),ni=ri.exports,li=i("4385");i("a481");function ci(e){var t=e;return t=t.replace(/[^\d.]/g,""),t=t.replace(/\.{2,}/g,"."),t=t.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t=t.replace(/^(\\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),t.indexOf(".")<0&&""!==t&&(t=parseFloat(t)),t}function ui(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function di(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ui(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ui(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var hi=new li["a"],mi={next:1,save:2,submit:3},pi={props:["isActive","houseUnitId","basicData"],data:function(){return{saveTipsModalOptions:{visable:!1},showText:"",isChangeMinRequiredDaysPromrt:!1,notConformMinRequiredDays:[],errPriceMsg:"",errPriceFlag:!1,dayArr:[],depositFlag:!1,weiyue:!1,deleteDiscountProductList:[],tempWeekendPrice:"",isSelectdiscount:!1,isNewHousePreferential:!1,housePreferentialList:[{value:5,label:"5.0"},{value:5.5,label:"5.5"},{value:6,label:"6.0"},{value:6.5,label:"6.5"},{value:7,label:"7.0"},{value:7.5,label:"7.5"},{value:8,label:"8.0"}],floor6FormValidate:{houseUnitId:"6aad5113-7273-4588-8844-9439eb383500",weekSamePrice:0,currency:"",liveDiscountIndex:1,discountProductList:[{longStayDays:"",discount:"",liveDiscountIndex:1,status:1}],price:"",basePrice:0,uniformPrice:1,weekendPrice:0,coverSpecialPrice:0,minRequiredDays:0,onlineDeposit:!1,deposit:1,cancelRule:{cancelDiscount:50,preDay:1},supportCredit:!1,showSupportCredit:!1,isOversea:0,draft:!1,saveButtonStatus:mi.next,cancelRuleSupport99:!1,houseDiscountVo:{globalSwitch:!1,houseDiscount:void 0},discountRate:void 0,discountSwitch:-1,feeExtraCleaningCharge:-1,extraCleaningCharge:"",recommendedGuests:0,allowAddPerson:-1,addPersonCount:1,eachPersonCharge:""},newHousePreferentialShow:!1,isFirst:!0,checkHousePreferential:!1,floor6FormRules:{basePrice:[{required:!0,validator:this.validBasePrice,trigger:"blur"}],weekendPrice:[{required:!0,type:"number",message:"价格不能为空",trigger:"blur"}],coverSpecialPrice:[{required:!0,type:"number",message:"请选择售卖价格覆盖范围",trigger:"change"}]},floor6FormValidate2:{minRequiredDays:[{required:!0,type:"number",message:"最少起订天数不能为空",trigger:"blur"}],deposit:[{required:!0,type:"number",min:1,message:"押金不能为空",trigger:"change"}]},currencyUnitEnum:[],hasSetDiscountProductList:[],cleanFeeRadioGroup:[{label:"是",value:Ue.YES},{label:"否",value:Ue.NO}],cleanFeeErrorMsg:{feeExtraCleaningCharge:"",allowAddPerson:"",extraCleaningCharge:"",eachPersonCharge:""},isShowCleanFeeToolTip:!1,isShowCleanFeeTips:!1}},computed:di({},Object(n["e"])({host:"host"}),{urlPost:function(){return"".concat(this.host.MERCHANTCRM_TUJIA_HOST,"/merchant-web/file/upload")},identityTruth:function(){return"".concat(this.host.MERCHANTCRM_TUJIA_HOST,"/merchant-web/file/get?id=")},isSelectHousePreferential:function(){return this.checkHousePreferential},houseDiscount:function(){return this.floor6FormValidate.houseDiscountVo.houseDiscount},houselList:function(){return this.housePreferentialList[6].value},longStayDaysCpd:function(){var e=[{id:2,value:"2天"},{id:3,value:"3天"},{id:4,value:"4天"},{id:5,value:"5天"},{id:7,value:"7天"},{id:15,value:"15天"},{id:30,value:"30天"}];return e},isAddPersonDisabledCpd:function(){return this.floor6FormValidate.allowAddPerson!==Ue.YES},isCleanChargeDisabledCpd:function(){return this.floor6FormValidate.feeExtraCleaningCharge!==Ue.YES}}),watch:{isActive:function(e){e?this.queryPrice():this.$refs["floor6FormValidate1"]&&this.$refs["floor6FormValidate1"].resetFields()},checkHousePreferential:function(e,t){e?this.floor6FormValidate.discountSwitch=0:(this.floor6FormValidate.discountRate=this.houselList,this.floor6FormValidate.discountSwitch=1)}},created:function(){this.checkHousePreferential||(this.floor6FormValidate.discountRate=this.houselList),this.queryPrice()},methods:{handleBasePriceInputChange:function(){this.isShowCleanFeeToolTip&&(this.isShowCleanFeeToolTip=!1)},handleCleanFeeRadioChange:function(e){this._clearRadioErrorMsg("feeExtraCleaningCharge"),e===Ue.NO&&(this.isShowCleanFeeTips=!1)},handleExtraCleaningChargeChange:function(e){var t=this;this._clearRadioErrorMsg("extraCleaningCharge"),this.$nextTick(function(){t.floor6FormValidate.extraCleaningCharge=ci(e.target.value)})},handleExtraCleaningChargeInputBlur:function(){this._showCleanFeeToolTip(),this._showCleanFeeTips()},openSaveTipsModal:function(){this.saveTipsModalOptions.visable=!0},handleAddPersonRadioChange:function(e){this._clearRadioErrorMsg("allowAddPerson")},handleEachPersonChargeChange:function(e){var t=this;this._clearRadioErrorMsg("eachPersonCharge"),this.$nextTick(function(){t.floor6FormValidate.eachPersonCharge=ci(e.target.value)})},saveExtraChargeAndAddPersonPrice:function(e){var t=this;if(!this._cleanFeeformValidatior())return this.$Notice.error({title:"填入信息有误，请重新填写"}),!1;var i=JSON.parse(JSON.stringify(this.floor6FormValidate));delete i.houseDiscountVo,l["a"].open(),ti.saveExtraChargeAndAddPersonPrice(i).then(function(i){t.$Notice.success({title:"保存成功"}),e&&"function"===typeof e&&e(),t.queryPrice()})["catch"](function(e){e.errorNo;var i=e.errorMsg;t.$Notice.error({title:i||"保存失败，请重试"})}).finally(function(){l["a"].close()})},handleOk:function(){this.saveExtraChargeAndAddPersonPrice(this._openHouseRuleSetting)},handleCancel:function(){this._openHouseRuleSetting()},_cleanFeeformValidatior:function(){for(var e in this._checkRadio("feeExtraCleaningCharge","请选择是否收取清洁费"),this._checkRadio("allowAddPerson","请选择是否加人"),this._checkExtraCleaningCharge(),this._checkEachPersonCharge(),this.cleanFeeErrorMsg)if(this.cleanFeeErrorMsg[e])return!1;return!0},_checkRadio:function(e,t){this.floor6FormValidate[e]!==Ue.YES&&this.floor6FormValidate[e]!==Ue.NO&&(this.cleanFeeErrorMsg[e]=t)},_checkExtraCleaningCharge:function(){this.floor6FormValidate.feeExtraCleaningCharge===Ue.YES&&(hi.add({value:this.floor6FormValidate.extraCleaningCharge,ruleName:"isEmpty",errorMsg:"请输入每单每套清洁费"}),this.cleanFeeErrorMsg.extraCleaningCharge=hi.start(),parseFloat(this.floor6FormValidate.extraCleaningCharge)<1&&(this.cleanFeeErrorMsg.extraCleaningCharge="每单每套清洁费不能小于1元"))},_checkEachPersonCharge:function(){this.floor6FormValidate.allowAddPerson===Ue.YES&&(hi.add({value:this.floor6FormValidate.eachPersonCharge,ruleName:"isEmpty",errorMsg:"请输入加人费"}),this.cleanFeeErrorMsg.eachPersonCharge=hi.start())},_clearRadioErrorMsg:function(e){this.cleanFeeErrorMsg[e]&&(this.cleanFeeErrorMsg[e]="")},_initCleanFeeFormItem:function(e){void 0!==e.extraCleaningCharge&&-1!==e.extraCleaningCharge||(e.extraCleaningCharge=""),void 0===e.feeExtraCleaningCharge&&(e.feeExtraCleaningCharge=-1),void 0===e.allowAddPerson&&(e.allowAddPerson=-1),e.addPersonCount||(e.addPersonCount=1),(!e.recommendedGuests||e.recommendedGuests<=0)&&(e.recommendedGuests=1),void 0!==e.eachPersonCharge&&-1!==e.eachPersonCharge||(e.eachPersonCharge="")},_openHouseRuleSetting:function(){this.$emit("nextStepChuange",4)},_showCleanFeeToolTip:function(){var e=this.$route.query.houseUnitId,t=0;if(e&&(t=localStorage.getItem("CleanFeeToolTipCount_".concat(e))||0),parseInt(t,10)>0)return!1;this.floor6FormValidate.draft||0!==this.floor6FormValidate.weekSamePrice&&1!==this.floor6FormValidate.weekSamePrice||!this.floor6FormValidate.basePrice||(this.isShowCleanFeeToolTip=!0,localStorage.setItem("CleanFeeToolTipCount_".concat(e),1))},_showCleanFeeTips:function(){var e=this.$route.query.houseUnitId,t=0;if(e&&(t=localStorage.getItem("CleanFeeTipsCount_".concat(e))||0),parseInt(t,10)>0)return!1;!this.floor6FormValidate.draft&&this.floor6FormValidate.hasCheckinExplained&&this.floor6FormValidate.newSettingWay===Ue.NO&&(this.isShowCleanFeeTips=!0,localStorage.setItem("CleanFeeTipsCount_".concat(e),1))},focusMinRequiredDays:function(){var e=this;this.notConformMinRequiredDays=[],this.floor6FormValidate.discountProductList.forEach(function(t){t.longStayDays<e.floor6FormValidate.minRequiredDays&&e.notConformMinRequiredDays.push(t.longStayDays)}),0!==this.notConformMinRequiredDays.length?(this.isChangeMinRequiredDaysPromrt=!0,this.showText="",this.floor6FormValidate.discountProductList.forEach(function(t){t.longStayDays<e.floor6FormValidate.minRequiredDays&&(e.showText=e.showText+"、连住"+t.longStayDays+"天")})):this.isChangeMinRequiredDaysPromrt=!1},saveDiscountPrice:function(e){var t=this;if(!this._checkDiscount())return!1;l["a"].open(),this.floor6FormValidate.weekendPrice=this.tempWeekendPrice,this.floor6FormValidate.deleteDiscountProductList=this.deleteDiscountProductList,e&&(this.floor6FormValidate.forceUpdate=!0),this.isNewHousePreferential&&(this.newHousePreferentialShow?this.checkHousePreferential?this.floor6FormValidate.discountSwitch=0:(this.floor6FormValidate.discountRate=0,this.floor6FormValidate.discountSwitch=1):this.floor6FormValidate.discountSwitch=-1),this._save();var i=this.floor6FormValidate.discountProductList.filter(function(e){return e.longStayDays<t.floor6FormValidate.minRequiredDays});i.forEach(function(e){t.deleteDiscountProductList.push(e.productId),e.status=0});var o=this.floor6FormValidate.discountProductList.filter(function(e){return e.longStayDays>=t.floor6FormValidate.minRequiredDays});this.floor6FormValidate.discountProductList=o;var a=JSON.parse(JSON.stringify(this.floor6FormValidate));delete a.houseDiscountVo,r["a"].saveDiscountedPrice(a,function(e,i,o){t.floor6FormValidate.forceUpdate=!1,t.isNewHousePreferential&&t.newHousePreferentialShow&&(t.checkHousePreferential||(t.floor6FormValidate.discountRate=t.houselList,t.floor6FormValidate.discountSwitch=1)),l["a"].close(),e?(t.deleteDiscountProductList=[],t.$Notice.success({title:"保存成功"})):20001==o.errorNo?t.$Modal.confirm({title:"提示",content:o.errorMsg,onOk:function(){t.saveDiscountedPriceBtn(!0)},onCancel:function(){}}):t.$Notice.error({desc:o.errorMsg})})},textBlurPrice:function(){var e=this.tempWeekendPrice,t=parseInt(e,10)+"",i=new RegExp("^[0-9]*$");return i.test(e)?e!=t&&parseInt(t,10)>0||0===parseInt(e,10)?(this.errPriceMsg="不能以0开头",this.errPriceFlag=!0,!1):0===e.length?(this.errPriceMsg="价格不能为空",this.errPriceFlag=!0,!1):(this.errPriceFlag=!1,!0):(this.errPriceMsg="请输入数字",this.errPriceFlag=!0,!1)},checkDeposit:function(e,t,i){var o=parseInt(t,10)+"",a=new RegExp("^[0-9]*$");a.test(t)?t!=o&&parseInt(o,10)>0||0===parseInt(t,10)?i(new Error("不能以0开头")):0===t.length?i(new Error("押金不能为空")):i():i(new Error("请输入数字"))},checkDeposit2:function(){var e=this.floor6FormValidate.deposit,t=parseInt(e,10)+"",i=new RegExp("^[0-9]*$");i.test(e)?e!=t&&parseInt(t,10)>0||0===parseInt(e,10)?this.depositFlag=!1:0===e.length?this.depositFlag=!1:this.depositFlag=!0:this.depositFlag=!1},checkWorkDay:function(e,t,i){var o=parseInt(t,10)+"",a=new RegExp("^[0-9]*$");a.test(t)?t!=o&&parseInt(o,10)>0||0===parseInt(t,10)?i(new Error("不能以0开头")):0===t.length?i(new Error("价格不能为空")):i():i(new Error("请输入数字"))},checkWeekend:function(e,t,i){var o=parseInt(t,10)+"",a=new RegExp("^[0-9]*$");a.test(t)?t!=o&&parseInt(o,10)>0||0===parseInt(t,10)?i(new Error("不能以0开头")):0===t.length?i(new Error("房间数量不能为空")):i():i(new Error("请输入数字"))},validatorDiscount:function(e){parseInt(this.floor6FormValidate.cancelRule.cancelDiscount,10)>50?this.weiyue=!0:this.weiyue=!1},validBasePrice:function(e,t,i){var o=t+"",a=new RegExp("^[0-9]*$");a.test(o)?0===parseInt(o,10)||0===o.indexOf("0")?i(new Error("不能以0开头")):0===o.length?i(new Error("价格不能为空")):i():i(new Error("请输入数字"))},handleTabChange:function(e){1===e&&(this.tempWeekendPrice=this.floor6FormValidate.weekendPrice),this.floor6FormValidate.weekSamePrice=e,0===e&&(this.errPriceMsg="",this.errPriceFlag=!1,this.refreshPrice())},saveBasicPriceOneBtn:function(e,t){var i=this;this.$refs["floor6FormValidate"].validate(function(o){if(0!==i.floor6FormValidate.weekSamePrice||i.textBlurPrice())if(o){l["a"].open(),0===i.floor6FormValidate.weekSamePrice?i.floor6FormValidate.weekendPrice=i.tempWeekendPrice:i.floor6FormValidate.weekendPrice="",i.floor6FormValidate.basePrice=parseInt(i.floor6FormValidate.basePrice,10),t&&(i.floor6FormValidate.forceUpdate=!0),i.isNewHousePreferential&&(i.newHousePreferentialShow?i.checkHousePreferential?i.floor6FormValidate.discountSwitch=0:(i.floor6FormValidate.discountRate=0,i.floor6FormValidate.discountSwitch=1):i.floor6FormValidate.discountSwitch=-1),i.floor6FormValidate.newSettingWay=Ue.YES;var a=JSON.parse(JSON.stringify(i.floor6FormValidate));delete a.houseDiscountVo,r["a"].saveBasicPrice(a,function(t,o,a){i.isNewHousePreferential&&i.newHousePreferentialShow&&(i.checkHousePreferential||(i.floor6FormValidate.discountRate=i.houselList,i.floor6FormValidate.discountSwitch=1)),l["a"].close(),i.floor6FormValidate.forceUpdate=!1,t?i.$Notice.success({title:"保存成功"}):20001==a.errorNo?i.$Modal.confirm({title:"提示",content:a.errorMsg,onOk:function(){i.saveBasicPriceOneBtn(e,!0)},onCancel:function(){}}):i.$Notice.error({desc:a.errorMsg})})}else i.$Notice.warning({title:"请按规则输入必填内容"});else i.$Notice.error({desc:"周末价格格式填写错误"})})},saveBasicPriceBtn:function(e){var t=this;return this.checkDeposit2(),this._cleanFeeformValidatior()?!!this._checkDiscount()&&void this.$refs["floor6FormValidate"].validate(function(e){if(e&&t.depositFlag&&t.floor6FormValidate.onlineDeposit||!t.floor6FormValidate.onlineDeposit&&e){l["a"].open(),t.isNewHousePreferential&&(t.newHousePreferentialShow?t.checkHousePreferential?t.floor6FormValidate.discountSwitch=0:(t.floor6FormValidate.discountRate=0,t.floor6FormValidate.discountSwitch=1):t.floor6FormValidate.discountSwitch=-1),t.floor6FormValidate.newSettingWay=Ue.YES;var i=JSON.parse(JSON.stringify(t.floor6FormValidate));delete i.houseDiscountVo,r["a"].saveBasicPrice(i,function(e,i,o){t.isNewHousePreferential&&t.newHousePreferentialShow&&(t.checkHousePreferential||(t.floor6FormValidate.discountRate=t.houselList,t.floor6FormValidate.discountSwitch=1)),l["a"].close(),e?t.floor6FormValidate.saveButtonStatus===mi.submit?t._openHouseQualificationSetting():t._openMerchantQualificationSetting():t.$Notice.error({desc:o.errorMsg})})}else t.$Notice.warning({title:"请按规则输入必填内容"})}):(this.$Notice.error({title:"填入信息有误，请重新填写"}),!1)},saveDiscountedPriceBtn:function(e){var t=this;this.floor6FormValidate.discountProductList.length>0?this.$refs["floor6FormValidate1"].validate(function(i){i?t.saveDiscountPrice(e):t.$Notice.warning({title:"请按规则输入必填内容"})}):this.saveDiscountPrice(e)},saveDepositBtn:function(){this.saveDiscountedPriceBtn(!0)},_save:function(){var e=this;this.$refs["floor6FormValidate2"].validate(function(t){if(t){if(e.floor6FormValidate.cancelRule&&(null===e.floor6FormValidate.cancelRule.cancelDiscount||void 0===e.floor6FormValidate.cancelRule.cancelDiscount||""===e.floor6FormValidate.cancelRule.cancelDiscount||null===e.floor6FormValidate.cancelRule.preDay||""===e.floor6FormValidate.cancelRule.preDay))return void e.$Notice.warning({title:"请输入退款规则"});l["a"].open(),e.floor6FormValidate.weekendPrice=e.tempWeekendPrice,e.isNewHousePreferential&&(e.newHousePreferentialShow?e.checkHousePreferential?e.floor6FormValidate.discountSwitch=0:(e.floor6FormValidate.discountRate=0,e.floor6FormValidate.discountSwitch=1):e.floor6FormValidate.discountSwitch=-1);var i=JSON.parse(JSON.stringify(e.floor6FormValidate));delete i.houseDiscountVo,r["a"].saveDeposit(i,function(t,i,o){e.isNewHousePreferential&&e.newHousePreferentialShow&&(e.checkHousePreferential||(e.floor6FormValidate.discountRate=e.houselList,e.floor6FormValidate.discountSwitch=1)),l["a"].close(),t?(e.$Notice.success({title:"保存成功"}),e.isNewHousePreferential&&e.newHousePreferentialShow&&e.queryPrice()):e.$Notice.error({desc:o.errorMsg})})}else e.$Notice.warning({title:"请按规则输入必填内容"})})},queryPrice:function(){var e=this;this.deleteDiscountProductList=[],l["a"].open(),r["a"].queryPrice(this.houseUnitId,function(t,i,o){if(l["a"].close(),t){void 0!=i.discountProductList?(e.hasSetDiscountProductList=i.discountProductList,i.discountProductList=i.discountProductList.map(function(e){return e.status=1,e})):i.discountProductList=[],!0!==i.supportCredit&&!1!==i.supportCredit&&(i.supportCredit=""),""===i.supportCredit&&0===i.isOversea&&(i.supportCredit=!0),i.minRequiredDays=i.minRequiredDays||1,i.basePrice=i.basePrice||"",i.deposit=i.deposit||"",i.onlineDeposit||(i.deposit=e.quzheng(i.basePrice)),"{}"===JSON.stringify(i.cancelRule)?e.isFirst=!1:e.isFirst=!0;var a=[0,1,2,3,4,5,6,7,15,99];if(-1===a.indexOf(i.cancelRule.preDay)&&(i.cancelRule.preDay=1),0==parseInt(i.cancelRule.cancelDiscount,10)?i.cancelRule.cancelDiscount=i.cancelRule.cancelDiscount:i.cancelRule.cancelDiscount=i.cancelRule.cancelDiscount||50,i.discountProductList)for(var s=0;s<i.discountProductList.length;s++)0===i.discountProductList[s].discount&&(i.discountProductList[s].discount="");i.cancelRule&&0==i.cancelRule.cancelable&&(e.floor6FormValidate.cancelRule.cancelDiscount=null,e.floor6FormValidate.cancelRule.preDay=null,i.cancelRule.cancelDiscount=null,i.cancelRule.preDay=null),e.tempWeekendPrice=i.weekendPrice,e._initCleanFeeFormItem(i),e.floor6FormValidate=i,i.houseDiscountVo.houseDiscount?(e.isNewHousePreferential=!0,i.draft?(e.newHousePreferentialShow=!0,i.houseDiscountVo.houseDiscount.discountRate?(e.checkHousePreferential=!0,e.floor6FormValidate.discountRate=i.houseDiscountVo.houseDiscount.discountRate):(e.checkHousePreferential=!1,e.floor6FormValidate.discountRate=e.houselList)):e.newHousePreferentialShow=!1):i.houseDiscountVo.globalSwitch?(e.isNewHousePreferential=!0,e.newHousePreferentialShow=!0,!e.checkHousePreferential&&(e.floor6FormValidate.discountRate=e.houselList)):(e.isNewHousePreferential=!1,e.newHousePreferentialShow=!1)}else e.$Notice.error({desc:o.errorMsg})})},refreshPrice:function(){var e=this;this.deleteDiscountProductList=[],l["a"].open(),r["a"].queryPrice(this.houseUnitId,function(t,i,o){if(l["a"].close(),t){if(void 0!=i.discountProductList?i.discountProductList=i.discountProductList.map(function(e){return e.status=1,e}):i.discountProductList=[],!0!==i.supportCredit&&!1!==i.supportCredit&&(i.supportCredit=""),""===i.supportCredit&&0===i.isOversea&&(i.supportCredit=!0),i.minRequiredDays=i.minRequiredDays||"1",i.basePrice=i.basePrice||"",i.deposit=i.deposit||"",i.deposit&&(i.deposit=e.quzheng(i.deposit)),"{}"===JSON.stringify(i.cancelRule)?e.isFirst=!1:e.isFirst=!0,i.cancelRule.preDay=i.cancelRule.preDay||1,0==parseInt(i.cancelRule.cancelDiscount,10)?i.cancelRule.cancelDiscount=i.cancelRule.cancelDiscount:i.cancelRule.cancelDiscount=i.cancelRule.cancelDiscount||50,i.discountProductList)for(var a=0;a<i.discountProductList.length;a++)0===i.discountProductList[a].discount&&(i.discountProductList[a].discount="");e.tempWeekendPrice=i.weekendPrice,i.weekSamePrice=0,e.floor6FormValidate=i,i.houseDiscountVo.houseDiscount?(e.isNewHousePreferential=!0,i.draft?(e.newHousePreferentialShow=!0,i.houseDiscountVo.houseDiscount.discountRate?(e.checkHousePreferential=!0,e.floor6FormValidate.discountRate=i.houseDiscountVo.houseDiscount.discountRate):(e.checkHousePreferential=!1,e.floor6FormValidate.discountRate=e.houselList)):e.newHousePreferentialShow=!1):i.houseDiscountVo.globalSwitch?(e.isNewHousePreferential=!0,e.newHousePreferentialShow=!0,!e.checkHousePreferential&&(e.floor6FormValidate.discountRate=e.houselList)):(e.isNewHousePreferential=!1,e.newHousePreferentialShow=!1)}else e.$Notice.error({desc:o.errorMsg})})},quzheng:function(e){if(isNaN(e)||""==e)return"";var t=parseInt(e,10);return t<100?100:100*Math.ceil(t/100)},addLiveDiscount:function(){var e=this;"undefined"===typeof this.floor6FormValidate.liveDiscountIndex?this.floor6FormValidate.liveDiscountIndex=1:this.floor6FormValidate.liveDiscountIndex++;var t=[2,3,4,5,7,15,30],i=2,o=!1;this.floor6FormValidate.discountProductList&&this.floor6FormValidate.discountProductList.length>0&&t.forEach(function(t){var a=e.floor6FormValidate.discountProductList.filter(function(e){return e.longStayDays==t});0!=a.length||o||(o=!0,i=t)});for(var a=0;a<this.longStayDaysCpd.length;a++)if(this.longStayDaysCpd[a].id>=this.floor6FormValidate.minRequiredDays){i=this.longStayDaysCpd[a].id;break}null==this.floor6FormValidate.discountProductList?this.floor6FormValidate.discountProductList=[{longStayDays:i,discount:"",productId:0,productName:0,liveDiscountIndex:this.floor6FormValidate.liveDiscountIndex,status:1}]:this.floor6FormValidate.discountProductList.push({longStayDays:i,discount:"",productId:0,productName:0,liveDiscountIndex:this.floor6FormValidate.liveDiscountIndex,status:1})},removeLiveDiscount:function(e){var t=this.floor6FormValidate.discountProductList[e];t.productId&&t.productId>0&&this.deleteDiscountProductList.push(t.productId);var i=this.hasSetDiscountProductList.filter(function(e){return e.longStayDays!==t.longStayDays});this.hasSetDiscountProductList=i,this.floor6FormValidate.discountProductList[e].status=0,this.floor6FormValidate.discountProductList.splice(e,1)},_checkDiscount:function(){for(var e=this.floor6FormValidate.discountProductList,t=!1,i=!1,o=0;o<e.length;o++){for(var a=e[o],s=0;s<e.length;s++){var r=e[s];if(a.longStayDays==r.longStayDays&&o!=s&&(i=!0),parseInt(a.longStayDays,10)>parseInt(r.longStayDays,10)&&parseFloat(a.discount)>=parseFloat(r.discount)){t=!0;break}}if(t)break}return t?(this.$Notice.error({desc:"折扣须在1-9.9之间，连住天数越大，折扣力度也需要越大。"}),!1):!i||(this.$Notice.error({desc:"不能设置相同的连住天数"}),!1)},_openHouseQualificationSetting:function(){this.$emit("nextStepChuange",8)},_openMerchantQualificationSetting:function(){this.$emit("nextStepChuange",7)}},filters:{longStayDaysFilter:function(e,t,i){if(i<t.length){if(0!==t.length)for(var o=0;o<t.length;o++)if(t[o].longStayDays===e)return!0;return!1}return!1},keepOneNumber:function(e){var t=Number(e).toFixed(2),i=t.substring(0,t.toString().length-1);return i}},components:{saveTipsModal:ni}},fi=pi,gi=(i("e2cf"),i("5b81"),Object(x["a"])(fi,Yt,Xt,!1,null,"03e9bf77",null)),vi=gi.exports,yi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"floor8"},[e._m(0),i("div",{directives:[{name:"show",rawName:"v-show",value:e.floor8FormValidate.rejectReason,expression:"floor8FormValidate.rejectReason"}],staticClass:"reject-tips-wrapper"},[i("rejectTips",{attrs:{rejectText:e.floor8FormValidate.rejectReason}})],1),i("div",{staticClass:"identity-floor"},[i("Form",{ref:"floor8FormValidate",attrs:{model:e.floor8FormValidate,rules:e.floor8FormValidateRules,"label-position":"top"}},[i("FormItem",{staticStyle:{"margin-top":"20px"},attrs:{prop:"tavernName"}},[i("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"label"},slot:"label"},[e._v("\n          房东昵称/门店名称\n          "),i("span",{staticStyle:{"font-size":"12px"}},[e._v("客人可通过名称快速搜索到您的小家")]),i("Poptip",{staticClass:"tip",attrs:{placement:"right",width:"330"}},[i("a",{staticStyle:{"font-size":"12px"}},[e._v("怎么取一个好的名称？")]),i("div",{attrs:{slot:"content"},slot:"content"},[i("p",{staticStyle:{"font-size":"12px"}},[e._v("\n                好的名称能让人印象深刻，请起一个真实或具有个人\n                "),i("br"),e._v("特色的名称。\n                "),i("br"),e._v("1、 若您有门店招牌，请与门店招牌名称一致或相似\n                "),i("br"),e._v("2、 若没有门店招牌，那名称中包含明确识别词，不\n                "),i("br"),e._v("能包含地址、地标、户型等信息。\n              ")]),i("p",{staticStyle:{"font-size":"12px"}},[e._v("\n                合规例子：“兰亭小筑”、“水云阁民宿”、“岁月\n                "),i("br"),e._v("人家民宿”\n                "),i("br"),e._v("不合规例子：“北京公寓”、“回龙观小区民宿”\n              ")])])])],1),i("i-input",{staticStyle:{width:"320px"},attrs:{placeholder:"真实姓名或个性昵称，如“漫画师之家”"},on:{"on-change":e.handleStoreNameChange},model:{value:e.floor8FormValidate.tavernName,callback:function(t){e.$set(e.floor8FormValidate,"tavernName",t)},expression:"floor8FormValidate.tavernName"}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.isShowSensitiveCheckTips,expression:"isShowSensitiveCheckTips"}],staticClass:"check-sensitive-words"},[e._v(e._s(e.sensitiveCheckTips))])],1),i("FormItem",{attrs:{prop:"mobile"}},[i("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"label"},slot:"label"},[e._v("\n          您的电话\n          "),i("span",{staticStyle:{"font-size":"12px"}},[e._v("此电话在客房预订成功后可见")]),i("Poptip",{staticClass:"tip",attrs:{placement:"right",width:"330"}},[i("a",{staticStyle:{"font-size":"12px"}},[e._v("关于此电话的用途")]),i("div",{attrs:{slot:"content"},slot:"content"},[i("p",{staticStyle:{"font-size":"12px"}},[e._v("\n                提供一个便于客人联系您的号码，该号码在客\n                "),i("br"),e._v("人拨打给您的时候将显示为170或400开头的中\n                "),i("br"),e._v("转电话，温馨提示：若安全管家或来电拦截等\n                "),i("br"),e._v("app，请勿拦截该号码\n              ")])])])],1),i("i-input",{staticStyle:{width:"320px"},attrs:{placeholder:"请输入您的电话..."},model:{value:e.floor8FormValidate.mobile,callback:function(t){e.$set(e.floor8FormValidate,"mobile",t)},expression:"floor8FormValidate.mobile"}})],1),e.emailShow?i("FormItem",{attrs:{prop:"email"}},[i("span",{staticStyle:{"font-size":"14px"},attrs:{slot:"label"},slot:"label"},[e._v("\n          您的邮箱（海外用户展示）\n          "),i("span",{staticStyle:{"font-size":"12px"}},[e._v("邮箱会用于所有运营事宜")])]),i("i-input",{staticStyle:{width:"320px"},attrs:{placeholder:"请输入您的邮箱..."},model:{value:e.floor8FormValidate.email,callback:function(t){e.$set(e.floor8FormValidate,"email",t)},expression:"floor8FormValidate.email"}})],1):e._e(),i("FormItem",{attrs:{prop:"upload"}},[i("p",[e._v("房东头像/门店标志")]),i("div",{staticClass:"uploadImg-con"},[i("img",{staticClass:"headImg",attrs:{src:e.headUploadURL,alt:""}}),i("updataImg1",{attrs:{width:150,isNoCircle:!0,isNoSquare:!0,height:150,field:e.field,uploadUrl:e.uploadUrl,maxSize:2048,cropStyle:e.cropStyle},on:{imgUrl:e.headreturnImgUrl}},[i("div",{staticClass:"posit"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.uploadFlag,expression:"uploadFlag === true"}],staticClass:"logoposit"},[i("div",{staticClass:"add-img"},[e._v("+")]),i("p",{staticStyle:{position:"relative",top:"5px"}},[e._v("上传头像")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!1===e.uploadFlag,expression:"uploadFlag === false"}],staticClass:"relogoposit reupload"},[e._v("重新上传")])])])],1),i("div",{staticClass:"uploadRequire"},[i("p",[e._v("\n            上传要求：\n            "),i("br"),e._v("1、请上传真实头像，若有营业执照也可以上传品牌logo，否则审核不会通过哟\n            "),i("br"),e._v("2、请上传2MB以内的JPG、JPEG、GIF、PNG格式图片文件\n          ")])])]),i("FormItem",[i("p",{staticStyle:{color:"#333"}},[e._v("\n          资质认证\n          "),i("span",[e._v("验证您的身份，能提升客人对您的信任")])]),i("p",[e._v("\n          资质认证方式\n          "),i("span",[e._v("认证方式只选择一项")])]),i("ul",{staticClass:"prove-ul"},[e.isCredentialType&&e.isChoosePersonalDisabledCpd?i("li",{class:{active:6==e.floor8FormValidate.credentialType}},[6==e.floor8FormValidate.credentialType?i("div",{staticClass:"prove proves-icon1"}):i("div",{staticClass:"prove prove-icon1"}),i("p",{staticStyle:{color:"#ddd"}},[e._v("芝麻信用")])]):e._e(),e.isChoosePersonalDisabledCpd?i("li",{class:{active:2==e.floor8FormValidate.credentialType}},[2==e.floor8FormValidate.credentialType?i("div",{staticClass:"prove proves-icon2"}):i("div",{staticClass:"prove prove-icon2"}),i("p",{staticStyle:{color:"#ddd"}},[e._v("身份证")])]):e._e(),e.isChoosePersonalCpd?i("li",{class:{active:2==e.floor8FormValidate.credentialType},on:{click:function(t){return e.changeProveToogle(2)}}},[2==e.floor8FormValidate.credentialType?i("div",{staticClass:"prove proves-icon2"}):i("div",{staticClass:"prove prove-icon2"}),i("p",[e._v("身份证")])]):e._e(),e.isChoosePersonalDisabledCpd?i("li",{class:{active:3==e.floor8FormValidate.credentialType}},[3==e.floor8FormValidate.credentialType?i("div",{staticClass:"prove proves-icon3"}):i("div",{staticClass:"prove prove-icon3"}),i("p",{staticStyle:{color:"#ddd"}},[e._v("护照")])]):e._e(),e.isChoosePersonalCpd?i("li",{class:{active:3==e.floor8FormValidate.credentialType},on:{click:function(t){return e.changeProveToogle(3)}}},[3==e.floor8FormValidate.credentialType?i("div",{staticClass:"prove proves-icon3"}):i("div",{staticClass:"prove prove-icon3"}),i("p",[e._v("护照")])]):e._e(),e.isChooseEnterpriseDisabledCpd?i("li",{class:{active:1==e.floor8FormValidate.credentialType}},[1==e.floor8FormValidate.credentialType?i("div",{staticClass:"prove proves-icon4"}):i("div",{staticClass:"prove prove-icon4"}),i("p",{staticStyle:{color:"#ddd"}},[e._v("营业执照")])]):e._e(),e.isChooseEnterpriseCpd?i("li",{class:{active:1==e.floor8FormValidate.credentialType},on:{click:function(t){return e.changeProveToogle(1)}}},[1==e.floor8FormValidate.credentialType?i("div",{staticClass:"prove proves-icon4"}):i("div",{staticClass:"prove prove-icon4"}),i("p",[e._v("营业执照")]),i("p",{staticClass:"business-license-tool-tips"},[e._v("\n              选择营业执照\n              "),i("br"),e._v("无需上传房屋资质\n            ")])]):e._e()])]),i("FormItem",[6==e.floor8FormValidate.credentialType?i("div",[1==e.floor8FormValidate.sesameInfo.flag?i("div",[i("div",{staticClass:"credit-success-icon"}),i("div",{staticClass:"credit-success-text"},[e._v("芝麻信用认证成功")])]):e._e(),1==e.floor8FormValidate.sesameInfo.flag?i("div",{staticClass:"info-container"},[i("div",[1==e.floor8FormValidate.sesameInfo.flag?i("span",[e._v("姓名")]):e._e(),i("br"),1==e.floor8FormValidate.sesameInfo.flag?i("i-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{disabled:"",placeholder:"请输入姓名..."},model:{value:e.floor8FormValidate.sesameInfo.name,callback:function(t){e.$set(e.floor8FormValidate.sesameInfo,"name",t)},expression:"floor8FormValidate.sesameInfo.name"}}):e._e()],1),i("div",[1==e.floor8FormValidate.sesameInfo.flag?i("span",{attrs:{slot:"label"},slot:"label"},[e._v("身份证号")]):e._e(),i("br"),1==e.floor8FormValidate.sesameInfo.flag?i("i-input",{staticStyle:{width:"300px"},attrs:{disabled:"",placeholder:"请输入身份证号..."},model:{value:e.floor8FormValidate.sesameInfo.idCardNo,callback:function(t){e.$set(e.floor8FormValidate.sesameInfo,"idCardNo",t)},expression:"floor8FormValidate.sesameInfo.idCardNo"}}):e._e()],1)]):e._e()]):e._e()]),2==e.floor8FormValidate.credentialType?i("FormItem",{attrs:{prop:"credentialName",rules:{required:!0,message:"姓名不能为空",trigger:"blur"}}},[i("p",{staticStyle:{clear:"both"}},[e._v("姓名")]),0==e.floor8FormValidate.qualificationAuditProcessStatus||1==e.floor8FormValidate.qualificationAuditProcessStatus||2==e.floor8FormValidate.qualificationAuditProcessStatus?i("i-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{disabled:"",placeholder:"请输入姓名..."},model:{value:e.floor8FormValidate.credentialName,callback:function(t){e.$set(e.floor8FormValidate,"credentialName",t)},expression:"floor8FormValidate.credentialName"}}):i("i-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{placeholder:"请输入姓名..."},model:{value:e.floor8FormValidate.credentialName,callback:function(t){e.$set(e.floor8FormValidate,"credentialName",t)},expression:"floor8FormValidate.credentialName"}})],1):e._e(),2==e.floor8FormValidate.credentialType?i("FormItem",[i("p",[e._v("身份证号")]),0==e.floor8FormValidate.qualificationAuditProcessStatus||1==e.floor8FormValidate.qualificationAuditProcessStatus||2==e.floor8FormValidate.qualificationAuditProcessStatus?i("i-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{disabled:"",placeholder:"请输入身份证号..."},model:{value:e.floor8FormValidate.credentialNumber,callback:function(t){e.$set(e.floor8FormValidate,"credentialNumber",t)},expression:"floor8FormValidate.credentialNumber"}}):i("i-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{placeholder:"请输入身份证号..."},on:{"on-blur":e.IDVerification},model:{value:e.floor8FormValidate.credentialNumber,callback:function(t){e.$set(e.floor8FormValidate,"credentialNumber",t)},expression:"floor8FormValidate.credentialNumber"}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.cardFlag,expression:"cardFlag"}],staticStyle:{"font-size":"12px",color:"red"}},[e._v("请输入合理的身份证号")]),e.floor8FormValidate.qualificationAutoAudit?e._e():i("p",[e._v("\n          证件上传\n          "),i("span",[e._v("请上传2MB以内的JPG、JPEG、GIF、PNG格式的图片文件且证件信息清楚无水印")])]),e.floor8FormValidate.qualificationAutoAudit?e._e():i("div",{staticClass:"just dragCard z-new",on:{click:e.IDCardManUpdataImg}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.floor8FormValidate.documentIds.length>0&&e.floor8FormValidate.documentIds[0]>0,expression:"floor8FormValidate.documentIds.length>0&&floor8FormValidate.documentIds[0]>0"}],attrs:{src:e.identityTruth+e.floor8FormValidate.documentIds[0],alt:""}}),i("Upload",{directives:[{name:"show",rawName:"v-show",value:e.showIDMan,expression:"showIDMan"}],staticStyle:{display:"block",width:"100%",height:"170px"},attrs:{"show-upload-list":!1,accept:"image/jpg, image/jpeg, image/png, image/gif",format:["gif","jpg","jpeg","png"],type:"drag","before-upload":e.handleBeforeUpload,"on-success":e.IDManreturnImgUrl,name:"fileUpload",action:e.urlPost}},[i("div",{staticClass:"m-img-content card1"},[i("div",{staticClass:"img-mask"},[i("i",{staticClass:"icon-add-white"}),i("p",{staticClass:"text"},[e._v("上传手持身份证正面")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.manCard,expression:"manCard === true"}],staticClass:"upload-cancel",on:{click:function(t){return e.canclePositiveCard(0)}}},[i("i",{staticClass:"icon-img-close"})])],1),e.floor8FormValidate.qualificationAutoAudit?e._e():i("div",{staticClass:"just dragCard z-new",on:{click:e.IDCardJustUpdataImg}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.floor8FormValidate.documentIds.length>0&&e.floor8FormValidate.documentIds[1]>0,expression:"floor8FormValidate.documentIds.length>0&&floor8FormValidate.documentIds[1]>0"}],attrs:{src:e.identityTruth+e.floor8FormValidate.documentIds[1],alt:""}}),i("Upload",{directives:[{name:"show",rawName:"v-show",value:e.showIDJust,expression:"showIDJust"}],staticStyle:{display:"block",width:"100%",height:"170px"},attrs:{"show-upload-list":!1,accept:"image/jpg, image/jpeg, image/png, image/gif",format:["gif","jpg","jpeg","png"],type:"drag","before-upload":e.handleBeforeUpload,"on-success":e.IDJustreturnImgUrl,name:"fileUpload",action:e.urlPost}},[i("div",{staticClass:"m-img-content card2"},[i("div",{staticClass:"img-mask"},[i("i",{staticClass:"icon-add-white"}),i("p",{staticClass:"text"},[e._v("上传身份证正面")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.positiveCard,expression:"positiveCard === true"}],staticClass:"upload-cancel",on:{click:function(t){return e.canclePositiveCard(1)}}},[i("i",{staticClass:"icon-img-close"})])],1),e.floor8FormValidate.qualificationAutoAudit?e._e():i("div",{staticClass:"back dragCard z-new",on:{click:e.IDCardBackUpdataImg}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.floor8FormValidate.documentIds.length>1&&e.floor8FormValidate.documentIds[2]>0,expression:"floor8FormValidate.documentIds.length>1 && floor8FormValidate.documentIds[2]>0"}],attrs:{src:e.identityTruth+e.floor8FormValidate.documentIds[2],alt:""}}),i("Upload",{directives:[{name:"show",rawName:"v-show",value:e.showIDBack&&e.isShowThirdIDCardUploadCpd,expression:"showIDBack && isShowThirdIDCardUploadCpd"}],staticStyle:{display:"block",width:"100%",height:"170px"},attrs:{"show-upload-list":!1,accept:"image/jpg, image/jpeg, image/png, image/gif",format:["gif","jpg","jpeg","png"],type:"drag","before-upload":e.handleBeforeUpload,"on-success":e.IDBackreturnImgUrl,name:"fileUpload",action:e.urlPost}},[i("div",{staticClass:"m-img-content card3"},[i("div",{staticClass:"img-mask"},[i("i",{staticClass:"icon-add-white"}),i("p",{staticClass:"text"},[e._v("上传身份证反面")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.negativeCard,expression:"negativeCard === true"}],staticClass:"upload-cancel",on:{click:function(t){return e.canclePositiveCard(2)}}},[i("i",{staticClass:"icon-img-close"})])],1)],1):e._e(),3==e.floor8FormValidate.credentialType?i("FormItem",{attrs:{prop:"credentialName",rules:{required:!0,message:"姓名不能为空",trigger:"blur"}}},[i("p",{staticStyle:{clear:"both"}},[e._v("姓名")]),0==e.floor8FormValidate.qualificationAuditProcessStatus||1==e.floor8FormValidate.qualificationAuditProcessStatus||2==e.floor8FormValidate.qualificationAuditProcessStatus?i("i-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{disabled:"",placeholder:"请输入姓名..."},model:{value:e.floor8FormValidate.credentialName,callback:function(t){e.$set(e.floor8FormValidate,"credentialName",t)},expression:"floor8FormValidate.credentialName"}}):i("i-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{placeholder:"请输入姓名..."},model:{value:e.floor8FormValidate.credentialName,callback:function(t){e.$set(e.floor8FormValidate,"credentialName",t)},expression:"floor8FormValidate.credentialName"}})],1):e._e(),3==e.floor8FormValidate.credentialType?i("FormItem",[i("p",[e._v("护照号")]),0==e.floor8FormValidate.qualificationAuditProcessStatus||1==e.floor8FormValidate.qualificationAuditProcessStatus||2==e.floor8FormValidate.qualificationAuditProcessStatus?i("i-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{disabled:"",placeholder:"请输入护照号..."},model:{value:e.floor8FormValidate.credentialNumber,callback:function(t){e.$set(e.floor8FormValidate,"credentialNumber",t)},expression:"floor8FormValidate.credentialNumber"}}):i("i-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{placeholder:"请输入护照号..."},on:{"on-blur":e.IDVerification},model:{value:e.floor8FormValidate.credentialNumber,callback:function(t){e.$set(e.floor8FormValidate,"credentialNumber",t)},expression:"floor8FormValidate.credentialNumber"}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.huZhaoFlag,expression:"huZhaoFlag"}],staticStyle:{"font-size":"12px",color:"red"}},[e._v("请输入合理的护照号")]),i("p",[e._v("\n          证件上传\n          "),i("span",[e._v("请上传2MB以内的JPG、JPEG、GIF、PNG格式的图片文件且证件信息清楚无水印")])]),i("div",{staticClass:"upload-passport",on:{click:e.passportUpdataImg}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.floor8FormValidate.documentIds.length>0&&e.floor8FormValidate.documentIds[0]>0,expression:"floor8FormValidate.documentIds.length>0&&floor8FormValidate.documentIds[0]>0"}],attrs:{src:e.identityTruth+e.floor8FormValidate.documentIds[0],alt:""}}),i("Upload",{directives:[{name:"show",rawName:"v-show",value:e.showPassport,expression:"showPassport"}],staticStyle:{display:"block",width:"100%",height:"170px"},attrs:{"show-upload-list":!1,accept:"image/jpg, image/jpeg, image/png, image/gif",format:["gif","jpg","jpeg","png"],type:"drag",name:"fileUpload","before-upload":e.handleBeforeUpload,"on-success":e.passportreturnImgUrl,action:e.urlPost}},[i("div",{staticClass:"m-img-content passportImg"},[i("div",{staticClass:"img-mask"},[i("i",{staticClass:"icon-add-white"}),i("p",{staticClass:"text"},[e._v("上传护照")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.cardUpload,expression:"cardUpload"}],staticClass:"upload-cancel",on:{click:e.cardUpload2}},[i("i",{staticClass:"icon-img-close"})])],1)],1):e._e(),1==e.floor8FormValidate.credentialType?i("FormItem",{attrs:{prop:"credentialName",rules:e.licenseRules}},[i("p",{staticStyle:{clear:"both"}},[e._v("公司名称")]),0==e.floor8FormValidate.qualificationAuditProcessStatus||1==e.floor8FormValidate.qualificationAuditProcessStatus||2==e.floor8FormValidate.qualificationAuditProcessStatus?i("i-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{disabled:"",placeholder:"请输入营业执照所属公司名称..."},model:{value:e.floor8FormValidate.credentialName,callback:function(t){e.$set(e.floor8FormValidate,"credentialName",t)},expression:"floor8FormValidate.credentialName"}}):i("i-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{placeholder:"请输入营业执照所属公司名称...",maxlength:50},model:{value:e.floor8FormValidate.credentialName,callback:function(t){e.$set(e.floor8FormValidate,"credentialName",t)},expression:"floor8FormValidate.credentialName"}})],1):e._e(),1==e.floor8FormValidate.credentialType?i("FormItem",[i("p",[e._v("企业注册号")]),0==e.floor8FormValidate.qualificationAuditProcessStatus||1==e.floor8FormValidate.qualificationAuditProcessStatus||2==e.floor8FormValidate.qualificationAuditProcessStatus?i("i-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{disabled:"",placeholder:"请输入企业注册号..."},model:{value:e.floor8FormValidate.credentialNumber,callback:function(t){e.$set(e.floor8FormValidate,"credentialNumber",t)},expression:"floor8FormValidate.credentialNumber"}}):i("i-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{placeholder:"请输入企业注册号..."},on:{"on-blur":e.IDVerification},model:{value:e.floor8FormValidate.credentialNumber,callback:function(t){e.$set(e.floor8FormValidate,"credentialNumber",t)},expression:"floor8FormValidate.credentialNumber"}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.yingYeFlag,expression:"yingYeFlag"}],staticStyle:{"font-size":"12px",color:"red"}},[e._v("请输入合理的营业执照号")]),i("p",[e._v("\n          证件上传\n          "),i("span",[e._v("请上传2MB以内的JPG、JPEG、GIF、PNG格式的图片文件且证件信息清楚无水印")])]),i("div",{staticClass:"upload-passport",on:{click:e.licenseUpdataImg}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.floor8FormValidate.documentIds.length>0&&e.floor8FormValidate.documentIds[0]>0,expression:"floor8FormValidate.documentIds.length>0&&floor8FormValidate.documentIds[0]>0"}],attrs:{src:e.identityTruth+e.floor8FormValidate.documentIds[0],alt:""}}),i("Upload",{directives:[{name:"show",rawName:"v-show",value:e.showLicense,expression:"showLicense"}],staticStyle:{display:"block",width:"100%",height:"170px"},attrs:{"show-upload-list":!1,accept:"image/jpg, image/jpeg, image/png, image/gif",format:["gif","jpg","jpeg","png"],type:"drag",name:"fileUpload","before-upload":e.handleBeforeUpload,"on-success":e.licensereturnImgUrl,action:e.urlPost}},[i("div",{staticClass:"m-img-content licenseImg"},[i("div",{staticClass:"img-mask"},[i("i",{staticClass:"icon-add-white"}),i("p",{staticClass:"text"},[e._v("上传营业执照")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.companyId,expression:"companyId === true"}],staticClass:"upload-cancel",on:{click:e.clickCompanyId}},[i("i",{staticClass:"icon-img-close"})])],1)],1):e._e(),i("FormItem",[i("div",{staticClass:"nextStep"},[i("Button",{staticClass:"nextStep-btn",attrs:{type:"primary"},on:{click:e.updateQualificationBtn}},[e._v(e._s(2===e.floor8FormValidate.saveButtonStatus?"保存":"下一步"))])],1)])],1)],1)])},Ci=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title-con"},[i("h1",[e._v("身份验真")]),i("h2",[e._v("请注明您的房屋入住相关说明，以保证能收到合适的订单。")])])}],wi=i("75fc"),Ii=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload"},[i("a",{staticClass:"btn",on:{click:e.toggleShow}},[e._t("default",[e._v("设置头像")])],2),i("my-upload",{ref:"uploadRef",attrs:{field:e.field,maxSize:e.maxSize,width:e.width,height:e.height,url:e.uploadUrl,headers:e.headers,noRotate:e.isRotate,noSquare:e.isNoSquare,noCircle:e.isNoCircle,cropStyle:e.cropStyle,"img-format":"jpg"},on:{"crop-success":e.cropSuccess,"crop-upload-success":e.cropUploadSuccess,"crop-upload-fail":e.cropUploadFail},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[e.isTrident?i("input",{ref:"fileinput",attrs:{slot:"inputFile",type:"file"},on:{input:e.handleChange},slot:"inputFile"}):i("input",{ref:"fileinput",attrs:{slot:"inputFile",type:"file"},on:{change:e.handleChange},slot:"inputFile"})])],1)},Fi=[],bi=(i("db4d"),i("d892")),Si=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._t("inputFile"),i("div",{directives:[{name:"show",rawName:"v-show",value:e.value&&e.isChoiceFile,expression:"value && isChoiceFile"}],staticClass:"vue-image-crop-upload"},[i("div",{staticClass:"vicp-wrap"},[i("div",{staticClass:"vicp-close",on:{click:e.off}},[i("i",{staticClass:"vicp-icon4"})]),2==e.step?i("div",{staticClass:"vicp-step2"},[i("div",{staticClass:"vicp-crop",style:e.cropStyle},[i("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-left"},[i("div",{staticClass:"vicp-img-container"},[i("img",{ref:"img",staticClass:"vicp-img",style:e.sourceImgStyle,attrs:{src:e.sourceImgUrl,draggable:"false"},on:{drag:e.preventDefault,dragstart:e.preventDefault,dragend:e.preventDefault,dragleave:e.preventDefault,dragover:e.preventDefault,dragenter:e.preventDefault,drop:e.preventDefault,touchstart:e.imgStartMove,touchmove:e.imgMove,touchend:e.createImg,touchcancel:e.createImg,mousedown:e.imgStartMove,mousemove:e.imgMove,mouseup:e.createImg,mouseout:e.createImg}}),i("div",{staticClass:"vicp-img-shade vicp-img-shade-1",style:e.sourceImgShadeStyle}),i("div",{staticClass:"vicp-img-shade vicp-img-shade-2",style:e.sourceImgShadeStyle})]),i("div",{staticClass:"vicp-range"},[i("input",{attrs:{type:"range",step:"1",min:"0",max:"100"},domProps:{value:e.scale.range},on:{input:e.zoomChange}}),i("i",{staticClass:"vicp-icon5",on:{mousedown:e.startZoomSub,mouseout:e.endZoomSub,mouseup:e.endZoomSub}}),i("i",{staticClass:"vicp-icon6",on:{mousedown:e.startZoomAdd,mouseout:e.endZoomAdd,mouseup:e.endZoomAdd}})]),e.noRotate?e._e():i("div",{staticClass:"vicp-rotate"},[i("i",{on:{mousedown:e.startRotateLeft,mouseout:e.endRotate,mouseup:e.endRotate}},[e._v("↺")]),i("i",{on:{mousedown:e.startRotateRight,mouseout:e.endRotate,mouseup:e.endRotate}},[e._v("↻")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-right"},[i("div",{staticClass:"vicp-preview"},[e.noSquare?e._e():i("div",{staticClass:"vicp-preview-item"},[i("img",{style:e.previewStyle,attrs:{src:e.createImgUrl}}),i("span",[e._v(e._s(e.lang.preview))])]),e.noCircle?e._e():i("div",{staticClass:"vicp-preview-item vicp-preview-item-circle"},[i("img",{style:e.previewStyle,attrs:{src:e.createImgUrl}}),i("span",[e._v(e._s(e.lang.preview))])])])])]),i("div",{staticClass:"vicp-operate"},[i("a",{staticClass:"vicp-operate-btn",on:{click:e.prepareUpload,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.save))])])]):e._e(),3==e.step?i("div",{staticClass:"vicp-step3"},[i("div",{staticClass:"vicp-upload"},[i("span",{directives:[{name:"show",rawName:"v-show",value:1===e.loading,expression:"loading === 1"}],staticClass:"vicp-loading"},[e._v(e._s(e.lang.loading))]),i("div",{staticClass:"vicp-progress-wrap"},[i("span",{directives:[{name:"show",rawName:"v-show",value:1===e.loading,expression:"loading === 1"}],staticClass:"vicp-progress",style:e.progressStyle})]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasError,expression:"hasError"}],staticClass:"vicp-error"},[i("i",{staticClass:"vicp-icon2"}),e._v(" "+e._s(e.errorMsg)+"\r\n\t\t\t\t")]),i("div",{directives:[{name:"show",rawName:"v-show",value:2===e.loading,expression:"loading === 2"}],staticClass:"vicp-success"},[i("i",{staticClass:"vicp-icon3"}),e._v(" "+e._s(e.lang.success)+"\r\n\t\t\t\t")])]),i("div",{staticClass:"vicp-operate"},[i("a",{on:{click:function(t){return e.setStep(2)},mousedown:e.ripple}},[e._v(e._s(e.lang.btn.back))]),i("a",{on:{click:e.off,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.close))])])]):e._e(),i("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"canvas",attrs:{width:e.width,height:e.height}})])])],2)},_i=[],xi=i("7618"),Vi=i("8fe5"),Ti=i("ce68"),Pi=i("6363"),ki={props:{field:{type:String,default:"avatar"},ki:{default:0},value:{default:!0},url:{type:String,default:""},params:{type:Object,default:null},headers:{type:Object,default:null},width:{type:Number,default:200},height:{type:Number,default:200},cropStyle:{type:Object,default:{display:"block"}},noRotate:{type:Boolean,default:!0},noCircle:{type:Boolean,default:!1},noSquare:{type:Boolean,default:!1},maxSize:{type:Number,default:10240},langType:{type:String,default:"zh"},langExt:{type:Object,default:null},imgFormat:{type:String,default:"png"},options:{type:Object}},data:function(){var e=this,t=e.imgFormat,i=e.langType,o=e.langExt,a=e.width,s=e.height,r=!0,n=["jpg","png"],l=-1===n.indexOf(t)?"jpg":t,c=bi["a"][i]?bi["a"][i]:bi["a"]["en"],u=Vi["a"][l];return e.imgFormat=l,o&&Object.assign(c,o),"function"!=typeof FormData&&(r=!1),{isChoiceFile:!1,mime:u,lang:c,isSupported:r,isSupportTouch:document.hasOwnProperty("ontouchstart"),step:1,loading:0,progress:0,hasError:!1,errorMsg:"",ratio:a/s,sourceImg:null,sourceImgUrl:"",createImgUrl:"",sourceImgMouseDown:{on:!1,mX:0,mY:0,x:0,y:0},previewContainer:{width:100,height:100},sourceImgContainer:{width:240,height:184},scale:{zoomAddOn:!1,zoomSubOn:!1,range:1,rotateLeft:!1,rotateRight:!1,degree:0,x:0,y:0,width:0,height:0,maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,naturalWidth:0,naturalHeight:0}}},computed:{progressStyle:function(){var e=this.progress;return{width:e+"%"}},sourceImgStyle:function(){var e=this.scale,t=this.sourceImgMasking,i=e.y+t.y+"px",o=e.x+t.x+"px";return{top:i,left:o,width:e.width+"px",height:e.height+"px",transform:"rotate("+e.degree+"deg)","-ms-transform":"rotate("+e.degree+"deg)","-moz-transform":"rotate("+e.degree+"deg)","-webkit-transform":"rotate("+e.degree+"deg)","-o-transform":"rotate("+e.degree+"deg)"}},sourceImgMasking:function(){var e=this.width,t=this.height,i=this.ratio,o=this.sourceImgContainer,a=o,s=a.width/a.height,r=0,n=0,l=a.width,c=a.height,u=1;return i<s&&(u=a.height/t,l=a.height*i,r=(a.width-l)/2),i>s&&(u=a.width/e,c=a.width/i,n=(a.height-c)/2),{scale:u,x:r,y:n,width:l,height:c}},sourceImgShadeStyle:function(){var e=this.sourceImgMasking,t=this.sourceImgContainer,i=t,o=e,a=o.width==i.width?o.width:(i.width-o.width)/2,s=o.height==i.height?o.height:(i.height-o.height)/2;return{width:a+"px",height:s+"px"}},previewStyle:function(){this.width,this.height;var e=this.ratio,t=this.previewContainer,i=t,o=i.width,a=i.height,s=o/a;return e<s&&(o=i.height*e),e>s&&(a=i.width/e),{width:o+"px",height:a+"px"}}},watch:{value:function(e){e&&this.reset()}},methods:{ripple:function(e){Object(Pi["a"])(e)},off:function(){var e=this;setTimeout(function(){e.$emit("input",!1),3==e.step&&2==e.loading&&e.setStep(1)},200),this.$parent.clearFile()},setStep:function(e){var t=this;setTimeout(function(){t.step=e},200)},preventDefault:function(e){return e.preventDefault(),!1},handleClick:function(e){1!==this.loading&&e.target!==this.$refs.fileinput&&(e.preventDefault(),document.activeElement!==this.$refs&&this.$refs.fileinput.click())},checkFile:function(e){console.log(e);var t=this,i=t.lang,o=t.maxSize;return e&&-1===e.type.indexOf("image")?(t.hasError=!0,t.errorMsg=i.error.onlyImg,!1):!(e&&e.size/1024>o)||(t.hasError=!0,t.errorMsg=i.error.outOfSize+o/1024+"MB",!1)},reset:function(){var e=this;e.loading=0,e.hasError=!1,e.errorMsg="",e.progress=0},setSourceImg:function(e){var t=this,i=new FileReader;i.onload=function(e){t.sourceImgUrl=i.result,t.startCrop()},i.readAsDataURL(e)},startCrop:function(){var e=this,t=e.width,i=e.height,o=e.ratio,a=e.scale,s=e.sourceImgUrl,r=e.sourceImgMasking,n=e.lang,l=r,c=new Image;c.src=s,c.onload=function(){var s=c.naturalWidth,r=c.naturalHeight,u=s/r,d=l.width,h=l.height,m=0,p=0;if(s<t||r<i)return e.hasError=!0,e.errorMsg=n.error.lowestPx+t+"*"+i,e.$emit("input",!1),e.$Message.error(e.errorMsg),!1;o>u&&(h=d/u,p=(l.height-h)/2),o<u&&(d=h*u,m=(l.width-d)/2),a.range=0,a.x=m,a.y=p,a.width=d,a.height=h,a.degree=0,a.minWidth=d,a.minHeight=h,a.maxWidth=s*l.scale,a.maxHeight=r*l.scale,a.naturalWidth=s,a.naturalHeight=r,e.sourceImg=c,e.createImg(),e.setStep(2)}},imgStartMove:function(e){if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;var t=e.targetTouches?e.targetTouches[0]:e,i=this.sourceImgMouseDown,o=this.scale,a=i;a.mX=t.screenX,a.mY=t.screenY,a.x=o.x,a.y=o.y,a.on=!0},imgMove:function(e){if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;var t=e.targetTouches?e.targetTouches[0]:e,i=this.sourceImgMouseDown,o=i.on,a=i.mX,s=i.mY,r=i.x,n=i.y,l=this.scale,c=this.sourceImgMasking,u=c,d=t.screenX,h=t.screenY,m=d-a,p=h-s,f=r+m,g=n+p;o&&(f>0&&(f=0),g>0&&(g=0),f<u.width-l.width&&(f=u.width-l.width),g<u.height-l.height&&(g=u.height-l.height),l.x=f,l.y=g)},startRotateRight:function(e){var t=this,i=t.scale;function o(){if(i.rotateRight){var e=++i.degree;t.createImg(e),setTimeout(function(){o()},60)}}i.rotateRight=!0,o()},startRotateLeft:function(e){var t=this,i=t.scale;function o(){if(i.rotateLeft){var e=--i.degree;t.createImg(e),setTimeout(function(){o()},60)}}i.rotateLeft=!0,o()},endRotate:function(){var e=this.scale;e.rotateLeft=!1,e.rotateRight=!1},startZoomAdd:function(e){var t=this,i=t.scale;function o(){if(i.zoomAddOn){var e=i.range>=100?100:++i.range;t.zoomImg(e),setTimeout(function(){o()},60)}}i.zoomAddOn=!0,o()},endZoomAdd:function(e){this.scale.zoomAddOn=!1},startZoomSub:function(e){var t=this,i=t.scale;function o(){if(i.zoomSubOn){var e=i.range<=0?0:--i.range;t.zoomImg(e),setTimeout(function(){o()},60)}}i.zoomSubOn=!0,o()},endZoomSub:function(e){var t=this.scale;t.zoomSubOn=!1},zoomChange:function(e){this.zoomImg(e.target.value)},zoomImg:function(e){var t=this,i=this.sourceImgMasking,o=(this.sourceImgMouseDown,this.scale),a=o.maxWidth,s=o.maxHeight,r=o.minWidth,n=o.minHeight,l=o.width,c=o.height,u=o.x,d=o.y,h=(o.range,i),m=h.width,p=h.height,f=r+(a-r)*e/100,g=n+(s-n)*e/100,v=m/2-f/l*(m/2-u),y=p/2-g/c*(p/2-d);v>0&&(v=0),y>0&&(y=0),v<m-f&&(v=m-f),y<p-g&&(y=p-g),o.x=v,o.y=y,o.width=f,o.height=g,o.range=e,setTimeout(function(){o.range==e&&t.createImg()},300)},createImg:function(e){var t=this,i=t.mime,o=t.sourceImg,a=t.scale,s=a.x,r=a.y,n=a.width,l=a.height,c=a.degree,u=t.sourceImgMasking.scale,d=t.$refs.canvas,h=d.getContext("2d");e&&(t.sourceImgMouseDown.on=!1),d.width=t.width,d.height=t.height,h.clearRect(0,0,t.width,t.height),h.fillStyle="#fff",h.fillRect(0,0,t.width,t.height),h.translate(.5*t.width,.5*t.height),h.rotate(Math.PI*c/180),h.translate(.5*-t.width,.5*-t.height),h.drawImage(o,s/u,r/u,n/u,l/u),t.createImgUrl=d.toDataURL(i)},prepareUpload:function(){var e=this.url,t=this.createImgUrl,i=this.field,o=this.ki;this.$emit("crop-success",t,i,o),"string"==typeof e&&e?this.upload():this.off()},upload:function(){var e=this,t=(this.lang,this.imgFormat),i=this.mime,o=this.url,a=this.params,s=this.headers,r=this.field,n=this.ki,l=this.createImgUrl,c=new FormData;r.indexOf(",")>-1?r.split(",").forEach(function(e){c.append(e,Object(Ti["a"])(l,i),e+"."+t)}):c.append(r,Object(Ti["a"])(l,i),r+"."+t),"object"==Object(xi["a"])(a)&&a&&Object.keys(a).forEach(function(e){c.append(e,a[e])});var u=function(t){t.lengthComputable&&(e.progress=100*Math.round(t.loaded)/t.total)};e.reset(),e.loading=1,e.off(),new Promise(function(e,t){var i=new XMLHttpRequest;i.open("POST",o,!0),i.onreadystatechange=function(){4===this.readyState&&(200===this.status||201===this.status?e(JSON.parse(this.responseText)):t(this.status))},i.upload.addEventListener("progress",u,!1),"object"==Object(xi["a"])(s)&&s&&Object.keys(s).forEach(function(e){i.setRequestHeader(e,s[e])}),i.send(c)}).then(function(t){e.loading=2,e.$emit("crop-upload-success",t,r,n),e.$Message.success("上传成功")})["catch"](function(t){e.$Message.success(t||"上传失败,请重新上传")})}},created:function(){var e=this;document.addEventListener("keyup",function(t){!e.value||"Escape"!=t.key&&27!=t.keyCode||e.off()})}},Di=ki,Oi=(i("43d4"),Object(x["a"])(Di,Si,_i,!1,null,null,null)),Ai=Oi.exports,Ri={versions:function(){var e=navigator.userAgent;navigator.appVersion;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),iosVersion:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(e)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1,android:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,qq:" qq"==e.match(/\sQQ/i),uc:e.indexOf("UCBrowser")>-1,isTuJia:e.toLocaleLowerCase().indexOf("tujia")>-1,isMaYi:e.indexOf("mayi")>-1,isZFBMiniProgram:/aliapp/.test(e.toLowerCase())&&/miniprogram/.test(e.toLowerCase())||/alipayide/.test(e.toLowerCase())}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},Ni=Ri,Ei={data:function(){return{show:!1,params:{},headers:{},lang:bi["a"][this.langType]?bi["a"][this.langType]:bi["a"]["en"],isTrident:!1}},props:{field:{type:String,default:"avatar"},width:{type:Number,default:200},height:{type:Number,default:200},isRotate:{type:Boolean,default:!0},isNoCircle:{type:Boolean,default:!1},isNoSquare:{type:Boolean,default:!1},maxSize:{type:Number,default:10240},cropStyle:{type:Object,default:{}},langType:{type:String,default:"zh"},uploadUrl:{type:String,default:""}},created:function(){this.isTrident=Ni.versions.trident},methods:{handleChange:function(e){if(e.preventDefault(),1!==this.$refs.uploadRef.loading){var t=e.target.files||e.dataTransfer.files;this.$refs.uploadRef.checkFile(t[0]);this.$refs.uploadRef.checkFile(t[0])&&(this.$refs.uploadRef.setSourceImg(t[0]),this.$refs.uploadRef.isChoiceFile=!0)}},clearFile:function(){this.$refs.fileinput&&(this.$refs.fileinput.value="")},toggleShow:function(){this.show=!this.show,this.$refs.fileinput.click(),this.$refs.uploadRef.$data.isChoiceFile=!1},cropSuccess:function(e,t){console.log("-------- crop success --------"),this.imgDataUrl=e},cropUploadSuccess:function(e,t){console.log("-------- upload success --------"),e.id?this.$emit("imgUrl",e.id):e.sourceUrl&&this.$emit("imgUrl",e.sourceUrl)},cropUploadFail:function(e,t){console.log("-------- upload fail --------"),console.log(e),console.log("field: "+t)}},components:{"my-upload":Ai}},Ui=Ei,Li=Object(x["a"])(Ui,Ii,Fi,!1,null,"1fdb3f1b",null),Mi=Li.exports;function Hi(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function ji(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Hi(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Hi(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var qi=0,$i=1,Bi=2,zi=3,Ji=4,Gi=2,Wi=0,Qi=2,Yi=3,Xi=2097152,Zi={props:["isActive","houseUnitId"],data:function(){return{headUploadURL:"",firstHouse:!1,cardFlag:!1,huZhaoFlag:!1,yingYeFlag:!1,showIDMan:!0,showIDJust:!0,showIDBack:!0,showLicense:!0,showPassport:!0,cropStyle:{display:"flex","justify-content":"center"},floor8FormValidate:{houseGuid:"6aad5113-7273-4588-8844-9439eb383500",logoSourceUrl:"",documentIds:[],credentialType:6,tavernName:"",mobile:"",email:"",creditSuccess:!1,credentialName:"",credentialNumber:"",qualificationAutoAudit:0,qualificationAutoAuditChannel:0,staticUrl:"",status:0,sesameInfo:{}},sesame:!0,uploadFlag:!0,manCard:!1,positiveCard:!1,negativeCard:!1,cardUpload:!1,companyId:!1,showTel:!1,idCard:"",field:"__source,__avatar1,__avatar2",fieldPost:"fileUpload",floor8FormValidateRules:{tavernName:[{validator:this.validateTaverName,trigger:"blur"}],mobile:[{validator:this.validateMobile,trigger:"blur"}],email:[{validator:this.validateEmail,trigger:"blur"}]},licenseRules:[{required:!0,message:"公司名称不能为空",trigger:"blur"},{min:1,max:50,message:"公司名称长度不能为超过50",trigger:"blur"}],emailShow:!1,showAlertHead:!1,showAlertIDJust:!1,successMessage:"身份证号验证正确",showAlertIDBack:!1,IDBackdataUrl:"",showAlertpassport:!1,passportImgDataUrl:"",showAlertLicense:!1,licenseImgDataUrl:"",isShowSensitiveCheckTips:!1,sensitiveCheckTips:"",isPersonalRejected:!1}},computed:ji({},Object(n["e"])({host:"host"}),{isShowThirdIDCardUploadCpd:function(){return!(this._isQualificationInChecked()&&2===this.floor8FormValidate.documentIds.length)},uploadUrl:function(){return"".concat(this.host.UPLOAD_TUJIA_HOST,"/StoreLogoUpload.ashx?__rndcode=1511959995794")},urlPost:function(){return"".concat(this.host.MERCHANTCRM_TUJIA_HOST,"/merchant-web/file/upload")},identityTruth:function(){return"".concat(this.host.MERCHANTCRM_TUJIA_HOST,"/merchant-web/file/get?id=")},isChoosePersonalDisabledCpd:function(){var e=void 0!==this.floor8FormValidate.saveButtonStatus&&this.floor8FormValidate.saveButtonStatus===Qi;return this.firstHouse&&!e?this.floor8FormValidate.qualificationAuditProcessStatus===qi||this.floor8FormValidate.qualificationAuditProcessStatus===$i||this.floor8FormValidate.qualificationAuditProcessStatus===Bi:this.floor8FormValidate.merchantQualificationType===Gi&&this.floor8FormValidate.qualificationAuditProcessStatus!==zi},isChooseEnterpriseDisabledCpd:function(){var e=void 0!==this.floor8FormValidate.saveButtonStatus&&this.floor8FormValidate.saveButtonStatus===Qi;return this.firstHouse&&!e?this.floor8FormValidate.qualificationAuditProcessStatus===qi||this.floor8FormValidate.qualificationAuditProcessStatus===$i||this.floor8FormValidate.qualificationAuditProcessStatus===Bi:1===this.floor8FormValidate.credentialType&&this.floor8FormValidate.merchantQualificationType===Wi&&this.floor8FormValidate.qualificationAuditProcessStatus!==zi},isChoosePersonalCpd:function(){return this.floor8FormValidate.qualificationAuditProcessStatus===zi&&this.floor8FormValidate.merchantQualificationType===Gi||this.floor8FormValidate.qualificationAuditProcessStatus===Ji},isChooseEnterpriseCpd:function(){return this.floor8FormValidate.qualificationAuditProcessStatus===zi&&this.floor8FormValidate.merchantQualificationType===Wi||this.floor8FormValidate.qualificationAuditProcessStatus===Ji},isCredentialType:function(){return 6===this.floor8FormValidate.credentialType}}),watch:{isActive:function(e){this.isActive&&this.queryQualification()}},created:function(){this.queryQualification()},methods:{handleStoreNameChange:function(e){this.isShowSensitiveCheckTips=!1},checkCertificate:function(){var e=this.floor8FormValidate.credentialType,t=!1;switch(e){case 1:this.floor8FormValidate.documentIds.length>0&&this.floor8FormValidate.documentIds[0]>0&&(t=!0);break;case 2:(this._isQualificationInChecked()||3===this.floor8FormValidate.documentIds.length&&this.floor8FormValidate.documentIds[0]>0&&this.floor8FormValidate.documentIds[1]>0&&this.floor8FormValidate.documentIds[2]>0)&&(t=!0);break;case 3:this.floor8FormValidate.documentIds.length>0&&this.floor8FormValidate.documentIds[0]>0&&(t=!0);break;default:t=!0}return t},clickTel:function(){this.showTel=!this.showTel},checkZiZhi:function(){var e=this;r["a"].checkCredentialUnique(this.floor8FormValidate.credentialNumber,this.floor8FormValidate.credentialType,function(t,i,o){l["a"].close(),t||e.$Notice.error({desc:o.errorMsg})})},validateTaverName:function(e,t,i){var o=t.trim(),a=!1,s=Object(wi["a"])(t),r=new Set(s),n=Array.from(r).join(""),l=/.*[\u4e00-\u9fa5]+.*$/.test(n),c=/[a-z]/i.test(n);(o.length<2||o.length>20||1===n.length||!l&&!c)&&(a=!0),a?i(new Error("名称字数在2-20个字符间，且必须包含英文字母或汉字，不可重复")):i()},validateMobile:function(e,t,i){var o=/^\s*\+?\s*(\(\s*\d+\s*\)|\d+)(\s*-?\s*(\(\s*\d+\s*\)|\s*\d+\s*))*\s*$/,a=o.test(t);t&&t.length&&t.length<1?i(new Error("电话不可为空")):a?i():i(new Error("电话格式不正确"))},validateEmail:function(e,t,i){var o=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,a=o.test(t);!a||t.length<1?i(new Error("请输入合理邮箱")):i()},activeChange:function(){this.$emit("nextStepChuange",8)},getHouseUnitId:function(e){this.$emit("upDateHouseUnitId",e)},updateQualificationBtn:function(){var e=this;this.$refs["floor8FormValidate"].validate(function(t){var i=e.checkCertificate();t&&i?(l["a"].open(),r["a"].updateQualification(e.floor8FormValidate,function(t,i,o){l["a"].close(),t?e.floor8FormValidate.saveButtonStatus!==Qi?e._openHouseQualificationSetting():(e.$Notice.success({title:"信息已提交审核中"}),e.queryQualification(),e.$emit("menuReload")):o.errorNo===Yi?(e.$Notice.error({desc:"您输入的门店名称包含敏感词，无法保存"}),e.isShowSensitiveCheckTips=!0,e.sensitiveCheckTips=o.errorMsg):e.$Notice.error({desc:o.errorMsg})})):i?e.$Notice.warning({title:"请按规则输入必填内容"}):e.$Notice.error({desc:"资质证件照片不足"})})},_openHouseQualificationSetting:function(){this.$emit("nextStepChuange",8)},canclePositiveCard:function(e){switch(this.floor8FormValidate.documentIds[e]="",e){case 0:this.manCard=!1;break;case 1:this.positiveCard=!1;break;case 2:this.negativeCard=!1;break;default:break}},handleBeforeUpload:function(e){var t=this;return new Promise(function(i,o){e.size>Xi?(t.$Notice.error({desc:"上传的内容有误，照片需要小于2MB"}),o(new Error("上传的内容有误，照片需要小于2MB"))):i()})},cardUpload2:function(){this.floor8FormValidate.documentIds=[],this.cardUpload=!1},clickCompanyId:function(){this.floor8FormValidate.documentIds=[],this.companyId=!1},headreturnImgUrl:function(e){this.floor8FormValidate.logoSourceUrl=e,this.headUploadURL=this.host.PIC_TUJIA_HOST+this.floor8FormValidate.logoSourceUrl,this.uploadFlag=!1},IDCardManUpdataImg:function(){this.floor8FormValidate.documentIds[0]&&this.floor8FormValidate.documentIds[0]>0?this.showIDMan=!1:this.showIDMan=!0},IDManreturnImgUrl:function(e){this.floor8FormValidate.documentIds[0]=e.id,this.manCard=!0,console.log("手持身份证正面",this.floor8FormValidate.documentIds[0])},IDCardJustUpdataImg:function(){this.floor8FormValidate.documentIds[1]&&this.floor8FormValidate.documentIds[1]>0?this.showIDJust=!1:(this.showIDJust=!0,this.showAlertIDJust=!this.showAlertIDJust)},IDJustreturnImgUrl:function(e){this.floor8FormValidate.documentIds[1]=e.id,this.positiveCard=!0,console.log("身份证正面",this.floor8FormValidate.documentIds[1])},IDJustreturnImgUrlPost:function(e){this.floor8FormValidate.documentIds[1]=e,console.log("身份证正面",this.floor8FormValidate.documentIds[1])},IDCardBackUpdataImg:function(){this.floor8FormValidate.documentIds[2]&&this.floor8FormValidate.documentIds[2]>0?this.showIDBack=!1:(this.showIDBack=!0,this.showAlertIDBack=!this.showAlertIDBack)},IDBackreturnImgUrl:function(e){this.floor8FormValidate.documentIds[2]=e.id,this.negativeCard=!0,console.log("身份证反面",this.floor8FormValidate.documentIds[2])},passportUpdataImg:function(){this.floor8FormValidate.documentIds[0]>0?this.showPassport=!1:(this.showPassport=!0,this.showAlertpassport=!this.showAlertpassport)},passportreturnImgUrl:function(e){this.floor8FormValidate.documentIds[0]=e.id,this.cardUpload=!0,console.log("护照",this.floor8FormValidate.documentIds[0])},licenseUpdataImg:function(){this.floor8FormValidate.documentIds[0]&&this.floor8FormValidate.documentIds[0]>0?this.showLicense=!1:(this.showLicense=!0,this.showAlertLicense=!this.showAlertLicense)},licensereturnImgUrl:function(e,t){this.floor8FormValidate.documentIds[0]=e.id,this.companyId=!0,console.log("营业执照",this.floor8FormValidate.documentIds[0])},queryQualification:function(){var e=this;l["a"].open(),r["a"].queryQualification(this.houseUnitId,function(t,i,o){l["a"].close(),t?(2===i.saveButtonStatus?e.isShowDistanceStep=0:e.isShowDistanceStep=1,1===i.isOversea&&(e.emailShow=!0),e.floor8FormValidate.idCard="",3===i.qualificationAuditProcessStatus&&(e.showLicense=!0,e.companyId=!0,e.cardUpload=!0,e.showPassport=!0,e.showIDMan=!0,e.showIDJust=!0,e.manCard=!0,e.positiveCard=!0,e.showIDBack=!0,e.negativeCard=!0),i.logoSourceUrl=i.logoSourceUrl||"",e.floor8FormValidate=i,i.logoSourceUrl&&(e.headUploadURL=e.host.PIC_TUJIA_HOST+e.floor8FormValidate.logoSourceUrl),i.firstHouse&&(e.firstHouse=i.firstHouse)):e.$Notice.error({desc:o.errorMsg})})},IDVerification:function(e){1===this.floor8FormValidate.credentialType&&(/^\d{15}$/.test(this.floor8FormValidate.credentialNumber)||/^(?:(?![IOZSV])[\dA-Z]){2}\d{6}(?:(?![IOZSV])[\dA-Z]){10}$/.test(this.floor8FormValidate.credentialNumber)?(this.yingYeFlag=!1,this.checkZiZhi()):this.yingYeFlag=!0),2===this.floor8FormValidate.credentialType&&(/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(this.floor8FormValidate.credentialNumber)?(this.cardFlag=!1,this.checkZiZhi()):this.cardFlag=!0),3===this.floor8FormValidate.credentialType&&(/^[A-Za-z0-9]+$/.test(this.floor8FormValidate.credentialNumber)?(this.huZhaoFlag=!1,this.checkZiZhi()):this.huZhaoFlag=!0)},changeProveToogle:function(e){this.floor8FormValidate.credentialType=e,this.floor8FormValidate.credentialNumber="",this.floor8FormValidate.credentialName="",this.clickCompanyId(),this.cardUpload2(),this.canclePositiveCard(0),this.canclePositiveCard(1),this.canclePositiveCard(2)},IDVerifications:function(){var e=this;l["a"].open(),r["a"].checkCredentialUnique(this.floor8FormValidate.sesameInfo.idCardNo,this.floor8FormValidate.credentialType,function(t,i,o){l["a"].close(),t?(e.$Notice.success({desc:"身份证号验证正确"}),e.sesame=!1):e.$Notice.error({desc:o.errorMsg})})},_isQualificationInChecked:function(){return this.floor8FormValidate.qualificationAuditProcessStatus===qi||this.floor8FormValidate.qualificationAuditProcessStatus===$i||this.floor8FormValidate.qualificationAuditProcessStatus===Bi}},components:{updataImg1:Mi,rejectTips:T}},Ki=Zi,eo=(i("9892"),Object(x["a"])(Ki,yi,Ci,!1,null,"424ee259",null)),to=eo.exports,io=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"g-house-qualification-layout"},[i("header",{staticClass:"house-qualification-header"},[i("h1",{staticClass:"title"},[e._v("房屋资质")]),e.isInCheckedCpd?i("p",{staticClass:"tips"},[e._v("审核中")]):e._e()]),i("main",{staticClass:"house-qualification-body"},[e.isMerchantUseBusinessLicenseCpd?i("div",{staticClass:"no-form"},[i("h1",{staticClass:"no-form-tips"},[e._v("已获取营业执照无需进行房屋资质校验")]),e.houseQualification.documentIds?i("ul",{staticClass:"no-form-image-list"},e._l(e.houseQualification.documentIds,function(t,o){return i("li",{key:o,staticClass:"no-form-image-list-item"},[i("img",{staticClass:"no-form-image",attrs:{src:e.host.MERCHANTCRM_TUJIA_HOST+"/merchant-web/file/get?id="+t,alt:""}})])}),0):e._e()]):i("div",{staticClass:"form"},[i("div",{staticClass:"house-desc-wrapper"},[i("img",{ref:"houseImage",staticClass:"house-image",attrs:{src:""+e.host.PIC_TUJIA_HOST+e.houseRoomInfo.coverImageUrl,alt:""},on:{error:e.handleHouseImageError}}),i("div",{staticClass:"house-info"},[i("h2",{staticClass:"house-title"},[e._v(e._s(e.houseRoomInfo.houseName))]),i("p",{staticClass:"house-desc"},[e._v(e._s(e.houseRoomInfo.houseDesc))])])]),i("certificate-select",{staticClass:"certificate-select",attrs:{disabled:e.isInCheckedCpd},model:{value:e.houseQualification.qualificationType,callback:function(t){e.$set(e.houseQualification,"qualificationType",t)},expression:"houseQualification.qualificationType"}}),i("certificate-date-picker",{directives:[{name:"show",rawName:"v-show",value:!e.isSelectDeedCpd,expression:"!isSelectDeedCpd"}],ref:"certificateDatePicker",staticClass:"certificate-date-picker",attrs:{title:e.isSelectLeaseContractCpd?"合同有效期至":"保证书有效期至",disabled:e.isInCheckedCpd},model:{value:e.houseQualification.expirationDate,callback:function(t){e.$set(e.houseQualification,"expirationDate",t)},expression:"houseQualification.expirationDate"}}),i("address-input",{ref:"addressInput",staticClass:"address-input",attrs:{title:e.isSelectDeedCpd?"资质地址":"出租房屋地址",cityAddress:e.houseQualification.cityAddress,disabled:e.isInCheckedCpd},model:{value:e.houseQualification.qualificationAddress,callback:function(t){e.$set(e.houseQualification,"qualificationAddress",t)},expression:"houseQualification.qualificationAddress"}}),i("certificate-upload",{ref:"certificateUpload",staticClass:"certificate-upload",attrs:{disabled:e.isInCheckedCpd},model:{value:e.houseQualification.qualificationPictures,callback:function(t){e.$set(e.houseQualification,"qualificationPictures",t)},expression:"houseQualification.qualificationPictures"}}),e.sampleGraphConfigCpd&&!e.isInCheckedCpd?i("sample-graph",{staticClass:"sample-graph",attrs:{config:e.sampleGraphConfigCpd}}):e._e()],1)]),i("footer",{staticClass:"house-qualification-footer"},[i("Checkbox",{staticClass:"accept-checkbox",model:{value:e.isAcceptRule,callback:function(t){e.isAcceptRule=t},expression:"isAcceptRule"}},[e._v("\n      同意并接受\n      "),i("a",{staticClass:"rule",attrs:{href:e.host.PWA_TUJIA_HOST+"/pc/web/protocol/guanjia/createunit",target:"_blank"}},[e._v("《法律声明及服务条款》")])]),i("i-button",{staticClass:"button",attrs:{type:"primary",loading:e.isSubmitBtnLoading},on:{click:function(t){return t.stopPropagation(),e.submit(t)}}},[e._v(e._s(e.houseQualification.draft?"提交发布":"保存"))])],1)])},oo=[],ao=(i("96cf"),i("795b")),so=i.n(ao);function ro(e,t,i,o,a,s,r){try{var n=e[s](r),l=n.value}catch(c){return void i(c)}n.done?t(l):so.a.resolve(l).then(o,a)}function no(e){return function(){var t=this,i=arguments;return new so.a(function(o,a){var s=e.apply(t,i);function r(e){ro(s,o,a,r,n,"next",e)}function n(e){ro(s,o,a,r,n,"throw",e)}r(void 0)})}}var lo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"g-certificate-select-layout"},[i("h1",{staticClass:"title"},[e._v("证件类型")]),i("Select",{staticClass:"select-list",attrs:{size:"large",value:e.value,disabled:e.disabled},on:{"on-change":e.handleChange}},e._l(e.dataList,function(t){return i("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.name))])}),1)],1)},co=[],uo={name:"certificateSelect",props:{value:{type:Number,default:-1},disabled:{type:Boolean,default:!1}},data:function(){return{dataList:[{name:"房产证",value:Ue.HOUSE_QUALIFICATION_TYPE.deed},{name:"租赁合同",value:Ue.HOUSE_QUALIFICATION_TYPE.leaseContract},{name:"租赁房屋治安责任保证书",value:Ue.HOUSE_QUALIFICATION_TYPE.guarantee}]}},methods:{handleChange:function(e){this.$emit("input",e)}}},ho=uo,mo=(i("f20f"),Object(x["a"])(ho,lo,co,!1,null,"53a6ff58",null)),po=mo.exports,fo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"g-certificate-date-picker-layout"},[i("h1",{staticClass:"title"},[e._v(e._s(e.title))]),i("DatePicker",{staticClass:"date-picker",attrs:{size:"large",type:"date",placeholder:"请选择有效日期",value:e.value,disabled:e.disabled,options:e.options},on:{"on-change":e.handleChange}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.errorMsg,expression:"errorMsg"}],staticClass:"error-msg"},[e._v(e._s(e.errorMsg))])],1)},go=[],vo=new li["a"],yo={name:"certificateDatePicker",props:{title:{type:String,default:""},value:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{options:{disabledDate:function(e){return Date.today()>e.getTime()}},errorMsg:""}},methods:{handleChange:function(e){this._clearErrorMsg(),this.$emit("input",e)},validate:function(){return vo.add({value:this.value,ruleName:"isEmpty",errorMsg:"".concat(this.title,"不能为空")}),this.errorMsg=vo.start(),""===this.errorMsg},_clearErrorMsg:function(){this.errorMsg=""}}},Co=yo,wo=(i("b889"),Object(x["a"])(Co,fo,go,!1,null,"a7aee25a",null)),Io=wo.exports,Fo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"g-address-input-layout"},[i("h1",{staticClass:"title"},[e._v(e._s(e.title))]),i("p",{staticClass:"address-city"},[e._v(e._s(e.cityAddress))]),i("i-input",{staticClass:"input",attrs:{value:e.value,size:"large",placeholder:"请输入地址",disabled:e.disabled,maxlength:50},on:{"on-change":e.onInput}}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.errorMsg,expression:"errorMsg"}],staticClass:"error-msg"},[e._v(e._s(e.errorMsg))])],1)},bo=[],So=new li["a"],_o={name:"addressInput",props:{title:{type:String,default:""},cityAddress:{type:String,default:""},value:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{errorMsg:""}},methods:{onInput:function(e){this._clearErrorMsg(),this.$emit("input",e.target.value),this.$emit("on-change",e.target.value)},validate:function(){return So.add({value:this.value,ruleName:"isEmpty",errorMsg:"".concat(this.title,"不能为空")}),this.errorMsg=So.start(),""===this.errorMsg},_clearErrorMsg:function(){this.errorMsg=""}}},xo=_o,Vo=(i("c418"),Object(x["a"])(xo,Fo,bo,!1,null,"7315686c",null)),To=Vo.exports,Po=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"g-certificate-upload-layout"},[i("h1",{staticClass:"title"},[e._v("证件照片")]),i("ul",{staticClass:"upload-image-list"},[e._l(e.value,function(t,o){return i("li",{key:o,staticClass:"upload-image-list-item"},[i("img",{staticClass:"image",attrs:{src:""+(t.isInProgress?"":e.host.PIC_TUJIA_HOST)+(t.thumbUrl_1||t.pictureUrl)}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isInProgress,expression:"item.isInProgress"}],staticClass:"upload-image-mask"},[i("span",{staticClass:"upload-text"},[e._v("上传中...")]),i("Progress",{staticClass:"image-progress",attrs:{status:"success",percent:t.percentage,"stroke-width":8,"hide-info":!0}})],1),t.isShowDelete?i("i",{staticClass:"icon-delete",on:{click:function(t){return t.stopPropagation(),e.deleteImageByIndex(o)}}}):e._e()])}),!e.disabled&&e.value.length<10?i("Upload",{staticClass:"upload-wrapper",attrs:{"show-upload-list":!1,accept:"image/jpg, image/jpeg, image/png",format:["jpg","jpeg","png"],multiple:"","on-success":e.handleUpLoadSuccess,"before-upload":e.handleBeforeUpload,"on-progress":e.handleUploadProgress,"on-error":e.handleErrorUpload,"on-exceeded-size":e.handleMaxSize,"max-size":10240,name:"fileData",data:{account:"housequalificationimage",version:1812,source:1101,objectHl:!0},action:e.host.UPLOAD_TUJIA_HOST+"/storage/merchant/upload.htm"}},[i("div",{staticClass:"upload-button"},[i("i",{staticClass:"icon-add"}),i("p",{staticClass:"text"},[e._v("上传证件照片")])])]):e._e()],2),i("p",{directives:[{name:"show",rawName:"v-show",value:e.errorMsg,expression:"errorMsg"}],staticClass:"error-msg"},[e._v(e._s(e.errorMsg))])])},ko=[];function Do(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function Oo(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Do(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Do(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var Ao=new li["a"],Ro=10485760,No=["image/jpg","image/jpeg","image/png"],Eo={name:"certificateUpload",props:{value:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1}},data:function(){return{errorMsg:""}},computed:Oo({},Object(n["e"])({host:"host"})),methods:{handleUpLoadSuccess:function(e,t){if(e.ret){var i=e.data&&e.data.uploadUrl;this._setImgInfoByFileName({fileName:t.name,pictureUrl:i,smallPictureUrl:Object(Je["c"])({url:i,width:390,height:390}),isInProgress:!1,percentage:100,isShowDelete:!0})}else this._processUploadError(t,e.errmsg)},handleBeforeUpload:function(e){var t=this;return this._clearErrorMsg(),new Promise(function(i,o){var a=new Image;a.src=Object(Je["b"])(e),a.onload=function(s){if(Object(Je["e"])({size:Ro,fileSize:e.size}))if(Object(Je["d"])({formatList:No,fileType:e.type}))if(-1!==t._findIndexByFileName(e.name))t._errorNotice("不能选择同名图片"),o(new Error("不能选择同名图片"));else if(t.value.length>=10)t._errorNotice("图片不能大于10张"),o(new Error("图片不能大于10张"));else{var r={fileName:e.name,pictureUrl:Object(Je["a"])(a.src),isInProgress:!0,percentage:0,isShowDelete:!1};t._pushImageToImageList(r),i()}else t._errorNotice("上传图片格式有误"),o(new Error("上传图片格式有误"));else t._errorNotice("上传的内容有误，照片需要小于10MB"),o(new Error("上传的内容有误，照片需要小于10MB"))}})},handleUploadProgress:function(e,t){this._setImgInfoByFileName({fileName:t.name,isInProgress:!0,percentage:e.percent,isShowDelete:!1})},handleErrorUpload:function(e,t,i){this._processUploadError(i)},handleMaxSize:function(e){this._errorNotice("上传的内容有误，照片需要小于10MB"),this.deleteImageByIndex(this._findIndexByFileName(e.name))},deleteImageByIndex:function(e){this.value.splice(e,1),this._emit(this.value)},_processUploadError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._errorNotice(t||"图片上传失败"),this.deleteImageByIndex(this._findIndexByFileName(e.name))},_findIndexByFileName:function(e){return Object(N["findLastIndex"])(this.value,function(t){return t.fileName===e})},_pushImageToImageList:function(e){this.value.push(e),this._emit(this.value)},_emit:function(e){this.$emit("input",e)},_setImgInfoByFileName:function(e){var t=e.fileName,i=e.pictureUrl,o=e.smallPictureUrl,a=e.isInProgress,s=e.percentage,r=e.isShowDelete,n=this._findIndexByFileName(t);i&&(this.value[n].pictureUrl=i),o&&(this.value[n].thumbUrl_1=o),this.value[n].isInProgress=a,this.value[n].percentage=s,this.value[n].isShowDelete=r},_errorNotice:function(e){this.$Notice.error({desc:e})},validate:function(){return Ao.add({value:this.value,ruleName:"isEmpty",errorMsg:"证件照片不能为空"}),this.errorMsg=Ao.start(),""===this.errorMsg},_clearErrorMsg:function(){this.errorMsg=""}}},Uo=Eo,Lo=(i("683f"),Object(x["a"])(Uo,Po,ko,!1,null,"32503c95",null)),Mo=Lo.exports,Ho=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"g-sample-graph-layout"},[i("p",{staticClass:"title"},[e._v("示例图")]),i("div",{staticClass:"image-list-wrapper"},[e.config.samplePictures?i("ul",{staticClass:"image-list"},e._l(e.config.samplePictures,function(t,o){return i("li",{key:o,staticClass:"image-list-item",on:{click:function(i){return i.stopPropagation(),e.openImage(t.pictureUrl)}}},[i("img",{staticClass:"image",attrs:{src:t.thumbUrl_1||t.pictureUrl,alt:""}})])}),0):e._e(),i("div",{staticClass:"image-desc"},[i("p",[e._v(e._s(e.config.title)+"：")]),i("ul",e._l(e.config.introduce,function(t,o){return i("li",{key:o},[e._v(e._s(t))])}),0)])])])},jo=[],qo={name:"sampleGraph",props:{config:{type:Object,default:function(){return{title:"",introduce:[],samplePictures:[]}}}},methods:{openImage:function(e){e&&window.open(e)}}},$o=qo,Bo=(i("87b7"),Object(x["a"])($o,Ho,jo,!1,null,"5ce8a638",null)),zo=Bo.exports;function Jo(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function Go(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Jo(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Jo(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var Wo={name:"houseQualification",props:{isActive:{type:Boolean,default:!1},houseUnitId:{type:String,default:""}},data:function(){return{isAcceptRule:!1,houseQualification:{qualificationType:Ue.HOUSE_QUALIFICATION_TYPE.leaseContract,expirationDate:"",qualificationAddress:"",cityAddress:"",merchantQualificationType:-1,qualificationPictures:[],auditStatus:Ue.HOUSE_QUALIFICATION_STATUS.none,configList:[],draft:!1},houseRoomInfo:{houseName:"",houseDesc:"",coverImageUrl:""},isSubmitBtnLoading:!1}},computed:Go({},Object(n["e"])({host:"host"}),{isInCheckedCpd:function(){return this.houseQualification.auditStatus===Ue.HOUSE_QUALIFICATION_STATUS.checked},isMerchantUseBusinessLicenseCpd:function(){return this.houseQualification.merchantQualificationType===Ue.MERCHANT_QUALIFICATION_TYPE.businessLicense},isSelectDeedCpd:function(){return this.houseQualification.qualificationType===Ue.HOUSE_QUALIFICATION_TYPE.deed},isSelectLeaseContractCpd:function(){return this.houseQualification.qualificationType===Ue.HOUSE_QUALIFICATION_TYPE.leaseContract},sampleGraphConfigCpd:function(){var e=this,t=this.houseQualification.configList.filter(function(t){return e.houseQualification.qualificationType===t.type});return t[0]}}),watch:{isActive:function(e){e&&this._queryHouseCredential()}},created:function(){this._queryHouseCredential()},methods:{handleHouseImageError:function(){this.$refs.houseImage.src="".concat(this.host.NO_VERSION_STATIC_CDN_PREFIX,"/static/image/createUnitHouse/default.png")},submit:function(){var e=no(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.isAcceptRule){e.next=3;break}return this.$Notice.error({title:"请同意并接受《法律声明及服务条款》"}),e.abrupt("return",!1);case 3:return e.next=5,this._formValidatior();case 5:if(t=e.sent,t){e.next=9;break}return this.$Notice.error({title:"请按规则填写"}),e.abrupt("return",!1);case 9:if(!this._isImageUploading()){e.next=12;break}return this.$Notice.error({title:"证件照片上传中，请稍后"}),e.abrupt("return",!1);case 12:this._saveHouseCredential();case 13:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),_saveHouseCredential:function(){var e=this;this.isSubmitBtnLoading=!0;var t=this._buildParams();ti.saveHouseCredential(t).then(function(t){e.houseQualification.draft?e.$router.push({name:"createunitsuccess",query:{houseUnitId:e.houseUnitId}}):(e.$Notice.success({title:"保存成功"}),e._queryHouseCredential(),e.$emit("menuReload"))})["catch"](function(t){t.errorNo;var i=t.errorMsg;e.$Notice.error({title:i})}).finally(function(){e.isSubmitBtnLoading=!1})},_queryHouseCredential:function(){var e=this;l["a"].open(),ti.queryHouseCredential({houseUnitId:this.houseUnitId}).then(function(t){e._transformData(t),e.houseQualification=t.houseQualificationVo||{},e.houseRoomInfo=t.houseRoomInfoVo||{}})["catch"](function(t){t.errorNo;var i=t.errorMsg;e.$Notice.error({title:i})}).finally(function(){l["a"].close()})},_transformData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.houseQualificationVo&&(e.houseQualificationVo.qualificationType=e.houseQualificationVo.qualificationType||Ue.HOUSE_QUALIFICATION_TYPE.leaseContract,e.houseQualificationVo.expirationDate=e.houseQualificationVo.expirationDate||"",e.houseQualificationVo.qualificationAddress=e.houseQualificationVo.qualificationAddress||"",e.houseQualificationVo.cityAddress=e.houseQualificationVo.cityAddress||"",e.houseQualificationVo.auditStatus=e.houseQualificationVo.auditStatus||Ue.HOUSE_QUALIFICATION_STATUS.none,e.houseQualificationVo.qualificationPictures=e.houseQualificationVo.qualificationPictures||[],e.houseQualificationVo.configList=e.houseQualificationVo.configList||[]),e.houseRoomInfoVo&&(e.houseRoomInfoVo.houseDesc="".concat(Ue.HOUSE_RESOURCE_MAP[e.houseRoomInfoVo.houseResource]||""," ").concat(e.houseRoomInfoVo.bedroomCount||0,"室").concat(e.houseRoomInfoVo.livingroomCount||0,"厅"))},_formValidatior:function(){var e=no(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isMerchantUseBusinessLicenseCpd){e.next=2;break}return e.abrupt("return",!0);case 2:if(!this.isInCheckedCpd){e.next=4;break}return e.abrupt("return",!0);case 4:return e.prev=4,e.next=7,ti.queryHouseCredentialCheckSwitch();case 7:if(t=e.sent,!t){e.next=12;break}if(!this.isSelectDeedCpd){e.next=11;break}return e.abrupt("return",this.$refs.addressInput.validate()&&this.$refs.certificateUpload.validate());case 11:return e.abrupt("return",this.$refs.certificateDatePicker.validate()&&this.$refs.addressInput.validate()&&this.$refs.certificateUpload.validate());case 12:return e.abrupt("return",!0);case 15:if(e.prev=15,e.t0=e["catch"](4),!this.isSelectDeedCpd){e.next=19;break}return e.abrupt("return",this.$refs.addressInput.validate()&&this.$refs.certificateUpload.validate());case 19:return e.abrupt("return",this.$refs.certificateDatePicker.validate()&&this.$refs.addressInput.validate()&&this.$refs.certificateUpload.validate());case 20:case"end":return e.stop()}},e,this,[[4,15]])}));function t(){return e.apply(this,arguments)}return t}(),_isImageUploading:function(){return this.houseQualification.qualificationPictures.some(function(e){return!0===e.isInProgress})},_buildParams:function(){if(this.isMerchantUseBusinessLicenseCpd)return{houseUnitId:this.houseUnitId};for(var e=[],t=0;t<this.houseQualification.qualificationPictures.length;t++){var i=this.houseQualification.qualificationPictures[t];e.push({index:t,pictureUrl:i.pictureUrl})}return{houseUnitId:this.houseUnitId,qualificationType:this.houseQualification.qualificationType,expirationDate:this.houseQualification.expirationDate,qualificationAddress:this.houseQualification.qualificationAddress,qualificationPictures:e}}},components:{certificateSelect:po,certificateDatePicker:Io,addressInput:To,certificateUpload:Mo,sampleGraph:zo}},Qo=Wo,Yo=(i("066b"),Object(x["a"])(Qo,io,oo,!1,null,"a693daac",null)),Xo=Yo.exports;function Zo(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function Ko(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Zo(i,!0).forEach(function(t){Object(s["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Zo(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var ea={data:function(){return{floor7FormValidateHouseImages:[],basicData:{},roomType:"",stepOption:[{isLoad:!1},{isLoad:!1},{isLoad:!1},{isLoad:!1},{isLoad:!1},{isLoad:!1},{isLoad:!1},{isLoad:!1},{isLoad:!1}],isActive:-1,menuIconIsShow:{isShowMenu:1,positionClickable:1,positionCompleteIconShow:0,detailClickable:1,detailCompleteIconShow:0,descriptionClickable:1,descriptionCompleteIconShow:0,facilityClickable:1,facilityCompleteIconShow:0,explanationClickable:1,explanationCompleteIconShow:0,imageClickable:1,imageCompleteIconShow:0,priceClickable:1,priceCompleteIconShow:0,qualificationShow:1,qualificationClickable:7===this.$route.query.isActive?1:0,qualificationAuditRejectShow:-1,qualificationCompleteIconShow:-1,showUncompletedCount:!1,uncompletedCount:7,imageAllHaveType:1,houseCredentialShow:1,houseCredentialClickable:1,houseCredentialCompleteIconShow:0},isShowDistanceStep:0,distanceStep:"",isShowFacilitiesInfo:!1,contractCheckbox:!0,showAlertHead:!1,showAlertIDJust:!1,showAlertIDBack:!1,IDBackdataUrl:"",showAlertpassport:!1,passportImgDataUrl:"",showAlertLicense:!1,licenseImgDataUrl:"",field:"__source,__avatar1,__avatar2",fieldPost:"fileUpload",houseUnitId:"",houseGuid:"15d8e005-59f5-4f81-b383-b88a926f4225",showLatitude:!1,country:[],getCountry:[],houseTypeEnum:[],overseasHoustTypeEnum:[],scenicFeaturesEnum:[],bedSize:"",enumHouseFacilitiesObj:{enumHouseFacilities:[],houseUnitId:""},floor4Status:1,acceptSexEnum:[],acceptAgesEnum:[],cleaningFrequencyEnum:[],sheetReplaceFrequencyEnum:[],toothSetReplaceFrequencyEnum:[],towelReplaceFrequencyEnum:[],indoorPermitsEnum:[],allowAddBed:!1,displayTeeth:!1,displayTowel:!1,otherCheckTipsNumMax:"0",categoriesEnum:[],photoListLength:0,emailShow:!0,currencyUnitEnum:[],floor1FormValidate:{allowChange:!0,countryId:"",cityIdGroup:[],residentialQuarterName:"",doorplate:"",isConsistent:!1,receptionAddress:"",latitude:"116.462602",longitude:"39.933315",status:0,map:{},ac:{}},floor1Form:{countryId:[{required:!0,type:"number",message:"请选择国家",trigger:"change"}],cityIdGroup:[{required:!0,type:"array",message:"请选择城市",trigger:"change"}],residentialQuarterName:[{required:!0,min:3,max:100,message:"请选择详细地址",trigger:"blur"}],doorplate:[{required:!1,max:30,message:"请填写不超过30个字符的门牌号",trigger:"blur"}]},floor2FormRules:{},floor8FormValidateRules:{tavernName:[{required:!0,message:"请输入房东昵称/门店名称",trigger:"blur"}],mobile:[{required:!0,message:"请输入电话",trigger:"blur"}]},featureLabelText:"",floor2FormValidate:{houseResource:1,isindex:"",enumHouseType:1,supportSingle:!0,grossArea:null,enumScenicFeature:0,bedIndex:1,houseBedInfos:[{unitAmenityGoodsID:16,unitAmenityGoodsSpecID:13,number:"",bedRice:"",index:1,status:1}],bedroomCount:1,bathroomCount:1,livingroomCount:0,kitchenCount:0,studyCount:0,balconyCount:0,recommendedGuests:1,instanceCount:1,hostTogetherBoolean:!1},floor3FormValidate:{name:"",introduction:"",locationIntroduction:"",surroundingIntroduction:"",nameMax:0,featureMax:0,trafficMax:0,introduceMax:0},floor4FormValidate:{homeFamily:[],homeEnum:[],bathroom:[],toiletriesEnum:[],kitchen:[],kitchenwareEnum:[],happy:[],entertainmentEnum:[],security:[],securityEnum:[],building:[],buildingEnum:[],range:[],surroundingsEnum:[],other:[],othersEnum:[]},floor5FormRules:{},floor6FormRules:{basePrice:[{required:!0,type:"number",message:"价格不能为空",trigger:"burl"}],weekendPrice:[{required:!0,type:"number",message:"价格不能为空",trigger:"burl"}],coverSpecialPrice:[{required:!0,type:"number",message:"请选择售卖价格覆盖范围",trigger:"change"}]},floor6FormValidate2:{minRequiredDays:[{required:!0,type:"number",message:"最少起订天数不能为空",trigger:"burl"}]},floor5FormValidate:{houseUnitId:"",checkInReceptionTime:"14:00",checkOutLatestTime:"12:00",receptionIndex:0,houseAcceptTimes:[{startAcceptTime:"",endAcceptTime:"",receptionIndex:1,status:1}],showReceiptForeigner:1,enumAcceptSex:0,enumAcceptAges:[1,2],receptionLanguage:[],showReceiptLanguage:!0,enumCleaningFrequency:"",enumSheetReplaceFrequency:"",enumToothSetReplaceFrequency:"",enumTowelReplaceFrequency:"",enumIndoorPermits:[],commercialShootingChargeDescription:"",extraPersonChargeDescription:"",partyChargeDescription:"",cookingChargeDescription:"",extraBedLimit:"",extraBedChargeDescription:"",checkinExplained:""},floor6FormValidate:{houseUnitId:"6aad5113-7273-4588-8844-9439eb383500",weekSamePrice:0,currency:"",liveDiscountIndex:1,discountProductList:[{longStayDays:"",discount:"",liveDiscountIndex:1,status:1}],price:"",basePrice:"",uniformPrice:1,weekendPrice:"",coverSpecialPrice:0,minRequiredDays:"",onlineDeposit:!1,deposit:"",cancelRule:{cancelDiscount:"",preDay:""},supportCredit:!1,isOversea:0,draft:!1,saveButtonStatus:1},floor7FormValidate:{photoListLength:0,photoListIndex:1,houseImages:[{}]},floor8FormValidate:{houseGuid:"6aad5113-7273-4588-8844-9439eb383500",logoSourceUrl:"",documentIds:[],credentialType:6,tavernName:"",mobile:"",email:"",creditSuccess:!1,credentialName:"",credentialNumber:"",qualificationAutoAudit:0,qualificationAutoAuditChannel:0,staticUrl:"",status:0}}},computed:Ko({},Object(n["e"])({host:"host"}),{urlPost:function(){return"".concat(this.host.MERCHANTCRM_TUJIA_HOST,"/merchant-web/file/upload")},identityTruth:function(){return"".concat(this.host.MERCHANTCRM_TUJIA_HOST,"/merchant-web/file/get?id=")}}),components:{unitLocation1:z,unitDetail2:se,unitDesc3:Ce,unitFacilityService4:Te,unitExplanation5:$e,unitImages6:Qt,unitImages6New:Ut,unitPrice7:vi,unitQualification8:to,houseQualification:Xo},watch:{isActive:function(e){this.stepOption[e].isLoad=!0,this.queryMenuStatus()}},created:function(){this.houseUnitId=this.$route.query.houseUnitId?this.$route.query.houseUnitId:"",this.queryMenuStatus(),this.queryBasicData(),this.distanceStep="7"},mounted:function(){},methods:{updateFloor7FormValidate:function(e){this.floor7FormValidateHouseImages=e},menuReload:function(){this.queryMenuStatus()},firstLoadNextStep:function(){this.$route.query.isActive?this.isActive=this.$route.query.isActive:this.$route.query.uncompletedStepIndex?this.isActive=this.$route.query.uncompletedStepIndex:this.isActive=0},nextStepChuange:function(e){this.isActive=e},upDateHouseUnitId:function(e){this.houseUnitId=e},roomTypeChange:function(e){this.roomType=e},handleAreaKeyup:function(){console.log("asdasda",this.floor5FormValidate.partyChargeDescription)},queryBasicData:function(){var e=this;l["a"].open(),r["a"].queryBasicData(function(t,i,o){l["a"].close(),t?(e.firstLoadNextStep(),e.basicData=i):e.$Notice.error({desc:o.errorMsg})})},tagbToogle:function(e){this.isActive=e},queryMenuStatus:function(){var e=this;r["a"].queryMenuStatus(this.houseUnitId,function(t,i,o){t&&(e.menuIconIsShow=i)})},saveDetailBtn:function(e){var t=this;this.$refs["floor2FormValidate"].validate(function(e){e?(l["a"].open(),r["a"].saveDetail(t.floor2FormValidate,function(e,i,o){l["a"].close(),e?(1==t.floor2FormValidate.saveButtonStatus&&void 0!=t.floor2FormValidate.saveButtonStatus?(t.isActive=2,t.distanceStep="5",t.queryDescription()):t.$Notice.success({title:"信息已提交审核中"}),t.queryMenuStatus()):t.$Notice.error({desc:o.errorMsg})})):t.$Notice.warning({title:"请按规则输入必填内容"})})},handleFeatureChange:function(e){(e.label||"无"!==e.label)&&(this.featureLabelText=e.label)},saveDescriptionBtn:function(e){var t=this;this.$refs[e].validate(function(e){e?(l["a"].open(),r["a"].checkHouseName(t.floor3FormValidate.name,t.floor3FormValidate.houseUnitId,function(e,i,o){l["a"].close(),e?(l["a"].open(),r["a"].saveDescription(t.floor3FormValidate,function(e,i,o){l["a"].close(),e?(1==t.floor3FormValidate.saveButtonStatus&&void 0!=t.floor3FormValidate.saveButtonStatus?(t.isActive=3,t.distanceStep="4",t.queryFacility()):t.$Notice.success({title:"信息已提交审核中"}),t.queryMenuStatus(),console.log("-------保存房屋描述---------"),console.log(i),console.log("-------保存房屋描述---------")):t.$Notice.error({desc:o.errorMsg})})):t.$Notice.error({title:"房屋名称不能与之前的重复，请重现填写"})})):t.$Notice.warning({title:"请按规则填写表单内容"})})},savefacilityBtn:function(){var e=this;this.enumHouseFacilitiesObj.enumHouseFacilities=this.floor4FormValidate.homeFamily.concat(this.floor4FormValidate.bathroom).concat(this.floor4FormValidate.kitchen).concat(this.floor4FormValidate.happy).concat(this.floor4FormValidate.security).concat(this.floor4FormValidate.building).concat(this.floor4FormValidate.range).concat(this.floor4FormValidate.other),l["a"].open(),r["a"].saveFacility(this.enumHouseFacilitiesObj,function(t,i,o){l["a"].close(),t?(1==e.floor4Status&&void 0!=e.floor4Status?(e.isActive=4,e.distanceStep="3",e.queryExplanation()):e.$Notice.success({title:"信息已提交审核中"}),e.queryMenuStatus()):e.$Notice.error({desc:o.errorMsg})})},saveExplanationBtn:function(){var e=this;l["a"].open(),r["a"].saveExplanation(this.floor5FormValidate,function(t,i,o){l["a"].close(),t?(1==e.floor5FormValidate.saveButtonStatus&&void 0!=e.floor5FormValidate.saveButtonStatus?(e.isActive=5,e.distanceStep="2",e.queryImage()):e.$Notice.success({title:"信息已提交审核中"}),e.queryMenuStatus()):e.$Notice.error({desc:o.errorMsg})})},saveImageBtn:function(){var e=this;l["a"].open(),r["a"].saveImage(this.floor7FormValidate,function(t,i,o){l["a"].close(),t?(1==e.floor7FormValidate.saveButtonStatus&&void 0!=e.floor7FormValidate.saveButtonStatus?(e.isActive=6,e.distanceStep="1",e.queryPrice()):e.$Notice.success({title:"信息已提交审核中"}),e.queryMenuStatus()):e.$Notice.error({desc:o.errorMsg})})},saveBasicPriceOneBtn:function(e){var t=this;this.$refs["floor6FormValidate"].validate(function(e){e?(l["a"].open(),r["a"].saveBasicPrice(t.floor6FormValidate,function(e,i,o){l["a"].close(),e?(t.$Notice.success({title:"保存成功"}),t.queryMenuStatus()):t.$Notice.error({desc:o.errorMsg})})):t.$Notice.warning({title:"请按规则输入必填内容"})})},saveBasicPriceBtn:function(e){var t=this;this.$refs["floor6FormValidate"].validate(function(e){e?(l["a"].open(),r["a"].saveBasicPrice(t.floor6FormValidate,function(e,i,o){l["a"].close(),e?(1==t.floor6FormValidate.saveButtonStatus&&void 0!=t.floor6FormValidate.saveButtonStatus&&(t.isActive=7,t.distanceStep="0",t.queryQualification()),3==t.floor6FormValidate.saveButtonStatus&&t.$router.push({name:"createunitsuccess",query:{houseUnitId:t.houseUnitId}}),t.queryMenuStatus()):t.$Notice.error({desc:o.errorMsg})})):t.$Notice.warning({title:"请按规则输入必填内容"})})},saveDiscountedPriceBtn:function(){var e=this;this.$refs["floor6FormValidate1"].validate(function(t){console.log("floor6FormValidate1",t),t?(l["a"].open(),r["a"].saveDiscountedPrice(e.floor6FormValidate,function(t,i,o){l["a"].close(),t?(e.$Notice.success({title:"保存成功"}),e.queryMenuStatus()):e.$Notice.error({desc:o.errorMsg})})):e.$Notice.warning({title:"请按规则输入必填内容"})})},saveDepositBtn:function(){var e=this;this.$refs["floor6FormValidate2"].validate(function(t){t?(l["a"].open(),r["a"].saveDeposit(e.floor6FormValidate,function(t,i,o){l["a"].close(),t?(e.$Notice.success({title:"保存成功"}),e.queryMenuStatus()):e.$Notice.error({desc:o.errorMsg})})):e.$Notice.warning({title:"请按规则输入必填内容"})})},updateQualificationBtn:function(){var e=this;this.$refs["floor8FormValidate"].validate(function(t){t?(l["a"].open(),r["a"].updateQualification(e.floor8FormValidate,function(t,i,o){l["a"].close(),t?(e.distanceStep="0",e.$Notice.success({title:"信息已提交审核中"}),3==e.floor8FormValidate.saveButtonStatus&&e.$router.push({name:"createunitsuccess",query:{houseUnitId:e.houseUnitId}}),e.queryMenuStatus()):e.$Notice.error({desc:o.errorMsg})})):e.$Notice.warning({title:"请按规则输入必填内容"})})},queryPosition:function(e){var t=this;l["a"].open(),r["a"].queryPosition(this.houseUnitId,function(e,i,o){l["a"].close(),e?(Object.assign(t.floor1FormValidate,i),2==i.saveButtonStatus?t.isShowDistanceStep=0:t.isShowDistanceStep=1,t.queryCountries()):t.$Notice.error({desc:o.errorMsg})})},queryDetail:function(e){var t=this;l["a"].open(),this.floor2FormValidate&&this.floor2FormValidate.houseBedInfos&&(this.floor2FormValidate.houseBedInfos=[]),r["a"].queryDetail(this.houseUnitId,function(e,i,o){l["a"].close(),e?(2==i.saveButtonStatus?t.isShowDistanceStep=0:t.isShowDistanceStep=1,void 0!=i.houseBedInfos&&(i.houseBedInfos=i.houseBedInfos.map(function(e){return e.status=1,e}),i.houseBedInfos=i.houseBedInfos.map(function(e){return e.bedRice=[],e})),t.floor2FormValidate=i,console.log("sadfadsfadsfasdfsadfsadfsadfsadfsadfsadfdsafadsf"),console.log(i),console.log("sadfadsfadsfasdfsadfsadfsadfsadfsadfsadfdsafadsf"),t.changeBedMessage()):t.$Notice.error({desc:o.errorMsg})})},queryDescription:function(e){var t=this;l["a"].open(),r["a"].queryDescription(this.houseUnitId,function(e,i,o){l["a"].close(),e?(2==i.saveButtonStatus?t.isShowDistanceStep=0:t.isShowDistanceStep=1,t.floor3FormValidate=i,void 0!=i.name?t.floor3FormValidate.nameMax=i.name.length:t.floor3FormValidate.nameMax=0,void 0!=i.introduction?t.floor3FormValidate.featureMax=i.introduction.length:t.floor3FormValidate.featureMax=0,void 0!=i.locationIntroduction?t.floor3FormValidate.trafficMax=i.locationIntroduction.length:t.floor3FormValidate.trafficMax=0,void 0!=i.surroundingIntroduction?t.floor3FormValidate.introduceMax=i.surroundingIntroduction.length:t.floor3FormValidate.introduceMax=0):t.$Notice.error({desc:o.errorMsg})})},queryFacility:function(e){var t=this;l["a"].open(),r["a"].queryFacility(this.houseUnitId,function(e,i,o){if(l["a"].close(),e){t.isShowFacilitiesInfo=i.isShowInfo,2==i.saveButtonStatus?t.isShowDistanceStep=0:t.isShowDistanceStep=1,t.floor4Status=i.saveButtonStatus,t.enumHouseFacilities=i.enumHouseFacilities,t.enumHouseFacilitiesObj.houseUnitId=i.houseUnitId;for(var a=0;a<t.enumHouseFacilities.length;a++){for(var s=0;s<t.floor4FormValidate.homeEnum.length;s++)t.enumHouseFacilities[a]==t.floor4FormValidate.homeEnum[s].enumValue&&t.floor4FormValidate.homeFamily.push(t.enumHouseFacilities[a]);for(var r=0;r<t.floor4FormValidate.toiletriesEnum.length;r++)t.enumHouseFacilities[a]==t.floor4FormValidate.toiletriesEnum[r].enumValue&&t.floor4FormValidate.bathroom.push(t.enumHouseFacilities[a]);for(var n=0;n<t.floor4FormValidate.kitchenwareEnum.length;n++)t.enumHouseFacilities[a]==t.floor4FormValidate.kitchenwareEnum[n].enumValue&&t.floor4FormValidate.kitchen.push(t.enumHouseFacilities[a]);for(var c=0;c<t.floor4FormValidate.entertainmentEnum.length;c++)t.enumHouseFacilities[a]==t.floor4FormValidate.entertainmentEnum[c].enumValue&&t.floor4FormValidate.happy.push(t.enumHouseFacilities[a]);for(var u=0;u<t.floor4FormValidate.securityEnum.length;u++)t.enumHouseFacilities[a]==t.floor4FormValidate.securityEnum[u].enumValue&&t.floor4FormValidate.security.push(t.enumHouseFacilities[a]);for(var d=0;d<t.floor4FormValidate.buildingEnum.length;d++)t.enumHouseFacilities[a]==t.floor4FormValidate.buildingEnum[d].enumValue&&t.floor4FormValidate.building.push(t.enumHouseFacilities[a]);for(var h=0;h<t.floor4FormValidate.surroundingsEnum.length;h++)t.enumHouseFacilities[a]==t.floor4FormValidate.surroundingsEnum[h].enumValue&&t.floor4FormValidate.range.push(t.enumHouseFacilities[a]);for(var m=0;m<t.floor4FormValidate.othersEnum.length;m++)t.enumHouseFacilities[a]==t.floor4FormValidate.othersEnum[m].enumValue&&t.floor4FormValidate.other.push(t.enumHouseFacilities[a])}}else t.$Notice.error({desc:o.errorMsg})})},queryExplanation:function(e){var t=this;l["a"].open(),r["a"].queryExplanation(this.houseUnitId,function(e,i,o){l["a"].close(),e?(2==i.saveButtonStatus?t.isShowDistanceStep=0:t.isShowDistanceStep=1,void 0==i.enumToothSetReplaceFrequency&&(t.displayTeeth=!1),void 0==i.enumTowelReplaceFrequency&&(t.displayTowel=!1)," "===i.extraBedLimit&&void 0===i.extraBedLimit||(t.allowAddBed=!0),i.houseAcceptTimes=i.houseAcceptTimes.map(function(e){return e.status=1,e}),t.floor5FormValidate.showReceiptLanguage=i.showReceiptLanguage,void 0!=i.checkinExplained?t.otherCheckTipsNumMax=i.checkinExplained.length:t.otherCheckTipsNumMax=0,t.floor5FormValidate=i):t.$Notice.error({desc:o.errorMsg})})},queryImage:function(){var e=this;l["a"].open(),r["a"].queryImage(this.houseUnitId,function(t,i,o){l["a"].close(),t?(2==i.saveButtonStatus?e.isShowDistanceStep=0:e.isShowDistanceStep=1,e.photoListLength=i.houseImages.length,i.houseImages=i.houseImages.map(function(e){return e.status=1,e}),e.floor7FormValidate=i):e.$Notice.error({desc:o.errorMsg})})},queryPrice:function(e){var t=this;l["a"].open(),r["a"].queryPrice(this.houseUnitId,function(e,i,o){l["a"].close(),e?(2==i.saveButtonStatus?t.isShowDistanceStep=0:t.isShowDistanceStep=1,void 0!=i.discountProductList&&(i.discountProductList=i.discountProductList.map(function(e){return e.status=1,e})),t.floor6FormValidate=i):t.$Notice.error({desc:o.errorMsg})})},queryQualification:function(){var e=this;l["a"].open(),r["a"].queryQualification(this.houseUnitId,function(t,i,o){l["a"].close(),t?(2==i.saveButtonStatus?e.isShowDistanceStep=0:e.isShowDistanceStep=1,void 0==i.email&&(e.emailShow=!1),e.floor8FormValidate=i):e.$Notice.error({desc:o.errorMsg})})},IDVerification:function(){var e=this;l["a"].open(),r["a"].checkCredentialUnique(this.floor8FormValidate.credentialNumber,this.floor8FormValidate.credentialType,function(t,i,o){l["a"].close(),t?e.$Notice.success({desc:"身份证号验证正确"}):e.$Notice.error({desc:o.errorMsg})})},IDVerifications:function(){var e=this;l["a"].open(),r["a"].checkCredentialUnique(this.floor8FormValidate.sesameInfo.idCardNo,this.floor8FormValidate.credentialType,function(t,i,o){l["a"].close(),t?e.$Notice.success({desc:"身份证号验证正确"}):e.$Notice.error({desc:o.errorMsg})})},handleTabToogle:function(e){this.floor2FormValidate.grossArea=null,this.floor2FormValidate.houseResource=e},addBedMessage:function(){this.floor2FormValidate.bedIndex++,this.floor2FormValidate.houseBedInfos.push({unitAmenityGoodsID:16,unitAmenityGoodsSpecID:13,number:1,bedRice:[],index:this.floor2FormValidate.bedIndex,status:1}),this.changeBedMessage()},removeBedMessage:function(e){this.floor2FormValidate.houseBedInfos[e].status=0,this.floor2FormValidate.houseBedInfos.splice(e,1)},changeBedMessage:function(e){for(var t=0;t<this.floor2FormValidate.houseBedInfos.length;t++)this.getbedRiceData(this.floor2FormValidate.houseBedInfos[t])},getbedRiceData:function(e){r["a"].queryBedSpec(e.unitAmenityGoodsID,function(t,i,o){t&&(e.bedRice=i)})},textChangeName:function(){this.floor3FormValidate.nameMax=this.floor3FormValidate.name.length},textChangeIntroduction:function(){this.floor3FormValidate.featureMax=this.floor3FormValidate.introduction.length},textChangeLocationIntroduction:function(){this.floor3FormValidate.trafficMax=this.floor3FormValidate.locationIntroduction.length},textChangeSurroundingIntroduction:function(){this.floor3FormValidate.introduceMax=this.floor3FormValidate.surroundingIntroduction.length},textChange:function(){this.otherCheckTipsNumMax=this.floor5FormValidate.checkinExplained.length},serviceCheckboxHomeFamily:function(e,t){var i=this.floor4FormValidate.homeFamily,o=i.indexOf(64),a=i.indexOf(65);o>-1&&a>-1&&(o>a?this.floor4FormValidate.homeFamily.splice(a,1):this.floor4FormValidate.homeFamily.splice(o,1))},serviceCheckboxBathroom:function(){var e=this.floor4FormValidate.bathroom,t=e.indexOf(17),i=e.indexOf(62),o=e.indexOf(19),a=e.indexOf(20);t>-1&&i>-1&&(t>i?this.floor4FormValidate.bathroom.splice(i,1):this.floor4FormValidate.bathroom.splice(t,1)),o>-1&&a>-1&&(o>a?this.floor4FormValidate.bathroom.splice(a,1):this.floor4FormValidate.bathroom.splice(o,1))},addReceptionTime:function(){this.floor5FormValidate.receptionIndex++,this.floor5FormValidate.houseAcceptTimes.push({startAcceptTime:"00:00",endAcceptTime:"24:00",receptionIndex:this.floor5FormValidate.receptionIndex,status:1})},removeReceptionTime:function(e){this.floor5FormValidate.houseAcceptTimes[e].status=0,this.floor5FormValidate.houseAcceptTimes.splice(e,1)},addLiveDiscount:function(){this.floor6FormValidate.liveDiscountIndex++,null==this.floor6FormValidate.discountProductList?this.floor6FormValidate.discountProductList=[{longStayDays:2,discount:"",productId:0,productName:0,liveDiscountIndex:this.floor6FormValidate.liveDiscountIndex,status:1}]:this.floor6FormValidate.discountProductList.push({longStayDays:2,discount:"",productId:0,productName:0,liveDiscountIndex:this.floor6FormValidate.liveDiscountIndex,status:1})},removeLiveDiscount:function(e){this.floor6FormValidate.discountProductList[e].status=0,this.floor6FormValidate.discountProductList.splice(e,1)},addPhotoList:function(){},photoListReruenUrl:function(e){this.floor7FormValidate.photoListIndex++,this.floor7FormValidate.houseImages.push({pictureURL:"".concat(this.host.PIC_TUJIA_HOST)+e,enumPictureCategory:"",pictureExplain:"",pictureGuid:0,index:this.floor7FormValidate.photoListIndex,status:1}),this.photoListLength=this.floor7FormValidate.houseImages.length},delPhotoList:function(e){this.floor7FormValidate.houseImages[e].status=0,this.floor7FormValidate.houseImages.splice(e,1),this.photoListLength=this.floor7FormValidate.houseImages.length},headUpdataImg:function(){this.showAlertHead=!this.showAlertHead},headreturnImgUrl:function(e){this.floor8FormValidate.logoSourceUrl=e,console.log("头像",this.floor8FormValidate.logoSourceUrl)},IDCardJustUpdataImg:function(){this.showAlertIDJust=!this.showAlertIDJust},IDJustreturnImgUrl:function(e){this.floor8FormValidate.documentIds[0]=e,console.log("身份证正面",this.floor8FormValidate.documentIds[0])},IDJustreturnImgUrlPost:function(e){this.floor8FormValidate.documentIds[0]=e,console.log("身份证正面",this.floor8FormValidate.documentIds[0])},IDCardBackUpdataImg:function(){this.showAlertIDBack=!this.showAlertIDBack},IDBackreturnImgUrl:function(e){this.floor8FormValidate.documentIds[1]=e,console.log("身份证反面",this.floor8FormValidate.documentIds[1])},passportUpdataImg:function(){this.showAlertpassport=!this.showAlertpassport},passportreturnImgUrl:function(e){this.floor8FormValidate.documentIds[0]=e,console.log("护照",this.floor8FormValidate.documentIds[0])},licenseUpdataImg:function(){this.showAlertLicense=!this.showAlertLicense},licensereturnImgUrl:function(e,t){this.floor8FormValidate.documentIds[0]=e,console.log("营业执照",this.floor8FormValidate.documentIds[0])},changeProveToogle:function(e){this.floor8FormValidate.credentialType=e},changeCountry:function(){this.floor1FormValidate.cityIdGroup=[],this.queryAllregion()},queryCountries:function(){var e=this;l["a"].open(),r["a"].queryCountries(this.floor1FormValidate.isOversea,function(t,i,o){l["a"].close(),t?e.country=i:e.$Notice.error({desc:o.errorMsg})})},queryAllregion:function(){var e=this;l["a"].open(),r["a"].queryAllregion(this.floor1FormValidate.countryId,function(t,i,o){l["a"].close(),t?e.getCountry=i.children:e.$Notice.error({desc:o.errorMsg})})}}},ta=ea,ia=(i("acb4"),Object(x["a"])(ta,o,a,!1,null,null,null));t["default"]=ia.exports},"1af6":function(e,t,i){var o=i("63b6");o(o.S,"Array",{isArray:i("9003")})},"1e74":function(e,t,i){"use strict";var o=i("fff9"),a=i.n(o);a.a},"20fd":function(e,t,i){"use strict";var o=i("d9f6"),a=i("aebd");e.exports=function(e,t,i){t in e?o.f(e,t,a(0,i)):e[t]=i}},2330:function(e,t,i){},"24c5":function(e,t,i){"use strict";var o,a,s,r,n=i("b8e3"),l=i("e53d"),c=i("d864"),u=i("40c3"),d=i("63b6"),h=i("f772"),m=i("79aa"),p=i("1173"),f=i("a22a"),g=i("f201"),v=i("4178").set,y=i("aba2")(),C=i("656e"),w=i("4439"),I=i("bc13"),F=i("cd78"),b="Promise",S=l.TypeError,_=l.process,x=_&&_.versions,V=x&&x.v8||"",T=l[b],P="process"==u(_),k=function(){},D=a=C.f,O=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[i("5168")("species")]=function(e){e(k,k)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(k)instanceof t&&0!==V.indexOf("6.6")&&-1===I.indexOf("Chrome/66")}catch(o){}}(),A=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var i=e._c;y(function(){var o=e._v,a=1==e._s,s=0,r=function(t){var i,s,r,n=a?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{n?(a||(2==e._h&&U(e),e._h=1),!0===n?i=o:(u&&u.enter(),i=n(o),u&&(u.exit(),r=!0)),i===t.promise?c(S("Promise-chain cycle")):(s=A(i))?s.call(i,l,c):l(i)):c(o)}catch(d){u&&!r&&u.exit(),c(d)}};while(i.length>s)r(i[s++]);e._c=[],e._n=!1,t&&!e._h&&N(e)})}},N=function(e){v.call(l,function(){var t,i,o,a=e._v,s=E(e);if(s&&(t=w(function(){P?_.emit("unhandledRejection",a,e):(i=l.onunhandledrejection)?i({promise:e,reason:a}):(o=l.console)&&o.error&&o.error("Unhandled promise rejection",a)}),e._h=P||E(e)?2:1),e._a=void 0,s&&t.e)throw t.v})},E=function(e){return 1!==e._h&&0===(e._a||e._c).length},U=function(e){v.call(l,function(){var t;P?_.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},M=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw S("Promise can't be resolved itself");(t=A(e))?y(function(){var o={_w:i,_d:!1};try{t.call(e,c(M,o,1),c(L,o,1))}catch(a){L.call(o,a)}}):(i._v=e,i._s=1,R(i,!1))}catch(o){L.call({_w:i,_d:!1},o)}}};O||(T=function(e){p(this,T,b,"_h"),m(e),o.call(this);try{e(c(M,this,1),c(L,this,1))}catch(t){L.call(this,t)}},o=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},o.prototype=i("5c95")(T.prototype,{then:function(e,t){var i=D(g(this,T));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=P?_.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&R(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new o;this.promise=e,this.resolve=c(M,e,1),this.reject=c(L,e,1)},C.f=D=function(e){return e===T||e===r?new s(e):a(e)}),d(d.G+d.W+d.F*!O,{Promise:T}),i("45f2")(T,b),i("4c95")(b),r=i("584a")[b],d(d.S+d.F*!O,b,{reject:function(e){var t=D(this),i=t.reject;return i(e),t.promise}}),d(d.S+d.F*(n||!O),b,{resolve:function(e){return F(n&&this===r?T:this,e)}}),d(d.S+d.F*!(O&&i("4ee1")(function(e){T.all(e)["catch"](k)})),b,{all:function(e){var t=this,i=D(t),o=i.resolve,a=i.reject,s=w(function(){var i=[],s=0,r=1;f(e,!1,function(e){var n=s++,l=!1;i.push(void 0),r++,t.resolve(e).then(function(e){l||(l=!0,i[n]=e,--r||o(i))},a)}),--r||o(i)});return s.e&&a(s.v),i.promise},race:function(e){var t=this,i=D(t),o=i.reject,a=w(function(){f(e,!1,function(e){t.resolve(e).then(i.resolve,o)})});return a.e&&o(a.v),i.promise}})},3024:function(e,t){e.exports=function(e,t,i){var o=void 0===i;switch(t.length){case 0:return o?e():e.call(i);case 1:return o?e(t[0]):e.call(i,t[0]);case 2:return o?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},3694:function(e,t,i){"use strict";var o=i("f4c4"),a=i.n(o);a.a},3702:function(e,t,i){var o=i("481b"),a=i("5168")("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||s[a]===e)}},"3c11":function(e,t,i){"use strict";var o=i("63b6"),a=i("584a"),s=i("e53d"),r=i("f201"),n=i("cd78");o(o.P+o.R,"Promise",{finally:function(e){var t=r(this,a.Promise||s.Promise),i="function"==typeof e;return this.then(i?function(i){return n(t,e()).then(function(){return i})}:e,i?function(i){return n(t,e()).then(function(){throw i})}:e)}})},"3da9":function(e,t,i){},"40c3":function(e,t,i){var o=i("6b4c"),a=i("5168")("toStringTag"),s="Arguments"==o(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(i){}};e.exports=function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=r(t=Object(e),a))?i:s?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},4178:function(e,t,i){var o,a,s,r=i("d864"),n=i("3024"),l=i("32fc"),c=i("1ec9"),u=i("e53d"),d=u.process,h=u.setImmediate,m=u.clearImmediate,p=u.MessageChannel,f=u.Dispatch,g=0,v={},y="onreadystatechange",C=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},w=function(e){C.call(e.data)};h&&m||(h=function(e){var t=[],i=1;while(arguments.length>i)t.push(arguments[i++]);return v[++g]=function(){n("function"==typeof e?e:Function(e),t)},o(g),g},m=function(e){delete v[e]},"process"==i("6b4c")(d)?o=function(e){d.nextTick(r(C,e,1))}:f&&f.now?o=function(e){f.now(r(C,e,1))}:p?(a=new p,s=a.port2,a.port1.onmessage=w,o=r(s.postMessage,s,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(o=function(e){u.postMessage(e+"","*")},u.addEventListener("message",w,!1)):o=y in c("script")?function(e){l.appendChild(c("script"))[y]=function(){l.removeChild(this),C.call(e)}}:function(e){setTimeout(r(C,e,1),0)}),e.exports={set:h,clear:m}},4385:function(e,t,i){"use strict";i("ac4d"),i("8a81"),i("ac6a"),i("28a5");var o=i("d225"),a=i("b0b4"),s=(i("2caf"),i("6b54"),i("87b3"),i("2ef0")),r=i.n(s),n={isEmpty:function(e,t){var i=e;return"number"===typeof i&&(i=i.toString()),r.a.isEmpty(i)?t:""},number:function(e,t){return/^\d+$/.test(e)?"":t},maxLength:function(e,t,i){return e.length>t?i:""},hasEmptyItem:function(e,t){if(!Array.isArray(e))return t;for(var i=0;i<e.length;i++)if(void 0===e[i])return t;return""},minLength:function(e,t,i){return e.length<t?i:""},license:function(e,t){return/^\d{15}$/.test(e)||/^(?:(?![IOZSV])[\dA-Z]){2}\d{6}(?:(?![IOZSV])[\dA-Z]){10}$/.test(e)?"":t},idCard:function(e,t){return/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(e)?"":t},passport:function(e,t){return/^[a-z0-9]+$/i.test(e)?"":t},mail:function(e,t){return/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)?"":t},phone:function(e,t){return/^(0|86|17951)?(1)[0-9]{10}$/.test(e)?"":t},allPhone:function(e,t){return/^1\d{10}$|^(0\d{2,3}-?|\(0\d{2,3}\))?[1-9]\d{4,7}(-\d{1,8})?$/.test(e)?"":t},alipay:function(e,t){return/^(1)[0-9]{10}$/.test(e)||/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(e)?"":t},taxpayNo:function(e,t){return/^([a-z0-9]{15}|[a-z0-9]{18}|[a-z0-9]{20})$/i.test(e)?"":t}};i.d(t,"a",function(){return l});var l=function(){function e(){Object(o["a"])(this,e),this.cache=[]}return Object(a["a"])(e,[{key:"add",value:function(e){var t=e.value,i=e.ruleName,o=e.errorMsg,a=i.split(":"),s=a.shift();a.unshift(t),a.push(o),this.cache.push(function(){return n[s].apply(this,a)})}},{key:"start",value:function(){var e="",t=!0,i=!1,o=void 0;try{for(var a,s=this.cache[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var r=a.value,n=r();if(n){e=n;break}}}catch(l){i=!0,o=l}finally{try{t||null==s.return||s.return()}finally{if(i)throw o}}return this.clear(),e}},{key:"clear",value:function(){this.cache=[]}}]),e}()},"43d4":function(e,t,i){"use strict";var o=i("be7a"),a=i.n(o);a.a},"43fc":function(e,t,i){"use strict";var o=i("63b6"),a=i("656e"),s=i("4439");o(o.S,"Promise",{try:function(e){var t=a.f(this),i=s(e);return(i.e?t.reject:t.resolve)(i.v),t.promise}})},4439:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},4877:function(e,t,i){"use strict";var o=i("0d34"),a=i.n(o);a.a},"4a72":function(e,t,i){},"4c95":function(e,t,i){"use strict";var o=i("e53d"),a=i("584a"),s=i("d9f6"),r=i("8e60"),n=i("5168")("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:o[e];r&&t&&!t[n]&&s.f(t,n,{configurable:!0,get:function(){return this}})}},"4ee1":function(e,t,i){var o=i("5168")("iterator"),a=!1;try{var s=[7][o]();s["return"]=function(){a=!0},Array.from(s,function(){throw 2})}catch(r){}e.exports=function(e,t){if(!t&&!a)return!1;var i=!1;try{var s=[7],n=s[o]();n.next=function(){return{done:i=!0}},s[o]=function(){return n},e(s)}catch(r){}return i}},5172:function(e,t,i){"use strict";var o=i("7629"),a=i.n(o);a.a},"524d":function(e,t,i){},"549b":function(e,t,i){"use strict";var o=i("d864"),a=i("63b6"),s=i("241e"),r=i("b0dc"),n=i("3702"),l=i("b447"),c=i("20fd"),u=i("7cd6");a(a.S+a.F*!i("4ee1")(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,a,d,h=s(e),m="function"==typeof this?this:Array,p=arguments.length,f=p>1?arguments[1]:void 0,g=void 0!==f,v=0,y=u(h);if(g&&(f=o(f,p>2?arguments[2]:void 0,2)),void 0==y||m==Array&&n(y))for(t=l(h.length),i=new m(t);t>v;v++)c(i,v,g?f(h[v],v):h[v]);else for(d=y.call(h),i=new m;!(a=d.next()).done;v++)c(i,v,g?r(d,f,[a.value,v],!0):a.value);return i.length=v,i}})},"54a1":function(e,t,i){i("6c1c"),i("1654"),e.exports=i("95d5")},5825:function(e,t,i){"use strict";var o=i("728c"),a=i.n(o);a.a},"5b81":function(e,t,i){"use strict";var o=i("f96d"),a=i.n(o);a.a},"5c68":function(e,t,i){},"5c95":function(e,t,i){var o=i("35e8");e.exports=function(e,t,i){for(var a in t)i&&e[a]?e[a]=t[a]:o(e,a,t[a]);return e}},6067:function(e,t,i){"use strict";var o=i("6fb0"),a=i.n(o);a.a},"62dd":function(e,t,i){"use strict";var o=i("7ddc"),a=i.n(o);a.a},"656e":function(e,t,i){"use strict";var o=i("79aa");function a(e){var t,i;this.promise=new e(function(e,o){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=o}),this.resolve=o(t),this.reject=o(i)}e.exports.f=function(e){return new a(e)}},"683f":function(e,t,i){"use strict";var o=i("4a72"),a=i.n(o);a.a},6944:function(e,t,i){(function(t,o){e.exports=o(i("c82c"),i("0808"))})(0,function(e,t){return function(e){var t={};function i(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=5)}([function(t,i){t.exports=e},function(e,i){e.exports=t},function(e,t,i){"use strict";var o=i(0),a=i.n(o),s=i(1),r=(i.n(s),function(e,t){var i=t.name,o=void 0===i?"viewer":i,s=t.debug,r=void 0!==s&&s;function n(t,i){t["$"+o]&&t["$"+o].destroy(),e.nextTick(function(){var e=i.value;t["$"+o]=new a.a(t,e)})}function l(e){r&&console.log(e)}e.directive("viewer",{bind:function(e,t){l("viewer bind")},inserted:function(e,t){l("viewer inserted"),n(e,t)},componentUpdated:function(e,t){l("viewer componentUpdated"),n(e,t)},unbind:function(e,t){l("viewer unbind"),e["$"+o]&&e["$"+o].destroy()}})});t["a"]={install:r}},function(e,t,i){"use strict";function o(){var e={},t=!1,i=0,a=arguments.length;function s(i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t&&"[object Object]"===Object.prototype.toString.call(i[a])?e[a]=o(!0,e[a],i[a]):e[a]=i[a])}for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],i++);i<a;i++){var r=arguments[i];s(r)}return e}t["a"]=o},function(e,t,i){var o=i(7)(i(6),i(8),null,null);o.options.__file="D:\\Workspaces\\Web\\Git\\v-viewer\\src\\component.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] component.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(3),a=i(4),s=i.n(a),r=i(2),n=i(0),l=i.n(n);t["default"]={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.name,n=void 0===a?"viewer":a,c=t.debug,u=void 0!==c&&c,d=t.defaultOptions;l.a.setDefaults(d),e.component(n,i.i(o["a"])(s.a,{name:n})),e.use(r["a"],{name:n,debug:u})},setDefaults:function(e){l.a.setDefaults(e)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),a=i.n(o),s=i(1);i.n(s);t["default"]={props:{images:{type:Array,required:!0},options:{type:Object}},data:function(){return{}},computed:{},methods:{createViewer:function(){this.$viewer&&this.$viewer.destroy(),this.$viewer=new a.a(this.$el,this.options),this.$emit("inited",this.$viewer)}},watch:{images:function(){var e=this;this.$nextTick(function(){e.createViewer()})},options:{handler:function(){var e=this;this.$nextTick(function(){e.createViewer()})},deep:!0}},mounted:function(){this.createViewer()},destroyed:function(){this.$viewer&&this.$viewer.destroy()}}},function(e,t){e.exports=function(e,t,i,o){var a,s=e=e||{},r=typeof e.default;"object"!==r&&"function"!==r||(a=e,s=e.default);var n="function"===typeof s?s.options:s;if(t&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns),i&&(n._scopeId=i),o){var l=Object.create(n.computed||null);Object.keys(o).forEach(function(e){var t=o[e];l[e]=function(){return t}}),n.computed=l}return{esModule:a,exports:s,options:n}}},function(e,t,i){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._t("default",null,{images:e.images,options:e.options})],2)},staticRenderFns:[]},e.exports.render._withStripped=!0}])})},"696e":function(e,t,i){i("c207"),i("1654"),i("6c1c"),i("24c5"),i("3c11"),i("43fc"),e.exports=i("584a").Promise},"6cbb":function(e,t,i){},"6fb0":function(e,t,i){},"728c":function(e,t,i){},"75fc":function(e,t,i){"use strict";var o=i("a745"),a=i.n(o);function s(e){if(a()(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}var r=i("774e"),n=i.n(r),l=i("c8bb"),c=i.n(l);function u(e){if(c()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return n()(e)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(e){return s(e)||u(e)||d()}i.d(t,"a",function(){return h})},7629:function(e,t,i){},"774e":function(e,t,i){e.exports=i("d2d5")},"795b":function(e,t,i){e.exports=i("696e")},"7cd6":function(e,t,i){var o=i("40c3"),a=i("5168")("iterator"),s=i("481b");e.exports=i("584a").getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||s[o(e)]}},"7ddc":function(e,t,i){},"7f08":function(e,t,i){},8018:function(e,t,i){},"83fd":function(e,t,i){"use strict";var o=i("5c68"),a=i.n(o);a.a},"84bc":function(e,t,i){},"86ee":function(e,t,i){"use strict";var o=i("9a79"),a=i.n(o);a.a},8792:function(e,t,i){},"87b7":function(e,t,i){"use strict";var o=i("6cbb"),a=i.n(o);a.a},"8d2d":function(e,t,i){},"8e53":function(e,t,i){"use strict";var o=i("0d02"),a=i.n(o);a.a},"95d5":function(e,t,i){var o=i("40c3"),a=i("5168")("iterator"),s=i("481b");e.exports=i("584a").isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||s.hasOwnProperty(o(t))}},9892:function(e,t,i){"use strict";var o=i("524d"),a=i.n(o);a.a},"9a79":function(e,t,i){},"9e41":function(e,t,i){"use strict";var o=i("45aa"),a=Object({PWA_STATIC_CDN_PREFIX:"https://pwastatic.tujia.com",NO_VERSION_STATIC_CDN_PREFIX:"https://fe.tujiacdn.com/guanjiapc",HOST_DOMAIN:"tujia.com",TUJIA_DOMAIN:"tujia.com",TUJIA_HOST:"https://www.tujia.com",M_TUJIA_HOST:"https://m.tujia.com",GO_TUJIA_HOST:"https://go.tujia.com",PASSPORT_TUJIA_HOST:"https://passport.tujia.com",VIP_TUJIA_HOST:"https://vip.tujia.com",STATICFILE_TUJIA_HOST:"https://staticfile.tujia.com",PIC_TUJIA_HOST:"https://pic.tujia.com",INTERNATIONAL_TUJIA_HOST:"https://international.tujia.com",P_TUJIA_HOST:"https://p.tujia.com",API_TUJIA_HOST:"https://api.tujia.com",IM_TUJIA_HOST:"https://im.tujia.com",CONTENT_TUJIA_HOST:"https://content.tujia.com",TRAVEL_TUJIA_HOST:"https://travel.tujia.com",EDIT_TUJIA_HOST:"https://edit.tujia.com",BP_TUJIA_HOST:"https://bp.tujia.com",BOOKING_TUJIA_HOST:"https://booking.tujia.com",COMMENT_TUJIA_HOST:"https://comment.tujia.com",HOTEL_TUJIA_HOST:"https://hotel.tujia.com",ORDER_TUJIA_HOST:"https://order.tujia.com",PAY_TUJIA_HOST:"https://pay.tujia.com",TUJING_TUJIA_HOST:"https://tujing.tujia.com",OWNER_TUJIA_HOST:"https://owner.tujia.com",MERCHANTCRM_TUJIA_HOST:"https://merchantcrm.tujia.com",APPW_TUJIA_HOST:"https://appw.tujia.com",PROVIDERCRM_TUJIA_HOST:"https://providercrm.tujia.com",CSCMERCHANT_TUJIA_HOST:"https://cscmerchant.tujia.com",SHOOTMERCHANT_TUJIA_HOST:"https://shoot.tujia.com",NEDIT_TUJIA_HOST:"https://nedit.tujia.com",PROVIDEREDITOR_TUJIA_HOST:"https://providereditor.tujia.com",MERCHANT_TUJIA_HOST:"https://merchant.tujia.com",SETTLEMENTSITES_TUJIA_HOST:"https://settlementsite.tujia.com",PMS_TUJIA_HOST:"https://pms.tujia.com",BAPI_TUJIA_HOST:"https://bapi.tujia.com",GUANJIA_TUJIA_HOST:"https://guanjia.tujia.com",UPLOAD_TUJIA_HOST:"https://upload.tujia.com",PWA_TUJIA_HOST:"https://pwa.tujia.com"}),s={queryBasicData:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/basic/queryBasicData"),queryCommitted:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/queryCommitted"),queryHouseForClone:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/queryHouseForClone"),queryCountries:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/basic/queryCountries"),queryAllregion:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/basic/queryAllRegion"),queryBedSpec:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/basic/queryBedSpec"),queryDescription:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/queryDescription"),queryFacility:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/queryFacility"),queryExplanation:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/queryExplanation"),queryPosition:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/queryPosition"),queryPrice:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/queryPrice"),queryDetail:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/queryDetail"),queryImage:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/queryImage"),queryQualification:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/qualification/queryQualification"),savePosition:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/savePosition"),saveDetail:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/saveDetail"),saveDescription:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/saveDescription"),saveFacility:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/saveFacility"),saveImage:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/saveImage"),saveExplanation:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/saveExplanation"),updateQualification:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/qualification/updateQualification"),savePrice:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/savePrice"),saveBasicPrice:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/saveBasicPrice"),saveDiscountedPrice:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/saveDiscountedPrice"),saveDeposit:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/saveDeposit"),checkCredentialUnique:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/qualification/checkCredentialUnique"),gainSesameInfo:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/qualification/gainSesameInfo"),queryMenuStatus:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/queryMenuStatus"),checkHouseName:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/checkHouseName"),cloneUnit:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/cloneUnit"),checkSensitiveWordForPosition:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/checkSensitiveWordForPosition"),checkSensitiveWordForDescription:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/checkSensitiveWordForDescription"),checkSensitiveWordForCheckinExplained:"".concat(a.MERCHANTCRM_TUJIA_HOST,"/merchant-web/pc/house/checkSensitiveWordForCheckinExplained")},r=new o["a"];function n(e){r.getRequest(s.queryBasicData,null,e)}function l(e,t,i,o,a){r.getRequest(s.queryCommitted,{pageIndex:e,pageSize:t,isActive:i,houseSearchStatus:o},a)}function c(e,t,i,o,a){r.getRequest(s.queryHouseForClone,{pageIndex:e,pageSize:t,isActive:i,houseSearchStatus:o},a)}function u(e,t){r.getRequest(s.queryCountries,{isOversea:e},t)}function d(e,t,i){r.getRequest(s.queryAllregion,{countryId:e,houseResource:t},i)}function h(e,t){r.getRequest(s.queryBedSpec,{bedId:e},t)}function m(e,t){r.getRequest(s.queryDescription,{houseUnitId:e},t)}function p(e,t){r.getRequest(s.queryFacility,{houseUnitId:e},t)}function f(e,t){r.getRequest(s.queryExplanation,{houseUnitId:e},t)}function g(e,t){r.getRequest(s.queryPosition,{houseUnitId:e},t)}function v(e,t){r.getRequest(s.queryPrice,{houseUnitId:e},t)}function y(e,t){r.getRequest(s.queryDetail,{houseUnitId:e},t)}function C(e,t){r.getRequest(s.queryImage,{houseUnitId:e},t)}function w(e,t){r.getRequest(s.queryQualification,{houseUnitId:e},t)}function I(e,t){r.postRequest(s.savePosition,e,t)}function F(e,t){r.postRequest(s.saveDetail,e,t)}function b(e,t){r.postRequest(s.saveDescription,e,t)}function S(e,t){r.postRequest(s.saveFacility,e,t)}function _(e,t){r.postRequest(s.saveImage,e,t)}function x(e,t){r.postRequest(s.saveExplanation,e,t)}function V(e,t){r.postRequest(s.updateQualification,e,t)}function T(e,t){r.postRequest(s.savePrice,e,t)}function P(e,t){r.postRequest(s.saveBasicPrice,e,t)}function k(e,t){r.postRequest(s.saveDiscountedPrice,e,t)}function D(e,t){r.postRequest(s.saveDeposit,e,t)}function O(e,t,i){r.getRequest(s.checkCredentialUnique,{credentialNumber:e,credentialType:t},i)}function A(e){r.getRequest(s.gainSesameInfo,null,e)}function R(e,t){r.getRequest(s.queryMenuStatus,{houseUnitId:e},t)}function N(e,t,i){r.getRequest(s.checkHouseName,{houseName:e,houseUnitId:t},i)}function E(e,t){r.getRequest(s.cloneUnit,{houseUnitId:e},t)}function U(e,t){r.postRequest(s.checkSensitiveWordForPosition,e,t)}function L(e,t){r.postRequest(s.checkSensitiveWordForDescription,e,t)}function M(e,t){r.postRequest(s.checkSensitiveWordForCheckinExplained,e,t)}t["a"]={queryBasicData:n,queryCommitted:l,queryHouseForClone:c,queryCountries:u,queryAllregion:d,queryBedSpec:h,queryDescription:m,queryFacility:p,queryExplanation:f,queryPosition:g,queryPrice:v,queryDetail:y,queryImage:C,queryQualification:w,savePosition:I,saveDetail:F,saveDescription:b,saveFacility:S,saveImage:_,saveExplanation:x,updateQualification:V,savePrice:T,saveBasicPrice:P,saveDiscountedPrice:k,saveDeposit:D,checkCredentialUnique:O,gainSesameInfo:A,queryMenuStatus:R,checkHouseName:N,cloneUnit:E,checkSensitiveWordForPosition:U,checkSensitiveWordForDescription:L,checkSensitiveWordForCheckinExplained:M}},a22a:function(e,t,i){var o=i("d864"),a=i("b0dc"),s=i("3702"),r=i("e4ae"),n=i("b447"),l=i("7cd6"),c={},u={};t=e.exports=function(e,t,i,d,h){var m,p,f,g,v=h?function(){return e}:l(e),y=o(i,d,t?2:1),C=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(s(v)){for(m=n(e.length);m>C;C++)if(g=t?y(r(p=e[C])[0],p[1]):y(e[C]),g===c||g===u)return g}else for(f=v.call(e);!(p=f.next()).done;)if(g=a(f,y,p.value,t),g===c||g===u)return g};t.BREAK=c,t.RETURN=u},a3a0:function(e,t,i){},a57b:function(e,t,i){"use strict";var o=i("bbd1"),a=i.n(o);a.a},a745:function(e,t,i){e.exports=i("f410")},a962:function(e,t,i){},aba2:function(e,t,i){var o=i("e53d"),a=i("4178").set,s=o.MutationObserver||o.WebKitMutationObserver,r=o.process,n=o.Promise,l="process"==i("6b4c")(r);e.exports=function(){var e,t,i,c=function(){var o,a;l&&(o=r.domain)&&o.exit();while(e){a=e.fn,e=e.next;try{a()}catch(s){throw e?i():t=void 0,s}}t=void 0,o&&o.enter()};if(l)i=function(){r.nextTick(c)};else if(!s||o.navigator&&o.navigator.standalone)if(n&&n.resolve){var u=n.resolve(void 0);i=function(){u.then(c)}}else i=function(){a.call(o,c)};else{var d=!0,h=document.createTextNode("");new s(c).observe(h,{characterData:!0}),i=function(){h.data=d=!d}}return function(o){var a={fn:o,next:void 0};t&&(t.next=a),e||(e=a,i()),t=a}}},acb4:function(e,t,i){"use strict";var o=i("84bc"),a=i.n(o);a.a},b0dc:function(e,t,i){var o=i("e4ae");e.exports=function(e,t,i,a){try{return a?t(o(i)[0],i[1]):t(i)}catch(r){var s=e["return"];throw void 0!==s&&o(s.call(e)),r}}},b4e9:function(e,t,i){"use strict";var o=i("8018"),a=i.n(o);a.a},b889:function(e,t,i){"use strict";var o=i("a962"),a=i.n(o);a.a},bbd1:function(e,t,i){},bc13:function(e,t,i){var o=i("e53d"),a=o.navigator;e.exports=a&&a.userAgent||""},be7a:function(e,t,i){},c150:function(e,t,i){"use strict";var o=i("2330"),a=i.n(o);a.a},c2be:function(e,t,i){"use strict";i.d(t,"c",function(){return a}),i.d(t,"d",function(){return s}),i.d(t,"e",function(){return r}),i.d(t,"b",function(){return n}),i.d(t,"a",function(){return l});i("57e7"),i("6762"),i("2fdb"),i("2caf"),i("28a5"),i("9865");var o=Object({PWA_STATIC_CDN_PREFIX:"https://pwastatic.tujia.com",NO_VERSION_STATIC_CDN_PREFIX:"https://fe.tujiacdn.com/guanjiapc",HOST_DOMAIN:"tujia.com",TUJIA_DOMAIN:"tujia.com",TUJIA_HOST:"https://www.tujia.com",M_TUJIA_HOST:"https://m.tujia.com",GO_TUJIA_HOST:"https://go.tujia.com",PASSPORT_TUJIA_HOST:"https://passport.tujia.com",VIP_TUJIA_HOST:"https://vip.tujia.com",STATICFILE_TUJIA_HOST:"https://staticfile.tujia.com",PIC_TUJIA_HOST:"https://pic.tujia.com",INTERNATIONAL_TUJIA_HOST:"https://international.tujia.com",P_TUJIA_HOST:"https://p.tujia.com",API_TUJIA_HOST:"https://api.tujia.com",IM_TUJIA_HOST:"https://im.tujia.com",CONTENT_TUJIA_HOST:"https://content.tujia.com",TRAVEL_TUJIA_HOST:"https://travel.tujia.com",EDIT_TUJIA_HOST:"https://edit.tujia.com",BP_TUJIA_HOST:"https://bp.tujia.com",BOOKING_TUJIA_HOST:"https://booking.tujia.com",COMMENT_TUJIA_HOST:"https://comment.tujia.com",HOTEL_TUJIA_HOST:"https://hotel.tujia.com",ORDER_TUJIA_HOST:"https://order.tujia.com",PAY_TUJIA_HOST:"https://pay.tujia.com",TUJING_TUJIA_HOST:"https://tujing.tujia.com",OWNER_TUJIA_HOST:"https://owner.tujia.com",MERCHANTCRM_TUJIA_HOST:"https://merchantcrm.tujia.com",APPW_TUJIA_HOST:"https://appw.tujia.com",PROVIDERCRM_TUJIA_HOST:"https://providercrm.tujia.com",CSCMERCHANT_TUJIA_HOST:"https://cscmerchant.tujia.com",SHOOTMERCHANT_TUJIA_HOST:"https://shoot.tujia.com",NEDIT_TUJIA_HOST:"https://nedit.tujia.com",PROVIDEREDITOR_TUJIA_HOST:"https://providereditor.tujia.com",MERCHANT_TUJIA_HOST:"https://merchant.tujia.com",SETTLEMENTSITES_TUJIA_HOST:"https://settlementsite.tujia.com",PMS_TUJIA_HOST:"https://pms.tujia.com",BAPI_TUJIA_HOST:"https://bapi.tujia.com",GUANJIA_TUJIA_HOST:"https://guanjia.tujia.com",UPLOAD_TUJIA_HOST:"https://upload.tujia.com",PWA_TUJIA_HOST:"https://pwa.tujia.com"});function a(e){var t=e.url,i=e.width,o=void 0===i?0:i,a=e.height,s=void 0===a?0:a;if(!t)return"";var r=t.lastIndexOf("/"),n=t.substring(0,r+1),l=t.substring(r+1,t.length),c=l.split(".");return 2!==c.length?t:0===o||0===s?"".concat(n).concat(c[0],"_s.").concat(c[1]):"".concat(n,"thumb/").concat(c[0],"_").concat(o,"_").concat(s,".").concat(c[1])}function s(e){var t=e.formatList,i=e.fileType;return!!Array.isArray(t)&&t.includes(i)}function r(e){var t=e.size,i=e.fileSize;return i<t}function n(e){return window.URL.createObjectURL(e)}function l(e){return-1!==e.indexOf("http")?e:"".concat(o.NO_VERSION_STATIC_CDN_PREFIX,"/static/image/createUnitHouse/default.png")}},c418:function(e,t,i){"use strict";var o=i("8792"),a=i.n(o);a.a},c6a2:function(e,t,i){"use strict";var o=i("d947"),a=i.n(o);a.a},c82c:function(e,t,i){
/*!
 * Viewer.js v1.3.5
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2019-07-04T11:00:16.790Z
 */
(function(t,i){e.exports=i()})(0,function(){"use strict";function e(t){return e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}var a={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,zoom:null,zoomed:null},s='<div class="viewer-container" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list"></ul></div></div><div class="viewer-tooltip"></div><div role="button" class="viewer-button" data-viewer-action="mix"></div><div class="viewer-player"></div></div>',r="undefined"!==typeof window,n=r?window:{},l=!!r&&"ontouchstart"in n.document.documentElement,c=!!r&&"PointerEvent"in n,u="viewer",d="move",h="switch",m="zoom",p="".concat(u,"-active"),f="".concat(u,"-close"),g="".concat(u,"-fade"),v="".concat(u,"-fixed"),y="".concat(u,"-fullscreen"),C="".concat(u,"-fullscreen-exit"),w="".concat(u,"-hide"),I="".concat(u,"-hide-md-down"),F="".concat(u,"-hide-sm-down"),b="".concat(u,"-hide-xs-down"),S="".concat(u,"-in"),_="".concat(u,"-invisible"),x="".concat(u,"-loading"),V="".concat(u,"-move"),T="".concat(u,"-open"),P="".concat(u,"-show"),k="".concat(u,"-transition"),D="click",O="dblclick",A="dragstart",R="hidden",N="hide",E="keydown",U="load",L=l?"touchstart":"mousedown",M=l?"touchmove":"mousemove",H=l?"touchend touchcancel":"mouseup",j=c?"pointerdown":L,q=c?"pointermove":M,$=c?"pointerup pointercancel":H,B="ready",z="resize",J="show",G="shown",W="transitionend",Q="view",Y="viewed",X="wheel",Z="zoom",K="zoomed",ee="".concat(u,"Action"),te=/\s\s*/,ie=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function oe(e){return"string"===typeof e}var ae=Number.isNaN||n.isNaN;function se(e){return"number"===typeof e&&!ae(e)}function re(e){return"undefined"===typeof e}function ne(t){return"object"===e(t)&&null!==t}var le=Object.prototype.hasOwnProperty;function ce(e){if(!ne(e))return!1;try{var t=e.constructor,i=t.prototype;return t&&i&&le.call(i,"isPrototypeOf")}catch(o){return!1}}function ue(e){return"function"===typeof e}function de(e,t){if(e&&ue(t))if(Array.isArray(e)||se(e.length)){var i,o=e.length;for(i=0;i<o;i+=1)if(!1===t.call(e,e[i],i,e))break}else ne(e)&&Object.keys(e).forEach(function(i){t.call(e,e[i],i,e)});return e}var he=Object.assign||function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return ne(e)&&i.length>0&&i.forEach(function(t){ne(t)&&Object.keys(t).forEach(function(i){e[i]=t[i]})}),e},me=/^(?:width|height|left|top|marginLeft|marginTop)$/;function pe(e,t){var i=e.style;de(t,function(e,t){me.test(t)&&se(e)&&(e+="px"),i[t]=e})}function fe(e){return oe(e)?e.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e}function ge(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function ve(e,t){if(t)if(se(e.length))de(e,function(e){ve(e,t)});else if(e.classList)e.classList.add(t);else{var i=e.className.trim();i?i.indexOf(t)<0&&(e.className="".concat(i," ").concat(t)):e.className=t}}function ye(e,t){t&&(se(e.length)?de(e,function(e){ye(e,t)}):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function Ce(e,t,i){t&&(se(e.length)?de(e,function(e){Ce(e,t,i)}):i?ve(e,t):ye(e,t))}var we=/([a-z\d])([A-Z])/g;function Ie(e){return e.replace(we,"$1-$2").toLowerCase()}function Fe(e,t){return ne(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Ie(t)))}function be(e,t,i){ne(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-".concat(Ie(t)),i)}var Se=function(){var e=!1;if(r){var t=!1,i=function(){},o=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});n.addEventListener("test",i,o),n.removeEventListener("test",i,o)}return e}();function _e(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i;t.trim().split(te).forEach(function(t){if(!Se){var s=e.listeners;s&&s[t]&&s[t][i]&&(a=s[t][i],delete s[t][i],0===Object.keys(s[t]).length&&delete s[t],0===Object.keys(s).length&&delete e.listeners)}e.removeEventListener(t,a,o)})}function xe(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i;t.trim().split(te).forEach(function(t){if(o.once&&!Se){var s=e.listeners,r=void 0===s?{}:s;a=function(){delete r[t][i],e.removeEventListener(t,a,o);for(var s=arguments.length,n=new Array(s),l=0;l<s;l++)n[l]=arguments[l];i.apply(e,n)},r[t]||(r[t]={}),r[t][i]&&e.removeEventListener(t,r[t][i],o),r[t][i]=a,e.listeners=r}e.addEventListener(t,a,o)})}function Ve(e,t,i){var o;return ue(Event)&&ue(CustomEvent)?o=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(o=document.createEvent("CustomEvent"),o.initCustomEvent(t,!0,!0,i)),e.dispatchEvent(o)}function Te(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}function Pe(e){var t=e.rotate,i=e.scaleX,o=e.scaleY,a=e.translateX,s=e.translateY,r=[];se(a)&&0!==a&&r.push("translateX(".concat(a,"px)")),se(s)&&0!==s&&r.push("translateY(".concat(s,"px)")),se(t)&&0!==t&&r.push("rotate(".concat(t,"deg)")),se(i)&&1!==i&&r.push("scaleX(".concat(i,")")),se(o)&&1!==o&&r.push("scaleY(".concat(o,")"));var n=r.length?r.join(" "):"none";return{WebkitTransform:n,msTransform:n,transform:n}}function ke(e){return oe(e)?decodeURIComponent(e.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var De=n.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(n.navigator.userAgent);function Oe(e,t){var i=document.createElement("img");if(e.naturalWidth&&!De)return t(e.naturalWidth,e.naturalHeight),i;var o=document.body||document.documentElement;return i.onload=function(){t(i.width,i.height),De||o.removeChild(i)},i.src=e.src,De||(i.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(i)),i}function Ae(e){switch(e){case 2:return b;case 3:return F;case 4:return I;default:return""}}function Re(e){var t=he({},e),i=[];return de(e,function(e,o){delete t[o],de(t,function(t){var o=Math.abs(e.startX-t.startX),a=Math.abs(e.startY-t.startY),s=Math.abs(e.endX-t.endX),r=Math.abs(e.endY-t.endY),n=Math.sqrt(o*o+a*a),l=Math.sqrt(s*s+r*r),c=(l-n)/n;i.push(c)})}),i.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),i[0]}function Ne(e,t){var i=e.pageX,o=e.pageY,a={endX:i,endY:o};return t?a:he({timeStamp:Date.now(),startX:i,startY:o},a)}function Ee(e){var t=0,i=0,o=0;return de(e,function(e){var a=e.startX,s=e.startY;t+=a,i+=s,o+=1}),t/=o,i/=o,{pageX:t,pageY:i}}var Ue={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e,t=this.options,i=this.parent;t.inline&&(e={width:Math.max(i.offsetWidth,t.minWidth),height:Math.max(i.offsetHeight,t.minHeight)},this.parentData=e),!this.fulled&&e||(e=this.containerData),this.viewerData=he({},e)},renderViewer:function(){this.options.inline&&!this.fulled&&pe(this.viewer,this.viewerData)},initList:function(){var e=this,t=this.element,i=this.options,o=this.list,a=[];de(this.images,function(t,s){var r=t.src,n=fe(t.alt||ke(r)),l=i.url;if(oe(l)?l=t.getAttribute(l):ue(l)&&(l=l.call(e,t)),r||l){var c=document.createElement("li"),u=document.createElement("img");u.src=r||l,u.alt=n,u.setAttribute("data-index",s),u.setAttribute("data-original-url",l||r),u.setAttribute("data-viewer-action","view"),u.setAttribute("role","button"),c.appendChild(u),o.appendChild(c),a.push(c)}}),this.items=a,de(a,function(t){var o=t.firstElementChild;be(o,"filled",!0),i.loading&&ve(t,x),xe(o,U,function(o){i.loading&&ye(t,x),e.loadImage(o)},{once:!0})}),i.transition&&xe(t,Y,function(){ve(o,k)},{once:!0})},renderList:function(e){var t=e||this.index,i=this.items[t].offsetWidth||30,o=i+1;pe(this.list,he({width:o*this.length},Pe({translateX:(this.viewerData.width-i)/2-o*t})))},resetList:function(){var e=this.list;e.innerHTML="",ye(e,k),pe(e,Pe({translateX:0}))},initImage:function(e){var t,i=this,o=this.options,a=this.image,s=this.viewerData,r=this.footer.offsetHeight,n=s.width,l=Math.max(s.height-r,r),c=this.imageData||{};this.imageInitializing={abort:function(){t.onload=null}},t=Oe(a,function(t,a){var s=t/a,r=n,u=l;i.imageInitializing=!1,l*s>n?u=n/s:r=l*s,r=Math.min(.9*r,t),u=Math.min(.9*u,a);var d={naturalWidth:t,naturalHeight:a,aspectRatio:s,ratio:r/t,width:r,height:u,left:(n-r)/2,top:(l-u)/2},h=he({},d);o.rotatable&&(d.rotate=c.rotate||0,h.rotate=0),o.scalable&&(d.scaleX=c.scaleX||1,d.scaleY=c.scaleY||1,h.scaleX=1,h.scaleY=1),i.imageData=d,i.initialImageData=h,e&&e()})},renderImage:function(e){var t=this,i=this.image,o=this.imageData;if(pe(i,he({width:o.width,height:o.height,marginLeft:o.left,marginTop:o.top},Pe(o))),e)if((this.viewing||this.zooming)&&this.options.transition){var a=function(){t.imageRendering=!1,e()};this.imageRendering={abort:function(){_e(i,W,a)}},xe(i,W,a,{once:!0})}else e()},resetImage:function(){if(this.viewing||this.viewed){var e=this.image;this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null}}},Le={bind:function(){var e=this.options,t=this.viewer,i=this.canvas,o=this.element.ownerDocument;xe(t,D,this.onClick=this.click.bind(this)),xe(t,X,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),xe(t,A,this.onDragStart=this.dragstart.bind(this)),xe(i,j,this.onPointerDown=this.pointerdown.bind(this)),xe(o,q,this.onPointerMove=this.pointermove.bind(this)),xe(o,$,this.onPointerUp=this.pointerup.bind(this)),xe(o,E,this.onKeyDown=this.keydown.bind(this)),xe(window,z,this.onResize=this.resize.bind(this)),e.toggleOnDblclick&&xe(i,O,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,t=this.viewer,i=this.canvas,o=this.element.ownerDocument;_e(t,D,this.onClick),_e(t,X,this.onWheel,{passive:!1,capture:!0}),_e(t,A,this.onDragStart),_e(i,j,this.onPointerDown),_e(o,q,this.onPointerMove),_e(o,$,this.onPointerUp),_e(o,E,this.onKeyDown),_e(window,z,this.onResize),e.toggleOnDblclick&&_e(i,O,this.onDblclick)}},Me={click:function(e){var t=e.target,i=this.options,o=this.imageData,a=Fe(t,ee);switch(l&&e.isTrusted&&t===this.canvas&&clearTimeout(this.clickCanvasTimeout),a){case"mix":this.played?this.stop():i.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(Fe(t,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(i.loop);break;case"play":this.play(i.fullscreen);break;case"next":this.next(i.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-o.scaleX||-1);break;case"flip-vertical":this.scaleY(-o.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(l&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle())},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var t=this.element,i=this.options,o=this.image,a=this.index,s=this.viewerData;ye(o,_),i.loading&&ye(this.canvas,x),o.style.cssText="height:0;"+"margin-left:".concat(s.width/2,"px;")+"margin-top:".concat(s.height/2,"px;")+"max-width:none!important;position:absolute;width:0;",this.initImage(function(){Ce(o,V,i.movable),Ce(o,k,i.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,ue(i.viewed)&&xe(t,Y,i.viewed,{once:!0}),Ve(t,Y,{originalImage:e.images[a],index:a,image:o})})})},loadImage:function(e){var t=e.target,i=t.parentNode,o=i.offsetWidth||30,a=i.offsetHeight||50,s=!!Fe(t,"filled");Oe(t,function(e,i){var r=e/i,n=o,l=a;a*r>o?s?n=a*r:l=o/r:s?l=o/r:n=a*r,pe(t,he({width:n,height:l},Pe({translateX:(o-n)/2,translateY:(a-l)/2})))})},keydown:function(e){var t=this.options;if(this.fulled&&t.keyboard)switch(e.keyCode||e.which||e.charCode){case 27:this.played?this.stop():t.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(t.loop);break;case 38:e.preventDefault(),this.zoom(t.zoomRatio,!0);break;case 39:this.next(t.loop);break;case 40:e.preventDefault(),this.zoom(-t.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break;default:}},dragstart:function(e){"img"===e.target.tagName.toLowerCase()&&e.preventDefault()},pointerdown:function(e){var t=this.options,i=this.pointers,o=e.buttons,a=e.button;if(!(!this.viewed||this.showing||this.viewing||this.hiding||se(o)&&1!==o||se(a)&&0!==a||e.ctrlKey)){e.preventDefault(),e.changedTouches?de(e.changedTouches,function(e){i[e.identifier]=Ne(e)}):i[e.pointerId||0]=Ne(e);var s=!!t.movable&&d;Object.keys(i).length>1?s=m:"touch"!==e.pointerType&&"touchstart"!==e.type||!this.isSwitchable()||(s=h),!t.transition||s!==d&&s!==m||ye(this.image,k),this.action=s}},pointermove:function(e){var t=this.pointers,i=this.action;this.viewed&&i&&(e.preventDefault(),e.changedTouches?de(e.changedTouches,function(e){he(t[e.identifier]||{},Ne(e,!0))}):he(t[e.pointerId||0]||{},Ne(e,!0)),this.change(e))},pointerup:function(e){var t,i=this,o=this.options,a=this.action,s=this.pointers;e.changedTouches?de(e.changedTouches,function(e){t=s[e.identifier],delete s[e.identifier]}):(t=s[e.pointerId||0],delete s[e.pointerId||0]),a&&(e.preventDefault(),!o.transition||a!==d&&a!==m||ve(this.image,k),this.action=!1,l&&a!==m&&t&&Date.now()-t.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),o.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){Ve(i.image,O)},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){i.imageClicked=!1},500)):(this.imageClicked=!1,o.backdrop&&"static"!==o.backdrop&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){Ve(i.canvas,D)},50)))))},resize:function(){var e=this;if(this.isShown&&!this.hiding&&(this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))return void this.stop();de(this.player.getElementsByTagName("img"),function(t){xe(t,U,e.loadImage.bind(e),{once:!0}),Ve(t,U)})}},wheel:function(e){var t=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50);var i=Number(this.options.zoomRatio)||.1,o=1;e.deltaY?o=e.deltaY>0?1:-1:e.wheelDelta?o=-e.wheelDelta/120:e.detail&&(o=e.detail>0?1:-1),this.zoom(-o*i,!0,e)}}},He={show:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.element,i=this.options;if(i.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(ue(i.show)&&xe(t,J,i.show,{once:!0}),!1===Ve(t,J)||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var o=this.viewer;if(ye(o,w),i.transition&&!e){var a=this.shown.bind(this);this.transitioning={abort:function(){_e(o,W,a),ye(o,S)}},ve(o,k),o.offsetWidth,xe(o,W,a,{once:!0}),ve(o,S)}else ve(o,S),this.shown();return this},hide:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.element,i=this.options;if(i.inline||this.hiding||!this.isShown&&!this.showing)return this;if(ue(i.hide)&&xe(t,N,i.hide,{once:!0}),!1===Ve(t,N))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var o=this.viewer;if(i.transition&&!e){var a=this.hidden.bind(this),s=function(){setTimeout(function(){xe(o,W,a,{once:!0}),ye(o,S)},0)};this.transitioning={abort:function(){this.viewed?_e(this.image,W,s):_e(o,W,a)}},this.viewed&&ge(this.image,k)?(xe(this.image,W,s,{once:!0}),this.zoomTo(0,!1,!1,!0)):s()}else ye(o,S),this.hidden();return this},view:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(t=Number(t)||0,!this.isShown)return this.index=t,this.show();if(this.hiding||this.played||t<0||t>=this.length||this.viewed&&t===this.index)return this;this.viewing&&this.viewing.abort();var i=this.element,o=this.options,a=this.title,s=this.canvas,r=this.items[t],n=r.querySelector("img"),l=Fe(n,"originalUrl"),c=fe(n.getAttribute("alt")),u=document.createElement("img");if(u.src=l,u.alt=c,ue(o.view)&&xe(i,Q,o.view,{once:!0}),!1===Ve(i,Q,{originalImage:this.images[t],index:t,image:u})||!this.isShown||this.hiding||this.played)return this;this.image=u,ye(this.items[this.index],p),ve(r,p),this.viewed=!1,this.index=t,this.imageData={},ve(u,_),o.loading&&ve(s,x),s.innerHTML="",s.appendChild(u),this.renderList(),a.innerHTML="";var d,h=function(){var t=e.imageData,i=Array.isArray(o.title)?o.title[1]:o.title;a.innerHTML=fe(ue(i)?i.call(e,u,t):"".concat(c," (").concat(t.naturalWidth," × ").concat(t.naturalHeight,")"))};return xe(i,Y,h,{once:!0}),this.viewing={abort:function(){_e(i,Y,h),u.complete?this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort():(u.src="",_e(u,U,d),this.timeout&&clearTimeout(this.timeout))}},u.complete?this.load():(xe(u,U,d=this.load.bind(this),{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){ye(u,_),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.index-1;return t<0&&(t=e?this.length-1:0),this.view(t),this},next:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.length-1,i=this.index+1;return i>t&&(i=e?0:t),this.view(i),this},move:function(e,t){var i=this.imageData;return this.moveTo(re(e)?e:i.left+Number(e),re(t)?t:i.top+Number(t)),this},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.imageData;if(e=Number(e),t=Number(t),this.viewed&&!this.played&&this.options.movable){var o=!1;se(e)&&(i.left=e,o=!0),se(t)&&(i.top=t,o=!0),o&&this.renderImage()}return this},zoom:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.imageData;return e=Number(e),e=e<0?1/(1-e):1+e,this.zoomTo(o.width*e/o.naturalWidth,t,i),this},zoomTo:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=this.element,r=this.options,n=this.pointers,l=this.imageData,c=l.width,u=l.height,d=l.left,h=l.top,m=l.naturalWidth,p=l.naturalHeight;if(e=Math.max(0,e),se(e)&&this.viewed&&!this.played&&(a||r.zoomable)){if(!a){var f=Math.max(.01,r.minZoomRatio),g=Math.min(100,r.maxZoomRatio);e=Math.min(Math.max(e,f),g)}o&&e>.95&&e<1.05&&(e=1);var v=m*e,y=p*e,C=v-c,w=y-u,I=c/m;if(ue(r.zoom)&&xe(s,Z,r.zoom,{once:!0}),!1===Ve(s,Z,{ratio:e,oldRatio:I,originalEvent:o}))return this;if(this.zooming=!0,o){var F=Te(this.viewer),b=n&&Object.keys(n).length?Ee(n):{pageX:o.pageX,pageY:o.pageY};l.left-=C*((b.pageX-F.left-d)/c),l.top-=w*((b.pageY-F.top-h)/u)}else l.left-=C/2,l.top-=w/2;l.width=v,l.height=y,l.ratio=e,this.renderImage(function(){t.zooming=!1,ue(r.zoomed)&&xe(s,K,r.zoomed,{once:!0}),Ve(s,K,{ratio:e,oldRatio:I,originalEvent:o})}),i&&this.tooltip()}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var t=this.imageData;return e=Number(e),se(e)&&this.viewed&&!this.played&&this.options.rotatable&&(t.rotate=e,this.renderImage()),this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.imageData;if(e=Number(e),t=Number(t),this.viewed&&!this.played&&this.options.scalable){var o=!1;se(e)&&(i.scaleX=e,o=!0),se(t)&&(i.scaleY=t,o=!0),o&&this.renderImage()}return this},play:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var i=this.options,o=this.player,a=this.loadImage.bind(this),s=[],r=0,n=0;if(this.played=!0,this.onLoadWhenPlay=a,t&&this.requestFullscreen(),ve(o,P),de(this.items,function(e,t){var l=e.querySelector("img"),c=document.createElement("img");c.src=Fe(l,"originalUrl"),c.alt=fe(l.getAttribute("alt")),r+=1,ve(c,g),Ce(c,k,i.transition),ge(e,p)&&(ve(c,S),n=t),s.push(c),xe(c,U,a,{once:!0}),o.appendChild(c)}),se(i.interval)&&i.interval>0){var l=function t(){e.playing=setTimeout(function(){ye(s[n],S),n+=1,n=n<r?n:0,ve(s[n],S),t()},i.interval)};r>1&&l()}return this},stop:function(){var e=this;if(!this.played)return this;var t=this.player;return this.played=!1,clearTimeout(this.playing),de(t.getElementsByTagName("img"),function(t){_e(t,U,e.onLoadWhenPlay)}),ye(t,P),t.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,t=this.options,i=this.viewer,o=this.image,a=this.list;return!this.isShown||this.played||this.fulled||!t.inline?this:(this.fulled=!0,this.open(),ve(this.button,C),t.transition&&(ye(a,k),this.viewed&&ye(o,k)),ve(i,v),i.setAttribute("style",""),pe(i,{zIndex:t.zIndex}),this.initContainer(),this.viewerData=he({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){ve(o,k),ve(a,k)},0)})}),this)},exit:function(){var e=this,t=this.options,i=this.viewer,o=this.image,a=this.list;return this.isShown&&!this.played&&this.fulled&&t.inline?(this.fulled=!1,this.close(),ye(this.button,C),t.transition&&(ye(a,k),this.viewed&&ye(o,k)),ye(i,v),pe(i,{zIndex:t.zIndexInline}),this.viewerData=he({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){ve(o,k),ve(a,k)},0)})}),this):this},tooltip:function(){var e=this,t=this.options,i=this.tooltipBox,o=this.imageData;return this.viewed&&!this.played&&t.tooltip?(i.textContent="".concat(Math.round(100*o.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):t.transition?(this.fading&&Ve(i,W),ve(i,P),ve(i,g),ve(i,k),i.offsetWidth,ve(i,S)):ve(i,P),this.tooltipping=setTimeout(function(){t.transition?(xe(i,W,function(){ye(i,P),ye(i,g),ye(i,k),e.fading=!1},{once:!0}),ye(i,S),e.fading=!0):ye(i,P),e.tooltipping=!1},1e3),this):this},toggle:function(){return 1===this.imageData.ratio?this.zoomTo(this.initialImageData.ratio,!0):this.zoomTo(1,!0),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=he({},this.initialImageData),this.renderImage()),this},update:function(){var e=this.element,t=this.options,i=this.isImg;if(i&&!e.parentNode)return this.destroy();var o=[];if(de(i?[e]:e.querySelectorAll("img"),function(e){t.filter?t.filter(e)&&o.push(e):o.push(e)}),!o.length)return this;if(this.images=o,this.length=o.length,this.ready){var a=[];if(de(this.items,function(e,t){var i=e.querySelector("img"),s=o[t];s?s.src!==i.src&&a.push(t):a.push(t)}),pe(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var s=a.indexOf(this.index);s>=0?(this.viewed=!1,this.view(Math.max(this.index-(s+1),0))):ve(this.items[this.index],p)}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,t=this.options;return e[u]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),t.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):t.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),t.inline||_e(e,D,this.onStart),e[u]=void 0,this):this}},je={open:function(){var e=this.body;ve(e,T),e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyPaddingRight)||0),"px")},close:function(){var e=this.body;ye(e,T),e.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var e=this.element,t=this.options;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,ue(t.shown)&&xe(e,G,t.shown,{once:!0}),!1!==Ve(e,G)&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,t=this.options;this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),ve(this.viewer,w),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(ue(t.hidden)&&xe(e,R,t.hidden,{once:!0}),Ve(e,R))},requestFullscreen:function(){var e=this.element.ownerDocument;if(this.fulled&&!(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)){var t=e.documentElement;t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var t=this.options,i=this.pointers,o=i[Object.keys(i)[0]],a=o.endX-o.startX,s=o.endY-o.startY;switch(this.action){case d:this.move(a,s);break;case m:this.zoom(Re(i),!1,e);break;case h:this.action="switched";var r=Math.abs(a);r>1&&r>Math.abs(s)&&(this.pointers={},a>1?this.prev(t.loop):a<-1&&this.next(t.loop));break;default:}de(i,function(e){e.startX=e.endX,e.startY=e.endY})},isSwitchable:function(){var e=this.imageData,t=this.viewerData;return this.length>1&&e.left>=0&&e.top>=0&&e.width<=t.width&&e.height<=t.height}},qe=n.Viewer,$e=function(){function e(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,e),!i||1!==i.nodeType)throw new Error("The first argument is required and must be an element.");this.element=i,this.options=he({},a,ce(o)&&o),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.init()}return o(e,[{key:"init",value:function(){var e=this,t=this.element,i=this.options;if(!t[u]){t[u]=this;var o="img"===t.tagName.toLowerCase(),a=[];de(o?[t]:t.querySelectorAll("img"),function(t){ue(i.filter)?i.filter.call(e,t)&&a.push(t):a.push(t)}),this.isImg=o,this.length=a.length,this.images=a;var s=t.ownerDocument,r=s.body||s.documentElement;if(this.body=r,this.scrollbarWidth=window.innerWidth-s.documentElement.clientWidth,this.initialBodyPaddingRight=window.getComputedStyle(r).paddingRight,re(document.createElement(u).style.transition)&&(i.transition=!1),i.inline){var n=0,l=function(){var t;(n+=1,n===e.length)&&(e.initializing=!1,e.delaying={abort:function(){clearTimeout(t)}},t=setTimeout(function(){e.delaying=!1,e.build()},0))};this.initializing={abort:function(){de(a,function(e){e.complete||_e(e,U,l)})}},de(a,function(e){e.complete?l():xe(e,U,l,{once:!0})})}else xe(t,D,this.onStart=function(t){var o=t.target;"img"!==o.tagName.toLowerCase()||ue(i.filter)&&!i.filter.call(e,o)||e.view(e.images.indexOf(o))})}}},{key:"build",value:function(){if(!this.ready){var e=this.element,t=this.options,i=e.parentNode,o=document.createElement("div");o.innerHTML=s;var a=o.querySelector(".".concat(u,"-container")),r=a.querySelector(".".concat(u,"-title")),n=a.querySelector(".".concat(u,"-toolbar")),l=a.querySelector(".".concat(u,"-navbar")),c=a.querySelector(".".concat(u,"-button")),d=a.querySelector(".".concat(u,"-canvas"));if(this.parent=i,this.viewer=a,this.title=r,this.toolbar=n,this.navbar=l,this.button=c,this.canvas=d,this.footer=a.querySelector(".".concat(u,"-footer")),this.tooltipBox=a.querySelector(".".concat(u,"-tooltip")),this.player=a.querySelector(".".concat(u,"-player")),this.list=a.querySelector(".".concat(u,"-list")),ve(r,t.title?Ae(Array.isArray(t.title)?t.title[0]:t.title):w),ve(l,t.navbar?Ae(t.navbar):w),Ce(c,w,!t.button),t.backdrop&&(ve(a,"".concat(u,"-backdrop")),t.inline||"static"===t.backdrop||be(d,ee,"hide")),oe(t.className)&&t.className&&t.className.split(te).forEach(function(e){ve(a,e)}),t.toolbar){var h=document.createElement("ul"),m=ce(t.toolbar),p=ie.slice(0,3),C=ie.slice(7,9),I=ie.slice(9);m||ve(n,Ae(t.toolbar)),de(m?t.toolbar:ie,function(e,i){var o=m&&ce(e),a=m?Ie(i):e,s=o&&!re(e.show)?e.show:e;if(s&&(t.zoomable||-1===p.indexOf(a))&&(t.rotatable||-1===C.indexOf(a))&&(t.scalable||-1===I.indexOf(a))){var r=o&&!re(e.size)?e.size:e,n=o&&!re(e.click)?e.click:e,l=document.createElement("li");l.setAttribute("role","button"),ve(l,"".concat(u,"-").concat(a)),ue(n)||be(l,ee,a),se(s)&&ve(l,Ae(s)),-1!==["small","large"].indexOf(r)?ve(l,"".concat(u,"-").concat(r)):"play"===a&&ve(l,"".concat(u,"-large")),ue(n)&&xe(l,D,n),h.appendChild(l)}}),n.appendChild(h)}else ve(n,w);if(!t.rotatable){var F=n.querySelectorAll('li[class*="rotate"]');ve(F,_),de(F,function(e){n.appendChild(e)})}if(t.inline)ve(c,y),pe(a,{zIndex:t.zIndexInline}),"static"===window.getComputedStyle(i).position&&pe(i,{position:"relative"}),i.insertBefore(a,e.nextSibling);else{ve(c,f),ve(a,v),ve(a,g),ve(a,w),pe(a,{zIndex:t.zIndex});var b=t.container;oe(b)&&(b=e.ownerDocument.querySelector(b)),b||(b=this.body),b.appendChild(a)}t.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,ue(t.ready)&&xe(e,B,t.ready,{once:!0}),!1!==Ve(e,B)?this.ready&&t.inline&&this.view(this.index):this.ready=!1}}}],[{key:"noConflict",value:function(){return window.Viewer=qe,e}},{key:"setDefaults",value:function(e){he(a,ce(e)&&e)}}]),e}();return he($e.prototype,Ue,Le,Me,He,je),$e})},c8bb:function(e,t,i){e.exports=i("54a1")},cd78:function(e,t,i){var o=i("e4ae"),a=i("f772"),s=i("656e");e.exports=function(e,t){if(o(e),a(t)&&t.constructor===e)return t;var i=s.f(e),r=i.resolve;return r(t),i.promise}},cf08:function(e,t,i){"use strict";var o=i("3da9"),a=i.n(o);a.a},d2d5:function(e,t,i){i("1654"),i("549b"),e.exports=i("584a").Array.from},d947:function(e,t,i){},e1a1:function(e,t,i){},e2cf:function(e,t,i){"use strict";var o=i("8d2d"),a=i.n(o);a.a},e8042:function(e,t,i){"use strict";var o=i("e1a1"),a=i.n(o);a.a},ec63:function(e,t,i){},f201:function(e,t,i){var o=i("e4ae"),a=i("79aa"),s=i("5168")("species");e.exports=function(e,t){var i,r=o(e).constructor;return void 0===r||void 0==(i=o(r)[s])?t:a(i)}},f20f:function(e,t,i){"use strict";var o=i("f9c6"),a=i.n(o);a.a},f410:function(e,t,i){i("1af6"),e.exports=i("584a").Array.isArray},f4c4:function(e,t,i){},f96d:function(e,t,i){},f9c6:function(e,t,i){},fdfd:function(e,t,i){"use strict";var o=i("ec63"),a=i.n(o);a.a},ff63:function(e,t,i){"use strict";var o=i("7f08"),a=i.n(o);a.a},fff9:function(e,t,i){}}]);
//# sourceMappingURL=createunithouse.12154d74.js.map